(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{779:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ticketing-manager"},[e("v-btn",{staticClass:"mx-0",attrs:{large:"",block:""},on:{click:this.showModal}},[e("span",[this._v(this._s(this.selectionSummary))])])],1)};n._withStripped=!0;var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("flex-column",{staticClass:"modal-size",staticStyle:{"max-width":"400px"}},[s("flex-column-header",{staticClass:"border-bottom"},[s("page-header",{attrs:{type:"ticket"},scopedSlots:t._u([{key:"left",fn:function(){return[s("div",[s("h3",[t._v(t._s(t.field.title)+" "),s("span",{staticClass:"small text-muted"},[t._v("Tickets")])]),t._v(" "),s("div",{staticClass:"sm muted"},[t._v("Create tickets for specific events for each "+t._s(t.field.title)+" entry")])])]},proxy:!0},{key:"right",fn:function(){return[s("v-btn",{staticClass:"ma-0",on:{click:function(e){return t.close()}}},[t._v("\n            \t\tClose\n            \t")])]},proxy:!0}])})],1),t._v(" "),s("flex-column-body",t._l(t.model,(function(e,n){return s("v-container",{staticClass:"border-bottom",attrs:{fluid:"","py-2":""}},[s("v-layout",{attrs:{"align-center":""}},[s("v-flex",{attrs:{xs3:""}},[s("fluro-icon",{attrs:{left:"",library:"fas",type:"ticket"}}),t._v(" "),s("strong",[t._v(t._s(e.title))])],1),t._v(" "),s("v-flex",[s("v-layout",{attrs:{"align-center":""}},[s("v-flex",{attrs:{shrink:""}},[s("fluro-realm-dots",{attrs:{realms:e.event.realms}})],1),t._v(" "),e.event?s("v-flex",[s("strong",[t._v(t._s(e.event.title))]),t._v(" "),s("div",{staticClass:"sm muted"},[t._v(t._s(e.event.firstLine)+" "+t._s(t._f("readableEventDate")(e.event)))])]):t._e()],1)],1),t._v(" "),s("v-flex",{attrs:{shrink:""}},[s("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0 mr-1",attrs:{small:"",content:"More",icon:""},on:{click:function(e){return t.toggleExpanded(n)}}},[s("fluro-icon",{attrs:{icon:e.expanded?"angle-down":"angle-up"}})],1),t._v(" "),s("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",content:"Remove",icon:""},on:{click:function(e){return t.removeEntry(n)}}},[s("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)],1)})),1),t._v(" "),s("flex-column-footer",{staticClass:"border-top"},[s("v-container",{staticStyle:{background:"#fafafa"},attrs:{fluid:"","grid-list-sm":""}},[s("fluro-content-form",{attrs:{fields:t.fields},scopedSlots:t._u([{key:"form",fn:function(e){e.formFields;var n=e.fieldHash,i=e.model;e.update,e.options;return[s("v-layout",[s("v-flex",{attrs:{xs5:""}},[s("fluro-content-form-field",{attrs:{field:n.title},model:{value:i,callback:function(t){i=t},expression:"model"}})],1),t._v(" "),s("v-flex",{attrs:{xs5:""}},[s("fluro-content-form-field",{attrs:{field:n.event},model:{value:i,callback:function(t){i=t},expression:"model"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:""}},[s("v-btn",{attrs:{block:"",small:"",color:"primary"},on:{click:t.add}},[t._v("\n                                Add\n                                "),s("fluro-icon",{attrs:{icon:"plus"}})],1)],1)],1)]}}]),model:{value:t.proposed,callback:function(e){t.proposed=e},expression:"proposed"}})],1)],1)],1)};i._withStripped=!0;var l=s(5),o=s(10),a=s(11),r=s(37),d={props:{options:{type:Object,default:()=>({})}},data:()=>({proposed:{title:"Standard",event:null}}),methods:{toggleExpanded(t){this.$set(this.model[t],"expanded",!this.model[t].expanded)},removeEntry(t){this.model.splice(t,1)},add(){var t=JSON.parse(JSON.stringify(this.proposed));this.model.push(t),this.$set(this,"proposed",{title:"Standard",event:null})}},computed:{model(){return this.options.model},field(){return this.options.field},fields(){var t=[];function e(e,s){s.key||(s.key=e),t.push(s)}return e("title",{title:"Ticket Title",description:"What kind of ticket? Eg. Adult, VIP, Kids",minimum:1,maximum:1,type:"string",expressions:{defaultValue:()=>"Standard"}}),e("event",{title:"Events",description:"What events should tickets be created for?",minimum:1,maximum:1,type:"reference",directive:"",params:{restrictType:"event"}}),t}},components:{FluroRealmDots:r.a,FluroContentFormField:a.default,FluroContentForm:o.default},mixins:[l.a]},c=s(0),u=Object(c.a)(d,i,[],!1,null,null,null);u.options.__file="src/components/fields/AdvancedTicketingOptionsModal.vue";var m=u.exports,p={props:{field:{type:Object},value:{type:Array,default:()=>[]}},data(){return{model:this.value}},methods:{showModal(){this.$fluro.modal({component:m,options:{field:this.field,model:this.model}})}},computed:{selectionSummary(){return this.model&&this.model.length?_.map(this.model,(function(t){return`${t.title} - ${t.event.title}`})).join(", "):"Advanced Ticket Options"}},watch:{}},f=Object(c.a)(p,n,[],!1,null,null,null);f.options.__file="src/components/fields/TicketingManager.vue";e.default=f.exports}}]);