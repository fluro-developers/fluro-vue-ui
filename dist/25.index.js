(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{470:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("flex-column",[e.loading?[o("fluro-page-preloader",{attrs:{contain:""}})]:[o("flex-column-body",{staticStyle:{background:"#fafafa"}},[o("v-container",{attrs:{fluid:""}},[o("constrain",{attrs:{sm:""}},[o("fluro-content-form-field",{attrs:{"form-fields":e.formFields,outline:e.showOutline,options:e.options,field:e.fieldHash.title},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("fluro-content-form-field",{attrs:{"form-fields":e.formFields,outline:e.showOutline,options:e.options,field:e.fieldHash.event},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("fluro-content-form-field",{attrs:{"form-fields":e.formFields,outline:e.showOutline,options:e.options,field:e.fieldHash.count},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),o("br",{staticClass:"mt-3 mb-5"}),e._v(" "),o("h4",{staticClass:"ml-3"},[e._v("Area Counts")]),e._v(" "),o("p",{staticClass:"ml-3"},[e._v("Add counts for individual rooms/areas")]),e._v(" "),o("area-count-manager",{model:{value:e.model.areas,callback:function(t){e.$set(e.model,"areas",t)},expression:"model.areas"}}),e._v(" "),o("br",{staticClass:"my-4"}),e._v(" "),o("fluro-content-form-field",{attrs:{"form-fields":e.formFields,outline:e.showOutline,options:e.options,field:e.fieldHash.body},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),e.definition&&e.definition.fields&&e.definition.fields.length?[o("br",{staticClass:"mt-3 mb-4"}),e._v(" "),o("h2",[e._v(e._s(e.definition.title+" Information"))]),e._v(" "),o("fluro-content-form",{attrs:{options:e.options,fields:e.definition.fields},model:{value:e.model.data,callback:function(t){e.$set(e.model,"data",t)},expression:"model.data"}})]:e._e()],2)],1)],1)]],2)};n._withStripped=!0;var i=o(512),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("list-group",e._l(e.model,(function(t,n){return o("list-group-item",{key:JSON.stringify(t),staticClass:"pa-3"},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("fluro-content-form",{ref:"form",refInFor:!0,attrs:{fields:e.fields},model:{value:e.model[n],callback:function(t){e.$set(e.model,n,t)},expression:"model[index]"}})],1),e._v(" "),o("v-flex",{staticClass:"ml-3",attrs:{shrink:""}},[o("fluro-confirm-button",{attrs:{content:"Remove"},on:{click:function(t){return e.remove(n)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.confirming;return[o("v-btn",{staticStyle:{transition:"all 0.1s",width:"100%"},attrs:{flat:"",block:"",color:n?"red":""}},[e._v(e._s(n?"Confirm?":"Remove"))])]}}],null,!0)})],1)],1)],1)})),1),e._v(" "),o("fluro-panel",[o("fluro-panel-title",[e._v("Add an Area Count")]),e._v(" "),o("fluro-panel-body",[o("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.add()}}},[o("v-layout",[o("v-flex",[o("fluro-content-form",{ref:"form",attrs:{fields:e.fields},model:{value:e.proposed,callback:function(t){e.proposed=t},expression:"proposed"}})],1),e._v(" "),o("v-flex",{attrs:{shrink:""}},[o("v-btn",{attrs:{type:"submit",color:"primary",disabled:e.disableAdd},on:{click:function(t){return e.add()}}},[e._v("Add")])],1)],1)],1)])],1)],1)};l._withStripped=!0;var r={props:{value:{type:Array,default:function(){return[]}}},components:{FluroContentForm:()=>Promise.resolve().then(o.bind(null,10)),FluroConfirmButton:()=>Promise.resolve().then(o.bind(null,174)),draggable:()=>Promise.resolve().then(o.t.bind(null,511,7))},data(){return{model:this.value,proposed:{},dragOptions:{},drag:!1}},methods:{add(){var e=JSON.parse(JSON.stringify(this.proposed));e.name&&e.name.length&&e.count&&!(e.count<0)&&(delete e.row,this.model.push(e),this.proposed={})},remove(e){this.model.splice(e,1)}},computed:{fields(){var e,t=[];return(e={type:"group",sameLine:!0,fields:[{title:"Area Name",minimum:1,maximum:1,type:"string",key:"name"},{title:"Count",minimum:1,maximum:1,type:"number",key:"count"}]}).key="row",t.push(e),t},disableAdd(){return!this.proposed.name||!this.proposed.name.length||!this.proposed.count||this.proposed.count<0}}},s=(o(653),o(0)),a=Object(s.a)(r,l,[],!1,null,null,null);a.options.__file="src/components/content/edit/components/AreaCountManager.vue";var d=a.exports,u=(o(7),{components:{AreaCountManager:d},created(){},mixins:[i.a],computed:{fieldsOutput(){var e=[];function t(t,o){o.key=t,e.push(o)}return t("title",{title:"Title",minimum:0,maximum:1,type:"string",placeholder:"Optional Title"}),t("event",{title:"Event",minimum:1,maximum:1,type:"reference",params:{restrictType:"event"}}),t("count",{title:"Event Total",description:"Number of people counted in total for this event",minimum:0,maximum:1,type:"number"}),t("body",{title:"Information, Notes and Comments",minimum:0,maximum:1,type:"string",directive:"wysiwyg"}),e}},methods:{toggleAutoGraduate(){this.model.autoGraduate?this.model.autoGraduate=!1:this.model.autoGraduate=!0}},data:()=>({})}),m=(o(655),Object(s.a)(u,n,[],!1,null,null,null));m.options.__file="src/components/content/edit/panels/attendance.vue";t.default=m.exports},512:function(e,t,o){"use strict";var n=o(10);t.a={props:{config:{type:Object,required:!0},context:{type:String,default:"new"}},data:()=>({loading:!1}),mounted(){this.$set(this.model,"_type",this.config.type.definitionName)},extends:n.default,components:{FluroContentForm:n.default,FluroContentFormField:()=>Promise.resolve().then(o.bind(null,11)),FluroPrivacySelect:()=>o.e(54).then(o.bind(null,513))},computed:{type(){return this.config.type},typeName(){return this.type?this.type.definitionName:""},itemID(){return this.model._id},definition(){return this.config.definition},definedFields(){return this.definition&&this.definition.fields&&this.definition.fields.length?this.definition.fields:[]},readableContentType(){return this.$fluro.types.readable(this.config.definition?this.config.definition.definitionName:this.config.type.definitionName)},fullBody(){return this.definition&&this.definition.data&&this.definition.data.fullBody},hideBody(){return this.definition&&this.definition.data&&this.definition.data.hideBody},titleLabel:()=>"Title",bodyLabel:()=>"Body"},methods:{}}},547:function(e,t,o){var n=o(654);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o(3).default)("46e0c470",n,!1,{})},548:function(e,t,o){var n=o(656);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o(3).default)("5617134b",n,!1,{})},653:function(e,t,o){"use strict";var n=o(547);o.n(n).a},654:function(e,t,o){(e.exports=o(2)(!1)).push([e.i,".ghost-dragging-class{opacity:0.5;background:#c8ebfb}\n",""])},655:function(e,t,o){"use strict";var n=o(548);o.n(n).a},656:function(e,t,o){(e.exports=o(2)(!1)).push([e.i,".no-border-no-background .toggle-item{border:none !important;background:none !important;font-size:14px;padding:0px}\n",""])}}]);