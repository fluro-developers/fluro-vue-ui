!function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,s=1;s<i.length;s++){var l=i[s];0!==r[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={6:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=r[t]=[e,n]}));e.push(i[2]=n);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+""+t+".index.js"}(t);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(c);var i=r[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}r[t]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([756,7]),i()}([,,,function(t,e){t.exports=lodash},,,,,,,,,,,,,,,,function(t,e){t.exports=fluro},,,,,,function(t,e){t.exports=vue},,,function(t,e,i){"use strict";e.a={props:{options:{type:Object,default:function(){return{}}}},methods:{dismiss:function(){this.$emit("dismiss")},close:function(t){this.$emit("close",t)}}}},,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-content-form"},[t._t("form",[t._l(t.fields,(function(e){return[i("v-container",{staticClass:"grid-list-lg",attrs:{fluid:"","pa-0":""}},[i("fluro-content-form-field",{attrs:{debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,context:t.context,parent:t.formModel,outline:t.showOutline,"form-fields":t.formFields,options:t.options,field:e},on:{input:t.update},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]}))],{parent:t.formModel,context:t.context,formFields:t.formFields,fieldHash:t.fieldHash,model:t.model,update:t.update,options:t.options})],2)};n._withStripped=!0;i(12),i(21),i(31),i(24),i(13),i(17);var r=i(60),a=i(3),o=i.n(a),s=i(25),l=i.n(s),c={props:{contextField:{type:Object},recursiveClick:{type:Function},debugMode:{type:Boolean},debounce:{type:Number,default:0},disableDefaults:{type:Boolean},dynamic:{type:Boolean},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},parent:{type:Object},fields:{type:Array},value:{type:Object},formFields:{default:function(){return[]},type:Array},options:{default:function(){return{}},type:Object},outline:{type:Boolean}},computed:{fieldsOutput:function(){return this.fields},formModel:function(){return this.parent||this.model},showOutline:function(){return this.outline||this.options.outline},errorMessages:function(){return o.a.chain(this.formFields).filter((function(t){return t.errorMessages.length})).map((function(t){return{title:t.errorTitle,messages:t.errorMessages}})).value()},fieldHash:function(){return o.a.reduce(this.fieldsOutput,(function(t,e){return t[e.key]=e,t}),{})}},data:function(){return{model:this.value}},components:{FluroContentFormField:r.default},watch:{value:function(t){return this.$set(this,"model",t),this.reset()},fields:function(t){return this.reset()},errorMessages:function(t){this.$emit("errorMessages",t)}},created:function(){this.reset()},methods:{touch:function(){o.a.each(this.formFields,(function(t){t.touch&&t.touch()}))},reset:function(){var t=this;t.formFields.forEach((function(t){t.reset()})),t.disableDefaults||(t.fieldsOutput||[]).forEach((function e(i){var n=o.a.get(t.model,i.key);if(n)return void l.a.set(t.model,i.key,n);var r=t.$fluro.utils.getDefaultValueForField(i);"date"==i.type&&"now"==r&&(r=new Date);"group"!=i.type||i.asObject||(i.fieldsOutput||[]).forEach(e);l.a.set(t.model,i.key,r)})),t.$emit("default")},update:function(t,e){this.model=t,this.$emit("input",this.model)},dispatch:function(){this.$emit("input",this.model)}}},u=(i(604),i(0)),d=Object(u.a)(c,n,[],!1,null,"2b3e3a7c",null);d.options.__file="src/components/form/FluroContentForm.vue";e.default=d.exports},,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVisible?i("div",t._b({staticClass:"fluro-content-form-field",class:t.fieldClass,attrs:{"data-field-key":t.key},on:{click:function(e){return t.clicked(e)}}},"div",t.attributes,!1),[t.officeUseOnly?void 0:t.customComponent?[i(t.customComponent,{tag:"component",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"dynamicdate"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:t.displayLabel,"persistent-hint":!0,hint:t.dynamicDateHint}},[i("div",{staticStyle:{margin:"10px 0"}},[i("v-btn-toggle",{model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}},[i("v-btn",{attrs:{flat:"",value:null}},[t._v("\n                        None\n                    ")]),t._v(" "),i("v-btn",{attrs:{flat:"",value:"DATE_NOW"}},[t._v("\n                        Dynamic Date\n                    ")]),t._v(" "),i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{flat:"",value:t.currentDateOrToday}},n),[t._v("\n                                Specific Date\n                            ")])]}}],null,!1,599550346),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),i("v-card",[i("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{change:function(e){t.modal=!1}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Done")])],1)],1)],1)],1)],1)])]:"custom"==t.renderer?[i("fluro-compile-html",{attrs:{template:t.customTemplate,context:t.customContext}})]:"embedded"==t.renderer?[1==t.field.maximum?[i("fluro-content-form",{attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,fields:t.fields},on:{input:t.valueChange},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:t._e(),t._v(" "),1!=t.field.maximum?[t._l(t.fieldModel,(function(e,n){return[i("v-card",[i("v-toolbar",{staticClass:"elevation-0"},[i("v-toolbar-title",{staticClass:"hidden-xs"},[t._v(t._s(t.groupTitle(e,n)))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-toolbar-items",[t.canRemoveValue?i("v-btn",{attrs:{icon:"",small:"",flat:"",color:"error"},on:{click:function(e){return t.removeValue(n)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):t._e()],1)],1),t._v(" "),i("v-card-text",[i("fluro-content-form",{attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,fields:t.fields},on:{input:t.valueChange},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})],1)],1)]})),t._v(" "),t.fieldModel&&t.fieldModel.length?[t.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(e){return t.addValue({})}}},[t._v("\n                    "+t._s(t.addLabel)+"\n                ")]):t._e()]:[t.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(e){return t.addValue({})}}},[t._v("\n                    "+t._s(t.addLabel)+"\n                ")]):t._e()]]:t._e()]:"group"==t.renderer?[t.asObject?[1==t.field.maximum?[i("fluro-content-form",{attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,fields:t.fields},on:{input:t.valueChange},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:[t._l(t.fieldModel,(function(e,n){return[i("v-card",[i("v-toolbar",{staticClass:"elevation-0"},[i("v-toolbar-title",{staticClass:"hidden-xs"},[t._v(t._s(t.groupTitle(e,n)))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-toolbar-items",[t.canRemoveValue?i("v-btn",{attrs:{small:"",icon:"",flat:"",color:"error"},on:{click:function(e){return t.removeValue(n)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):t._e()],1)],1),t._v(" "),i("v-card-text",[i("fluro-content-form",{attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,fields:t.fields},on:{input:t.valueChange},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})],1)],1)]})),t._v(" "),t.fieldModel&&t.fieldModel.length?[t.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(e){return t.addValue({})}}},[t._v("\n                        "+t._s(t.addLabel)+"\n                    ")]):t._e()]:[t.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(e){return t.addValue({})}}},[t._v("\n                        "+t._s(t.addLabel)+"\n                    ")]):t._e()]]]:[t.field.sameLine?[i("v-layout",{staticClass:"same-line",attrs:{row:""}},[t._l(t.fields,(function(e){return[i("fluro-content-form-field",{staticClass:"flex",attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,field:e},on:{input:t.valueChange},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}))],2)]:[t._l(t.fields,(function(e){return[i("fluro-content-form-field",{staticClass:"flex",attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,disableDefaults:t.disableDefaults,dynamic:t.dynamic,parent:t.formModel,"form-fields":t.formFields,options:t.options,field:e},on:{input:t.valueChange},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}))]]]:"checkbox"==t.renderer?[t.savedTerms?i("div",{staticClass:"terms",class:{"has-error":t.errorMessages.length}},[i("v-checkbox",{attrs:{outline:t.showOutline,success:t.success,mandatory:t.required,"persistent-hint":!0,label:t.displayLabel,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{change:function(e){return t.valueChange(e,!0)}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}}),t._v(" "),i("div",{staticClass:"conditions"},[t._v(t._s(t.field.params.storeData))])],1):[i("v-checkbox",{attrs:{outline:t.showOutline,success:t.success,mandatory:t.required,"persistent-hint":!0,label:t.displayLabel,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{change:function(e){return t.valueChange(e,!0)}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:"number"==t.renderer?[i("v-text-field",{attrs:{"persistent-hint":t.persistentDescription,suffix:t.suffix,prefix:t.prefix,outline:t.showOutline,success:t.success,required:t.required,pattern:"^-?(\\d*\\.)?\\d+$;",label:t.displayLabel,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"realmselect"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{"persistent-hint":!0,label:t.displayLabel,success:t.success,required:t.required,"error-messages":t.errorMessages,hint:t.field.description}},[i("fluro-realm-select",{attrs:{block:"",type:"collection"},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)]:"datepicker"==t.renderer?[i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-text-field",t._g({attrs:{outline:t.showOutline,success:t.success,value:t.formattedDate,"persistent-hint":!0,hint:t.dateHint,label:t.displayLabel,"prepend-inner-icon":"event",readonly:""},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}}},n))]}}],null,!1,2936903296),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),i("v-card",[i("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()},change:function(e){t.modal=!1}},model:{value:t.dateStringModel,callback:function(e){t.dateStringModel=e},expression:"dateStringModel"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Done")])],1)],1)],1)]:"timepicker"==t.renderer?[i("v-dialog",{ref:"dialog",attrs:{persistent:"","return-value":t.fieldModel,lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.fieldModel=e},"update:return-value":function(e){t.fieldModel=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-text-field",t._g({attrs:{outline:t.showOutline,success:t.success,label:t.displayLabel,"prepend-inner-icon":"access_time",readonly:""},on:{blur:function(e){return t.touch()},focus:function(e){return t.modalFocussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}},n))]}}],null,!1,799680477),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),t.modal?i("v-card",[i("v-toolbar",{attrs:{color:"primary",dark:""}},[i("v-toolbar-title",[t._v(t._s(t.displayLabel))])],1),t._v(" "),i("v-time-picker",{attrs:{attach:"","full-width":""},model:{value:t.sudoModel,callback:function(e){t.sudoModel=e},expression:"sudoModel"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.sudoModel)}}},[t._v("OK")])],1)],1):t._e()],1)]:"datetimepicker"==t.renderer?[i("fluro-date-time-picker",{attrs:{outline:t.showOutline,min:t.minDate,max:t.maxDate,success:t.success,format:"ddd D MMM - h:mma ",timePickerFormat:"ampm",label:t.displayLabel,placeholder:t.field.placeholder,hint:t.field.description},on:{blur:function(e){return t.touch()},focus:function(e){return t.modalFocussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"timezoneselect"==t.renderer?[t.mobile?[i("v-select",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.timezoneOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.timezoneOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:"countrycodeselect"==t.renderer?[t.mobile?[i("v-select",{attrs:{"persistent-hint":!0,dense:"",outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.countryCodeOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,dense:"",outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.countryCodeOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:"countryselect"==t.renderer?[t.mobile?[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.countryOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:[i("v-select",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.countryOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:"textarea"==t.renderer?[i("v-textarea",{attrs:{outline:t.showOutline,success:t.success,required:t.required,label:t.displayLabel,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"select"==t.renderer?[t.mobile||t.params.dropdown?[i("v-select",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,"return-object":"reference"==t.type,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.selectOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,"return-object":"reference"==t.type,label:t.displayLabel,chips:t.multipleInput,"no-data-text":"No options available",multiple:t.multipleInput,"item-text":"title",items:t.selectOptions,"error-messages":t.errorMessages,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:"content-select-button"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:t.displayLabel,success:t.success,required:t.required,"error-messages":t.errorMessages,hint:t.field.description}},[i("fluro-content-select-button",{attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,block:"",recursiveClick:t.recursiveClick,type:t.restrictType,minimum:t.minimum,maximum:t.maximum,searchInheritable:t.searchInheritable,allDefinitions:t.allDefinitions},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)]:"content-select"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:t.displayLabel,success:t.success,required:t.required,"error-messages":t.errorMessages,hint:t.field.description}},[i("fluro-content-select",{attrs:{context:t.context,template:t.params.template,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,success:t.success,required:t.required,"error-messages":t.errorMessages,label:t.displayLabel,outline:t.showOutline,"persistent-hint":t.persistentDescription,hint:t.field.description,placeholder:t.field.placeholder,minimum:t.minimum,type:t.restrictType,lockFilter:t.referenceFilter,searchInheritable:t.searchInheritable,maximum:t.maximum},on:{input:t.valueChange,blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)]:"search-select"==t.renderer?[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:t.showOutline,success:t.success,"deletable-chips":!0,"hide-selected":!0,"prepend-inner-icon":"search","error-messages":t.errorMessages,"cache-items":!t.defaultReferences||!t.defaultReferences.length,chips:t.multipleInput,clearable:!t.required,"return-object":!0,"item-text":"title",multiple:t.multipleInput,loading:t.loading,items:t.searchResults,"search-input":t.keywords,flat:"","hide-no-data":"",label:t.displayLabel},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()},change:t.valueChange,"update:searchInput":function(e){t.keywords=e},"update:search-input":function(e){t.keywords=e}},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("fluro-avatar",{staticClass:"xs",attrs:{id:n._id,type:"contact"}}),t._v(" "),i("v-list-tile-content",[i("v-list-tile-title",{domProps:{textContent:t._s(n.title)}})],1)]}}],null,!1,2762711489),model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"signature"==t.renderer?[i("fluro-signature-field",{attrs:{outline:t.showOutline,success:t.success,label:t.displayLabel,required:t.required,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.field.description},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"code"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{hint:t.field.description,"persistent-hint":!0}},[t.multipleInput?[t.fieldModel&&t.fieldModel.length?[t._l(t.fieldModel,(function(e,n){return[i("fluro-code-editor",{attrs:{autoformat:t.autoformat,outline:t.showOutline,success:t.success,lang:t.syntax,height:200},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})]}))]:t._e(),t._v(" "),t.canAddValue?[i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.addValue("")}}},[t._v("\n                        "+t._s(t.multiLabel)+"\n                        "),i("fluro-icon",{attrs:{icon:"plus"}})],1)]:t._e()]:[i("v-label",[t._v(t._s(t.displayLabel))]),t._v(" "),i("v-card",{staticClass:"no-flex"},[i("fluro-code-editor",{attrs:{autoformat:t.autoformat,outline:t.showOutline,success:t.success,lang:t.syntax,height:200},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)]],2)]:"wysiwyg"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{outline:t.showOutline,success:t.success,required:t.required,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.field.description}},[t.multipleInput?[t.fieldModel&&t.fieldModel.length?[t._l(t.fieldModel,(function(e,n){return[i("v-layout",{attrs:{wrap:"",row:""}},[i("v-flex",{staticClass:"vertical-center"},[i("v-label",[t._v(t._s(t.groupTitle(e,n)))])],1),t._v(" "),i("v-spacer"),t._v(" "),t.canRemoveValue?i("v-btn",{attrs:{icon:"",flat:"",color:"error"},on:{click:function(e){return t.removeValue(n,!0)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):t._e()],1),t._v(" "),i("fluro-editor",{attrs:{options:t.multiEditorOptions,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()},input:t.valueChange},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})]}))]:t._e(),t._v(" "),t.canAddValue?[i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.addValue("")}}},[t._v("\n                        "+t._s(t.multiLabel)+"\n                        "),i("fluro-icon",{attrs:{icon:"plus"}})],1)]:t._e()]:t._e(),t._v(" "),t.multipleInput?t._e():[i("v-label",[t._v(t._s(t.displayLabel))]),t._v(" "),i("fluro-editor",{attrs:{options:t.editorOptions,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]],2)]:"upload"==t.renderer?[i("v-input",{staticClass:"no-flex",attrs:{outline:t.showOutline,success:t.success,label:t.displayLabel,required:t.required,"error-messages":t.errorMessages,"persistent-hint":!0,hint:t.fileHint}},[t.files&&t.files.length?i("div",{staticClass:"file-items"},t._l(t.files,(function(e){return i("div",{staticClass:"file-item"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{grow:""}},[i("strong",[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"small"},["progress"==e.state?i("span",[t._v("Uploaded "+t._s(e.progress)+"% of ")]):t._e(),i("span",{staticClass:"muted"},[t._v(t._s(t._f("filesize")(e.size)))])])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},["error"==e.state?[i("v-btn",{attrs:{icon:""}},[i("fluro-icon",{attrs:{icon:"exclamation"}})],1)]:"complete"==e.state?[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.removeFile(e)}}},[i("fluro-icon",r?{attrs:{icon:"times"}}:{attrs:{icon:"check"}})],1)}}],null,!0)})]:"uploading"==e.state?[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.removeFile(e)}}},[r?t._e():i("v-progress-circular",{attrs:{value:e.progress}}),t._v(" "),r?i("fluro-icon",{attrs:{icon:"times"}}):t._e()],1)}}],null,!0)})]:[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.removeFile(e)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)]],2)],1)],1)})),0):t._e(),t._v(" "),t.canAddFile?i("label",{staticClass:"file-drop"},[i("input",{ref:"file",attrs:{type:"file",multiple:t.multipleInput},on:{change:function(e){return t.filesSelected(e.target.files)}}}),t._v("\n                Drag and drop or click here to select "+t._s(t.multipleInput?"files":"a file")+"\n            ")]):t._e()])]:"currency"!=t.renderer||t.multipleInput?"app-menu-select"==t.renderer?[i("fluro-app-menu-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"app-block-select"==t.renderer?[i("fluro-app-block-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"app-font-select"==t.renderer?[i("fluro-app-font-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"app-page-select"==t.renderer?[i("fluro-app-page-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"app-size-select"==t.renderer?[i("fluro-app-size-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"app-theme-select"==t.renderer?[i("fluro-app-theme-select",{attrs:{options:t.options,label:t.displayLabel},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]:"color"!=t.renderer||t.multipleInput?[t.multipleInput?[i("v-input",{staticClass:"no-flex",attrs:{outline:t.showOutline,label:t.displayLabel,success:t.success}},[t.fieldModel&&t.fieldModel.length?[i("draggable",t._b({on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}},"draggable",t.dragOptions,!1),[i("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.fieldModel,(function(e,n){return i("div",{key:e,staticClass:"multi-input-row"},[i("v-flex",{staticStyle:{padding:"0 !important"}},[t._v(t._s(e))]),t._v(" "),i("span",{on:{click:function(e){return t.removeValue(n,!0)}}},[t._v("Remove")])],1)})),0)],1)]:t._e(),t._v(" "),t.canAddValue?[i("v-text-field",{staticClass:"faint",attrs:{mask:t.params.mask,autofocus:t.shouldAutofocus,"append-inner-icon":"plus",outline:t.showOutline,success:t.success,"browser-autocomplete":"off","append-icon":"plus",required:t.required,label:t.multiLabel,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.hint,placeholder:t.field.placeholder},on:{focus:function(e){return t.focussed()},input:t.valueChange,blur:function(e){return t.addProposedValue()}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.addProposedValue())}},model:{value:t.proposedValue,callback:function(e){t.proposedValue=e},expression:"proposedValue"}})]:t._e()],2)]:t._e(),t._v(" "),t.multipleInput?t._e():[i("v-text-field",{attrs:{mask:t.params.mask,autofocus:t.shouldAutofocus,outline:t.showOutline,success:t.success,"browser-autocomplete":"off",required:t.required,label:t.displayLabel,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.field.description,placeholder:t.field.placeholder},on:{input:t.valueChange,blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]]:[i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-input",{staticClass:"no-flex",attrs:{label:t.displayLabel,"persistent-hint":!0}},[i("div",t._g({staticClass:"color-swatch"},n),[i("div",{staticClass:"swatch",style:{backgroundColor:t.colorModel.hex8}},[i("span",[t._v(t._s(t.colorModel.hex8?t.colorModel.hex8:"transparent"))])])])])]}}],null,!1,3970237788),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),i("div",[i("color-picker",{on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.colorModel,callback:function(e){t.colorModel=e},expression:"colorModel"}})],1)])]:[i("fluro-currency-input",{attrs:{currency:t.params.currency,hideSuffix:t.params.hideSuffix,min:t.minValue,max:t.maxValue,label:t.displayLabel,required:t.required,autofocus:t.shouldAutofocus,outline:t.showOutline,success:t.success,"error-messages":t.errorMessages,"persistent-hint":t.persistentDescription,hint:t.field.description,placeholder:t.field.placeholder},on:{blur:function(e){return t.touch()},focus:function(e){return t.focussed()}},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})]],2):t._e()};n._withStripped=!0;i(53),i(77),i(78),i(52),i(31),i(27);var r,a=i(9),o=(i(34),i(15),i(13),i(16),i(17),i(114),i(107),i(411)),s=i(148),l=i(3),c=i.n(l),u=(i(25),i(409)),d=i(120);function f(t,e){var i=[],n=t.type,r=c.a.get(t.field,"params.minValue"),a=c.a.get(t.field,"params.maxValue"),o="currency"==t.field.directive?c.a.get(t.field,"params.currency"):null;switch(n){case"email":if(t.multipleInput)if(c.a.isArray(e))c.a.some(e,(function(t){return!Object(s.email)(t)}))&&(console.log("Invalid Emails",e),i.push("All emails must be valid",e));else!Object(s.email)(e)&&String(e).length&&i.push("Must be a valid email",e);else!Object(s.email)(e)&&String(e).length&&i.push("Must be a valid email",e);break;case"url":Object(s.url)(e)||i.push("Must be a valid url eg. https://...");break;case"boolean":t.minimum&&(e||i.push("This is required"));break;case"integer":case"decimal":case"float":case"number":!0;var l=Number(e);c.a.isFinite(l)&&!c.a.isNaN(l)||(console.log("Is not a valid number??",e,l),i.push("".concat(e||""," is not a valid number!")));var u=function(t,e,i,n,r,a){var o=Number;switch(n){case"integer":o=parseInt;break;case"float":case"decimal":o=parseFloat}return void 0!==t&&(t=o(t)),void 0!==e&&t<(e=o(e))?(console.log("MINIMUM",e,t,t<e),"Must be at least ".concat(r&&a?a.$fluro.utils.formatCurrency(i,r):e)):void 0!==i&&t>(i=o(i))?"Must be less than ".concat(r&&a?a.$fluro.utils.formatCurrency(i,r):i):void 0}(e,r,a,n,o,t);u&&i.push(u)}return i}var p={components:{"color-picker":u.Chrome,draggable:function(){return Promise.resolve().then(i.t.bind(null,805,7))},FluroCompileHtml:function(){return Promise.resolve().then(i.bind(null,397))},FluroEditor:function(){return Promise.resolve().then(i.bind(null,149))},FluroCurrencyInput:function(){return Promise.all([i.e(65),i.e(69)]).then(i.bind(null,1083))},FluroCodeEditor:function(){return Promise.resolve().then(i.bind(null,116))},FluroSignatureField:function(){return Promise.resolve().then(i.bind(null,402))},FluroDateTimePicker:function(){return Promise.resolve().then(i.bind(null,401))},FluroContentSelect:function(){return Promise.resolve().then(i.bind(null,399))},FluroContentSelectButton:function(){return Promise.resolve().then(i.bind(null,72))},FluroRealmSelect:function(){return Promise.resolve().then(i.bind(null,85))}},data:function(){return{hasInitialValue:!1,asyncOptionsLoading:!1,drag:!1,test:null,modal:!1,model:this.value,proposedValue:null,sudoModel:null,color:null,keywords:"",results:[],loading:!1,files:[],cancelTokens:[],bytesLoaded:0,bytesTotal:0,uploadState:"ready"}},watch:{model:"checkInitialValue",keywords:c.a.debounce((function(){var t=this,e=this.field,i=t.keywords;if(i&&i.length&&(!e.allowedReferences||!e.allowedReferences.length)){t.loading=!0;var n={limit:5,select:"title"},r=c.a.get(e,"params.restrictType");r&&r.length&&(n.types=[r]),t.$fluro.content.search(i,n).then((function(e){t.results=e,t.loading=!1}))}}),500),expressionDefaultValue:function(t){this.$v.model.$dirty||this.hasInitialValue||this.expressions&&this.expressions.defaultValue&&(this.fieldModel=t)},expressionValue:function(t){this.expressions&&this.expressions.value&&(this.fieldModel=t)},value:function(t){return this.$set(this,"model",t),this.reset()}},computed:(r={autoformat:function(){return 0!=this.params.autoformat},isContext:function(){return this.contextField==this.field},isNew:function(){return this.field.isNew},shouldAutofocus:function(){return this.autofocus||this.params.autofocus},customComponent:function(){return this.field.customComponent},mobile:function(){return this.$vuetify.breakpoint.xsOnly},dynamicDateHint:function(){if(this.fieldModel)return"DATE_NOW"==this.fieldModel?"The date will be stored at the time of action.":"Date will be set to ".concat(this.$fluro.date.formatDate(this.fieldModel,"dddd D MMM YYYY"))},currentDateOrToday:function(){return t=this.fieldModel,isNaN(t)&&!isNaN(Date.parse(t))?new Date(this.fieldModel):new Date;var t},params:function(){return this.field.params||{}},persistentDescription:function(){if(this.params.persistentDescription)return!0},formModel:function(){return this.parent||this.model},minValue:function(){return c.a.get(this,"field.params.minValue")},maxValue:function(){return c.a.get(this,"field.params.maxValue")},minDate:function(){return c.a.get(this,"field.params.minDate")},maxDate:function(){return c.a.get(this,"field.params.maxDate")},dateFormat:function(){return"D MMM YYYY"},dateHint:function(){if(this.fieldModel)switch(this.field.key){case"dob":case"_dob":var t=parseInt(this.$fluro.date.moment().format("YYYY"))-parseInt(this.$fluro.date.moment(this.fieldModel).format("YYYY"));return this.model.dobVerified?"".concat(t," Years old"):"".concat(t," Years old (estimated)")}return this.dateFormat},dateStringModel:{get:function(){return this.fieldModel?this.$fluro.date.formatDate(this.fieldModel,"YYYY-MM-DD"):null},set:function(t){t?(this.fieldModel=new Date(t),console.log("SET",t,this.fieldModel)):this.fieldModel=null}},formattedDate:function(){if(void 0!==this.fieldModel&&null!==this.fieldModel&&""!==this.fieldModel)return this.fieldModel?this.$fluro.date.moment(this.fieldModel).format(this.dateFormat):""},asyncOptionsURL:function(){switch(this.renderer){case"countryselect":case"countrycodeselect":return"/system/countries"}},dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},Object(a.a)(r,"params",(function(){return this.field.params||{}})),Object(a.a)(r,"showOutline",(function(){return this.outline||this.params.outline||this.options.outline})),Object(a.a)(r,"searchInheritable",(function(){if(this.field.params&&this.field.params.searchInheritable)return this.field.params.searchInheritable})),Object(a.a)(r,"allDefinitions",(function(){if(this.field.params&&this.field.params.allDefinitions)return this.field.params.allDefinitions})),Object(a.a)(r,"referenceFilter",(function(){if(this.field.params&&this.field.params.referenceFilter)return this.field.params.referenceFilter})),Object(a.a)(r,"restrictType",(function(){if(this.field.params&&this.field.params.restrictType)return this.field.params.restrictType})),Object(a.a)(r,"fileHint",(function(){switch(this.uploadState){case"uploading":return"Uploading...";default:return this.field.description}})),Object(a.a)(r,"success",(function(){if(this.options.validateSuccess)return this.$v.$dirty&&!this.$v.$invalid})),Object(a.a)(r,"editorOptions",(function(){var t=this.options.editor||this.params.editor||{};return this.params.tokens&&this.params.tokens.length&&(t.tokens=this.params.tokens),t})),Object(a.a)(r,"multiEditorOptions",(function(){return Object.assign({},this.options.editor,{label:""})})),Object(a.a)(r,"savedTerms",(function(){return c.a.get(this.field,"params.storeCopy")})),Object(a.a)(r,"syntax",(function(){return c.a.get(this.field,"params.syntax")})),Object(a.a)(r,"multiLabel",(function(){return this.multipleInput?this.total?"Add another ".concat(this.title):"Add ".concat(this.title):this.label})),Object(a.a)(r,"displayLabel",(function(){if(this.overrideLabel&&this.overrideLabel.length)return this.overrideLabel;if(this.showLabel){var t=this.title||"";return t.length?this.required?"".concat(t," *"):t:void 0}})),Object(a.a)(r,"hint",(function(){return 1==this.maximum?this.field.description:this.minimum&&this.total<this.minimum?"Type and press enter (".concat(this.total," of ").concat(this.minimum," required)"):this.maximum?"Type and press enter (Max ".concat(this.maximum,")"):"Type and press enter"})),Object(a.a)(r,"customContext",(function(){return{field:this.field,model:this.fieldModel,data:this.model}})),Object(a.a)(r,"customTemplate",(function(){return this.field.template})),Object(a.a)(r,"searchResults",(function(){return this.allowedReferences&&this.allowedReferences.length?this.allowedReferences:this.allowedValues&&this.allowedValues.length?this.allowedValues:this.results})),Object(a.a)(r,"canAddFile",(function(){return!!this.canAddValue||(!(1!=this.maximum||this.files&&this.files.length)||void 0)})),Object(a.a)(r,"canAddValue",(function(){return 0==this.maximum||this.total<this.maximum})),Object(a.a)(r,"canRemoveValue",(function(){if(this.total>this.minimum)return!0})),Object(a.a)(r,"allowedValues",(function(){return this.field.allowedValues})),Object(a.a)(r,"allowedReferences",(function(){return this.field.allowedReferences})),Object(a.a)(r,"defaultValues",(function(){return this.disableDefaults?[]:this.field.defaultValues})),Object(a.a)(r,"defaultReferences",(function(){return this.disableDefaults?[]:this.field.defaultReferences})),Object(a.a)(r,"attributes",(function(){return this.field.attributes})),Object(a.a)(r,"sameLine",(function(){return this.field.sameLine})),Object(a.a)(r,"fieldClass",(function(){var t=[];switch(t.push("fluro-content-form-field-".concat(this.renderer)),this.isContext&&t.push("is-context"),this.renderer){case"group":case"embedded":(this.asObject||"embedded"==this.renderer)&&this.multipleInput&&(t.push("multiple-input"),t.push("multiple-input-values-".concat(this.fieldModel.length)))}return t.push(this.className),t.join(" ")})),Object(a.a)(r,"groupClass",(function(){if("group"==this.type||"embedded"==this.type)return"".concat(this.className)})),Object(a.a)(r,"colorModel",{get:function(){return this.color||(this.color={}),this.color.hex8=this.fieldModel?this.fieldModel:null,this.color},set:function(t){this.color=t,this.fieldModel=t?t.hex8:""}}),Object(a.a)(r,"fieldModel",{get:function(){var t=this.model[this.key];if(this.expressions&&this.expressions.transform&&"function"==typeof this.expressions.transform.set)return this.expressions.transform.get(t);if(this.dynamic&&"dynamicdate"==this.renderer){if("DATE_NOW"==t)return t;if(!t)return;return new Date(t).toISOString()}switch(this.field.type){case"boolean":if(this.field.inverse)return!t}return t},set:function(t){var e=this;if(e.expressions&&e.expressions.transform&&"function"==typeof e.expressions.transform.set){var i=e.expressions.transform.set(t);t=i}if(e.dynamic&&"dynamicdate"==e.renderer)return"DATE_NOW"==t?(e.$set(e.model,e.key,t),e.valueChange()):t?(e.$set(e.model,e.key,new Date(t).toISOString()),e.valueChange()):(e.$set(e.model,e.key,null),e.valueChange());switch(e.type){case"date":"now"==String(t).toLowerCase()&&(t=new Date);break;case"integer":null!=t&&null!=t&&(t=String(t).length?parseInt(t):null),console.log("SET VALUE",t);break;case"number":var n;if(null!=t&&null!=t&&!isNaN(t))n=String(t).length?Number(t):null,parseFloat(t)!=parseFloat(n)&&(t=n);break;case"float":case"decimal":null!=t&&null!=t&&(t=String(t).length?Number(t):null);break;case"boolean":if(e.field.inverse&&(t=!t),!t)return t=!1,e.$nextTick((function(){e.$set(e.model,e.key,t),e.valueChange()}))}e.$set(e.model,e.key,t),e.valueChange()}}),Object(a.a)(r,"addLabel",(function(){return this.total?"Add another ".concat(this.title):"Add ".concat(this.title)})),Object(a.a)(r,"className",(function(){return String.prototype.replaceAll=function(t,e){return this.split(t).join(e)},(this.field.className||"").replaceAll("col-xs-","xs").replaceAll("col-sm-","sm").replaceAll("col-md-","md").replaceAll("col-lg-","lg").replaceAll("col-xl-","xl")})),Object(a.a)(r,"key",(function(){return this.field.key})),Object(a.a)(r,"asObject",(function(){return this.field.asObject})),Object(a.a)(r,"fields",(function(){return this.field.fields})),Object(a.a)(r,"officeUseOnly",(function(){return c.a.get(this.field,"params.disableWebform")})),Object(a.a)(r,"type",(function(){return this.field.type})),Object(a.a)(r,"expressions",(function(){return this.field.expressions})),Object(a.a)(r,"errorTitle",(function(){return this.field.title})),Object(a.a)(r,"title",(function(t){return this.options.labels&&this.options.labels.hasOwnProperty(this.key)?this.options.labels[this.key]:this.field.title})),Object(a.a)(r,"multipleInput",(function(){return 0===this.maximum||this.maximum>1})),Object(a.a)(r,"countryCodeOptions",(function(){var t=c.a.chain(this.asyncOptions).map((function(t){return{title:"".concat(t.name," - ").concat(t.alpha2," (").concat(t.countryCallingCodes.join(", "),")"),value:t.alpha2}})).orderBy((function(t){return t.title})).value();return t.unshift({title:"United Kingdom - GB (+44)",value:"GB"}),t.unshift({title:"United States - USA (+1)",value:"US"}),t.unshift({title:"Australia - AU (+61)",value:"AU"}),t})),Object(a.a)(r,"countryOptions",(function(){return c.a.map(this.asyncOptions,(function(t){return{title:t.name,value:t.name}}))})),Object(a.a)(r,"timezoneOptions",(function(){var t=c.a.map(this.$fluro.date.timezones(),(function(t){return{title:t,value:t}}));return t.unshift({title:"None / Default",value:null}),t})),Object(a.a)(r,"selectOptions",(function(){return this.field?this.field.options&&this.field.options.length?c.a.map(this.field.options,(function(t){return t.title=t.title?t.title:t.name,t})):this.allowedValues&&this.allowedValues.length?c.a.chain(this.allowedValues).compact().map((function(t){return{name:t,value:t,title:t}})).value():this.allowedReferences?this.allowedReferences:this.asyncOptions&&this.asyncOptions.length?this.asyncOptions:[]:[]})),Object(a.a)(r,"minimum",(function(){return Math.max(parseInt(this.field.minimum),0)})),Object(a.a)(r,"maximum",(function(){return parseInt(this.field.maximum)})),Object(a.a)(r,"total",(function(){if(this.multipleInput&&this.fieldModel){var t=c.a.get(this.fieldModel,"length");return t}})),Object(a.a)(r,"askCount",(function(){return Math.max(this.minimum,this.field.askCount)})),Object(a.a)(r,"errorMessages",(function(){var t=[];if("void"==this.type)return t;if(!this.isVisible)return t;if(!this.$v.model.$dirty)return t;if(!this.$v.uploading&&"uploading"==this.uploadState)return t.push("Waiting for files to upload"),t;if(!this.$v.model.validateInput){this.proposedValue&&c.a.each(f(this,this.proposedValue),(function(e){t.push(e)})),c.a.each(f(this,this.fieldModel),(function(e){t.push(e)}));var e="answer";if("upload"==this.directive&&(e="file"),this.minimum==this.maximum)this.minimum&&(1==this.minimum?t.push("This field is required"):t.push("Please provide ".concat(this.minimum," ").concat(e,"s")));else if(1==this.maximum)t.push("This field is required");else{Array.isArray(this.model[this.key])||t.push("Requires at least ".concat(this.minimum," ").concat(e,"s"));var i=(this.model[this.key]||"").length;i<this.minimum&&(1==this.minimum?t.push("Requires at least 1 ".concat(e)):(console.log("ANSWERS IS",i,this.minimum,this.maximum),t.push("Please provide at least ".concat(this.minimum," ").concat(e,"s")))),this.maximum&&i>this.maximum&&t.push("Maximum ".concat(this.maximum," ").concat(e,"s"))}}return this.field.errorMessage&&this.field.errorMessage.length&&t.length?[this.field.errorMessage]:t})),Object(a.a)(r,"prefix",(function(){return this.field.prefix})),Object(a.a)(r,"suffix",(function(){return this.field.suffix})),Object(a.a)(r,"renderer",(function(){var t=this.type,e=this.field.directive;if(this.dynamic&&"date"==t)return"dynamicdate";switch(e){case"app-menu-select":case"app-page-select":case"app-theme-select":case"app-block-select":case"app-font-select":case"app-size-select":case"app-style-select":break;case"value":e="value";break;case"color":e="color";break;case"currency":e="currency";break;case"realm-select":case"realmselect":e="realmselect";break;case"content-select-button":break;case"dob-select":case"date-select":case"datepicker":e="datepicker";break;case"time-select":case"timepicker":e="timepicker";break;case"datetime-select":case"datetimepicker":e="datetimepicker";break;case"timezone-select":e="timezoneselect";break;case"country-codeselect":e="countrycodeselect";break;case"country-select":e="countryselect";break;case"textarea":case"wysiwyg":case"select":case"embedded":break;case"upload":switch(this.context){case"admin":e="content-select"}break;case"button-select":case"order-select":e="select";break;default:switch(t){case"date":e="datepicker";break;case"group":e="group";break;case"boolean":e="checkbox";break;case"number":case"integer":case"decimal":e="number";break;case"reference":e="content-select"}}return e})),r),methods:{fixCorruptedData:function(){if(this.multipleInput)switch(this.type){case"string":c.a.isArray(this.fieldModel)||(this.fieldModel=[this.fieldModel],console.log(this.field.title,"Transformed to multiple value"));break;case"reference":this.results=(this.defaultReferences||[]).slice();break;case"group":this.field.asObject&&(c.a.isArray(this.fieldModel)||(this.fieldModel?this.fieldModel=[this.fieldModel]:this.fieldModel=[]));break;case"void":break;default:this.results=(this.defaultValues||[]).slice()}else if(c.a.isArray(this.fieldModel))switch(this.type){case"string":this.fieldModel=c.a.first(this.fieldModel),console.log(this.field.title,"Transformed array to single value")}},debugSelect:function(t){"builder"==this.context&&this.recursiveClick&&(t&&(t.preventDefault(),t.stopPropagation()),this.recursiveClick(this))},checkInitialValue:function(){null==this.fieldModel||null===this.fieldModel||""==this.fieldModel?this.hasInitialValue=!1:this.hasInitialValue=!0},clear:function(){this.fieldModel=null,this.reset()},reset:function(){this.files=[],this.$v.$reset()},removeFile:function(t){t.cancelToken&&t.cancelToken.cancel("Operation canceled by the user."),this.files.splice(this.files.indexOf(t),1),this.mapFilesToValues(),"uploading"==t.state&&this.uploadNextFile()},filesSelected:function(t){if(this.touch(),t.length){var e=c.a.map(t,(function(t){return{file:t,data:{},name:t.name,size:t.size}}));return this.files=c.a.chain(this.files.concat(e)).compact().uniqBy((function(t){return t.name})).value(),this.maximum&&(this.files=this.files.slice(0,this.maximum)),this.$refs.file.value=null,this.uploadNextFile()}},upload:function(t){var e=this;switch(t.state){case"complete":case"uploading":return}t.state="uploading";var i=new FormData;i.append("file",t.file,t.name),e.$forceUpdate();var n=i,r={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(i){var n=Math.floor(100*i.loaded/i.total);t.progress=n,t.bytesLoaded=i.loaded,t.bytesTotal=i.total,e.bytesLoaded=c.a.reduce(e.files,(function(t,e){return"complete"==e.state?t+=e.size||e.bytesTotal||0:t+=e.bytesLoaded||0,t}),0),e.$forceUpdate()}},a=e.$fluro.api.CancelToken.source();r.cancelToken=a.token,t.cancelToken=a,r.headers={"Content-Type":void 0};var o=c.a.chain(e.field).get("params.realm").first().value();if(!o){var s=c.a.get(e.options,"backupUploadRealm");s?o=s:(t.state="error",e.uploadNextFile())}return console.log("Uploading to ",o),this.$fluro.api.post("/file/attach/".concat(o),n,r).then((function(i){t.state="complete",t.result=i.data,t.attachmentID=i.data._id,t.cancelToken=null,e.uploadNextFile()})).catch((function(i){t.state="error",t.cancelToken=null,e.uploadNextFile()}))},uploadNextFile:function(){this.uploadState="uploading";var t=c.a.find(this.files,(function(t){switch(t.state){case"complete":case"error":return;default:return!0}}));t?this.upload(t):this.uploadState="ready",this.mapFilesToValues()},mapFilesToValues:function(){this.multipleInput?this.fieldModel=c.a.map(this.files,"result"):this.fieldModel=c.a.chain(this.files).first().get("result").value(),this.$forceUpdate()},resolveExpression:function(t){var e,i,n={data:this.parent,interaction:this.parent,model:this.model,Math:Math,String:String,Array:Array,Date:Date,moment:this.$fluro.date.moment,matchInArray:this.$fluro.utils.matchInArray};try{e=d.default.parse(t),i=d.default.eval(e,n)}catch(t){}finally{return i}},groupTitle:function(t,e){if(t){if(t.title&&t.title.length)return t.title;if(t.name&&t.name.length)return t.name;if(t.firstName)return t.lastName?"".concat(t.firstName," ").concat(t.lastName):t.firstName}return"".concat(this.title," ").concat(e+1)},includesValue:function(t){return c.a.includes(this.fieldModel,t)},addProposedValue:function(){var t=this.proposedValue;(this.touch(),this.canAddValue)&&(t&&""!=t&&(f(this,t).length||(this.includesValue(t)||this.addValue(t),this.proposedValue=null)))},addValue:function(t){console.log("ADD ANOTHER VALUE",t),this.fieldModel||(this.fieldModel=[],console.log("Create Field Model")),this.canAddValue&&(this.fieldModel.push(t),this.valueChange())},removeValue:function(t,e){console.log("REMOVE VALUE",t,this.fieldModel),(this.canRemoveValue||e)&&this.fieldModel&&(this.fieldModel.splice(t,1),this.valueChange())},touch:function(){this.$v.model.$touch()},clicked:function(t){this.debugSelect(t)},focussed:function(){this.debugSelect()},modalFocussed:function(){this.focussed(),this.modal=!0},valueChange:function(t,e){e&&this.touch(),this.$emit("input",this.model,this.fieldModel)}},mounted:function(){var t=this;t.debugMode&&t.field.isNew&&t.$nextTick((function(){t.$nextTick((function(){t.$el&&t.$el.scrollIntoView&&(t.$el.scrollIntoView({behavior:"smooth",block:"center"}),t.field.isNew=void 0)}))}))},created:function(){if(this.fixCorruptedData(),!this.multipleInput)if(c.a.isArray(this.fieldModel))switch(this.type){case"string":this.fieldModel=c.a.first(this.fieldModel),console.log(this.field.title,"Transformed array to single value")}else if(!this.fieldModel&&this.defaultValues&&this.defaultValues.length){var t=c.a.first(this.defaultValues);if(t){switch(this.type){case"date":"now"==String(t).toLowerCase()&&(t=new Date);break;case"number":t=Number(t);break;case"integer":t=parseInt(t);break;case"decimal":case"float":t=parseFloat(t)}this.fieldModel=t}}switch(this.type){case"group":this.asObject&&(this.fieldModel||(this.multipleInput?this.fieldModel=[]:this.fieldModel={}));break;default:this.formFields&&this.$set(this.formFields,this.formFields.length,this)}this.checkInitialValue(),this.$emit("created",this)},beforeDestroy:function(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},props:{debugMode:{type:Boolean},contextField:{type:Object},recursiveClick:{type:Function},disableDefaults:{type:Boolean},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},dynamic:{type:Boolean},parent:{type:Object},autofocus:{type:Boolean},outline:{type:Boolean},showLabel:{type:Boolean,default:!0},overrideLabel:{type:String},formFields:{type:Array},field:{type:Object},value:{required:!0},options:{default:function(){return{}},type:Object}},asyncComputed:{asyncOptions:{default:[],get:function(){var t=this;return t.asyncOptionsURL&&t.asyncOptionsURL.length?(t.asyncOptionsLoading=!0,new Promise((function(e,i){t.$fluro.api.get(t.asyncOptionsURL).then((function(i){e(i.data),t.asyncOptionsLoading=!1})).catch((function(e){i(e),t.asyncOptionsLoading=!1}))}))):(Promise.resolve([]),void(t.asyncOptionsLoading=!1))}},required:{default:!1,get:function(){return 1==this.minimum?Promise.resolve(!0):this.expressionRequired?Promise.resolve(!0):Promise.resolve(!1)}},isVisible:{get:function(){var t="value"==this.renderer||this.expressionHideGroup||this.expressionHide;return Promise.resolve(!t)}},expressionValue:{get:function(){if(!this.expressions||!this.expressions.value||!this.expressions.value.length)return Promise.resolve();var t=this.resolveExpression(this.expressions.value);return Promise.resolve(t)}},expressionDefaultValue:{get:function(){if(!this.expressions||!this.expressions.defaultValue)return Promise.resolve();if("function"==typeof this.expressions.defaultValue)return this.expressions.defaultValue();if(!String(this.expressions.defaultValue).length)return Promise.resolve();var t=this.resolveExpression(this.expressions.defaultValue);return Promise.resolve(t)}},expressionRequired:{default:!1,get:function(){var t;return this.expressions&&this.expressions.required&&this.expressions.required.length?(t=this.resolveExpression(this.expressions.required),Promise.resolve(t)):Promise.resolve(!1)}},expressionHide:{default:!1,get:function(){var t;if(this.expressions&&this.expressions.show){if("function"==typeof this.expressions.show)return!this.expressions.show();var e=this.resolveExpression(this.expressions.show);return Promise.resolve(!e)}return this.expressions&&this.expressions.hide?"function"==typeof this.expressions.hide?this.expressions.hide():String(this.expressions.hide).length?(t=this.resolveExpression(this.expressions.hide),Promise.resolve(t)):Promise.resolve(!1):Promise.resolve(!1)}},expressionHideGroup:{default:!1,get:function(){var t=!1;return this.field.hideExpression&&this.field.hideExpression.length?(t=this.resolveExpression(this.field.hideExpression),Promise.resolve(t)):t}}},mixins:[o.validationMixin],beforeCreate:function(){this.$options.components.FluroContentForm=i(40).default,this.$options.components.FluroContentFormField=i(60).default},validations:{model:{validateInput:function(t,e){var i=t[this.key],n=e.minimum,r=e.maximum,a=Array.isArray(i);if(this.proposedValue){if(f(e,this.proposedValue).length)return!1}if(!n&&!i)return!0;if(1==r)return!!i&&!f(e,i).length;if(!a)return!1;var o=(i||"").length;if(o<n)return!1;if(o>r)return!1;if(c.a.some(i,(function(t){return f(e,t).length})))return!1;return!0},uploading:function(t,e){return"uploading"!=e.uploadState}}}},m=(i(602),i(0)),h=Object(m.a)(p,n,[],!1,null,null,null);h.options.__file="src/components/form/FluroContentFormField.vue";e.default=h.exports},function(t,e,i){"use strict";e.a={components:{wrapper:function(){return Promise.resolve().then(i.bind(null,334))},constrain:function(){return Promise.resolve().then(i.bind(null,335))},"fluro-realm-bar":function(){return Promise.resolve().then(i.bind(null,102))}}}},,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"tabset",class:{justified:t.justified,vertical:t.vertical}},[t.enabledTabs.length>1||t.persist?i("flex-column-header",{staticClass:"tabset-header"},[t._t("menuprefix"),t._v(" "),i("div",{ref:"outer",staticClass:"tabset-menu"},[i("div",{ref:"inner",staticClass:"tabset-menu-inner"},[t._l(t.enabledTabs,(function(e,n){return[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],class:{active:n==t.activeTabIndex,muted:e.muted},attrs:{flat:"",content:e.tooltip},on:{click:function(e){return t.selectTab(n)}}},[t._v("\n                        "+t._s(e.heading)+" \n                        "),e.icon?[e.icon.icon?i("fluro-icon",{style:{color:e.icon.color},attrs:{icon:e.icon.icon,library:e.icon.library}}):t._e(),t._v(" "),e.icon.type?i("fluro-icon",{style:{color:e.icon.color},attrs:{type:e.icon.type,library:e.icon.library}}):t._e()]:t._e()],2)]}))],2)]),t._v(" "),t._t("menusuffix")],2):t._e(),t._v(" "),i("flex-column",{staticClass:"tabset-content"},[t._t("default")],2)],1)};n._withStripped=!0;i(77),i(78),i(17);var r={props:{value:{type:Number},options:{type:Object},justified:{type:Boolean},persist:{type:Boolean},vertical:{type:Boolean}},provide:function(){return{removeTab:this.removeTab,addTab:this.addTab,tabs:this.tabs,activeTabIndex:this.activeTabIndex}},data:function(){return{tabs:[],activeTabIndex:this.value||0}},watch:{value:"selectTab",activeTabIndex:function(t){this.$emit("input",t)}},computed:{enabledTabs:function(){return this.tabs}},methods:{removeTab:function(t){_.pull(this.tabs,t)},addTab:function(t){_.includes(this.tabs,t)||this.tabs.push(t)},selectTab:function(t){var e=this;t=Math.max(t,0),t=Math.min(t,e.tabs.length-1),e.activeTabIndex=t;var i=e.$refs.outer,n=e.$refs.inner,r=n.children[e.activeTabIndex],a=n.getBoundingClientRect(),o=r.getBoundingClientRect(),s={};s.top=o.top-a.top,s.right=o.right-a.right,s.bottom=o.bottom-a.bottom,s.left=o.left-a.left;var l=i.offsetWidth,c=r.offsetWidth,u=(i.scrollWidth,s.left-(l/2-c/2));i.scrollTo({left:u,behavior:"smooth"}),_.each(e.tabs,(function(t){t.active=t.index==e.activeTabIndex}))}}},a=(i(616),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/tabset/FluroTabset.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"slide"}},[this.active?e("flex-column",[this._t("default")],2):this._e()],1)};n._withStripped=!0;var r={props:{muted:{type:Boolean},enabled:{type:Boolean,default:!0},heading:{type:String},tooltip:{type:String},iconType:{type:String},icon:{type:Object}},inject:["tabs","addTab","activeTabIndex","removeTab"],created:function(){this.index=this.tabs.length,this.addTab(this),this.active=this.index==this.activeTabIndex},watch:{active:"emitActive"},beforeDestroy:function(){this.removeTab(this)},methods:{emitActive:function(t){this.active&&this.$emit("activeTab")}},data:function(){return{index:0,active:!1}}},a=(i(618),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/tabset/FluroTab.vue";e.a=o.exports},,,,,,,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isArray?t._l(t.rendered,(function(e){return i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"inline-tag",attrs:{content:t._f("timeago")(e)}},[t._v(t._s(t._f("formatDate")(e,"MMM D, YYYY")))])})):t.rendered?[t.rendered?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"inline-tag",attrs:{content:t._f("timeago")(t.rendered)}},[t._v(t._s(t._f("formatDate")(t.rendered,"MMM D, YYYY")))]):t._e()]:t._e()],2)};n._withStripped=!0;i(13);function r(t){if(t){var e=new Date(t);return e instanceof Date&&!isNaN(e)?e:"Invalid date ".concat(t)}}var a={props:{row:{type:Object},column:{type:Object},data:{}},computed:{isArray:function(){return _.isArray(this.data)},rendered:function(){if(this.data){if(_.isArray(this.data)){var t=_.chain(this.data).compact().map(r).value();return t.length?t:void 0}return!!this.data&&r(this.data)}}}},o=(i(510),i(0)),s=Object(o.a)(a,n,[],!1,null,"25ee0c3f",null);s.options.__file="src/components/table/cells/DateCell.vue";e.a=s.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-select-button"},[i("v-btn",{staticClass:"pill mx-0",attrs:{small:t.small,large:t.large,color:t.color,block:t.block},nativeOn:{click:function(e){return t.showModal(e)}}},[i("span",[t._v(t._s(t.selectionSummary))])])],1)};n._withStripped=!0;i(13),i(622),i(24),i(17);var r=i(25),a=i.n(r),o=i(109),s=i(152),l={props:{label:{type:String},filter:{type:Object,default:function(){return{operator:"and",filters:[{operator:"and",filters:[{key:"status",comparator:"in",values:["active","draft"]}]}]}}},small:{type:Boolean},block:{type:Boolean},large:{type:Boolean},color:{type:String},searchInheritable:{type:Boolean,default:!0},allDefinitions:{type:Boolean},singleValue:{type:Boolean},type:{type:String,default:function(){return"node"}},minimum:{type:Number,default:0},maximum:{type:Number,default:0},value:{}},computed:{selection:function(){return this.selector.selection},title:function(){return this.$fluro.types.readable(this.type,!1)},plural:function(){return this.$fluro.types.readable(this.type,!0)},selectionSummary:function(){var t=this,e=_.filter(t.selection,(function(e){if(e)return!t.type||"node"==t.type||(e.definition?e.definition==t.type:e._type==t.type)}));return e.length?e.length>3?"".concat(e.length," ").concat(t.plural," selected"):_.map(e,"title").join(", "):t.label&&t.label.length?t.label:t.small?"Select ".concat(t.plural):"Click to select ".concat(t.plural)}},data:function(){var t=a.a.extend(s.a),e=this.singleValue?[this.value]:this.value;return{selector:new t({propsData:{minimum:this.minimum,maximum:this.maximum,allDefinitions:this.allDefinitions,searchInheritable:this.searchInheritable,value:e}})}},watch:{minimum:function(t){this.selector.minimum=t},maximum:function(t){this.selector.maximum=t},value:function(t){this.selector.value=this.singleValue?[t]:t},selection:function(t){this.singleValue&&(t=_.first(t)),this.$emit("input",t)}},methods:{showModal:function(){console.log("SHOW MODAL",this.selector);this.$fluro.modal({component:o.a,options:{selector:this.selector,type:this.type,allDefinitions:this.allDefinitions,searchInheritable:this.searchInheritable,filter:this.filter}})}}},c=i(0),u=Object(c.a)(l,n,[],!1,null,null,null);u.options.__file="src/components/form/contentselect/FluroContentSelectButton.vue";e.default=u.exports},,,,function(t,e,i){"use strict";i(53),i(84);var n=i(339);e.a={data:function(){return{selectionMinimum:0,selectionMaximum:0,selection:[]}},methods:{select:function(t){if(!this.isSelected(t)){var e=this.selection.length,i=this.selectionMaximum;return!i||e<i?this.$set(this.selection,this.selection.length,t):this.$set(this.selection,this.selection.length-1,t)}},selectMultiple:function(t){var e=[].concat(Object(n.a)(this.selection),Object(n.a)(t));e=_.uniqBy(e,(function(t){return t._id||t})),console.log("SELECT NEW ITEMS",this.selectionMaximum,e.length),this.setSelection(e)},setSelection:function(t){this.selectionMaximum&&t.length>this.selectionMaximum&&(t=t.slice(0,this.selectionMaximum)),this.selection=t},deselect:function(t){var e=this;if(t){var i=e.$fluro.utils.getStringID(t),n=_.findIndex(e.selection,(function(t){var n=e.$fluro.utils.getStringID(t);return i==n}));e.selection.splice(n,1)}},toggle:function(t){this.isSelected(t)?this.deselect(t):this.select(t)},deselectAll:function(){this.selection=[]},isSelected:function(t){var e=this,i=e.$fluro.utils.getStringID(t);return _.some(e.selection,(function(t){var n=e.$fluro.utils.getStringID(t);return i==n}))}}}},,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.singleOptionAvailable,expression:"!singleOptionAvailable"}],staticClass:"realm-select"},[i("v-btn",{staticClass:"pill mx-0",attrs:{small:t.small,block:t.block},nativeOn:{click:function(e){return t.showModal(e)}}},[i("fluro-realm-dots",{attrs:{realms:t.selection}}),t._v(" "),i("span",{staticClass:"label"},[t._v(t._s(t.selectionSummary))])],1)],1)};n._withStripped=!0;i(31),i(24),i(13),i(25);var r=i(175),a=i(145),o=i(76),s=i(61),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"realm-select-modal"},[t.loading?i("flex-column",[i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"py-2":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[i("v-flex",[i("h3",{staticStyle:{margin:"0"}},[t._v(t._s(t.title))])]),t._v(" "),i("div",[i("v-btn",{staticClass:"ma-0",attrs:{color:"primary"},on:{click:function(e){return t.dismiss()}}},[t._v("\n                            Done\n                        ")])],1)],1)],1)],1),t._v(" "),i("flex-column",[i("fluro-tabset",t._l(t.tree,(function(e){return i("fluro-tab",{key:e.definitionName,attrs:{heading:e.plural}},[i("flex-column-body",{staticClass:"realm-select-item-outer",class:{"has-selection":t.selection.length}},[i("div",{staticClass:"children"},[t._l(e.realms,(function(e){return[i("fluro-realm-select-item",{attrs:{item:e,check:t.isSelected,callback:t.toggleRealm}})]}))],2)])],1)})),1)],1),t._v(" "),t.selector.selection.length?i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"pa-1":""}},[i("v-btn",{attrs:{small:"",flat:""},on:{click:function(e){return t.selector.deselectAll()}}},[t._v("\n                    Deselect all "+t._s(t.selector.selection.length)+"\n                ")])],1)],1):t._e()]],2)};l._withStripped=!0;var c=i(28),u=i(63),d=i(64),f={props:{options:{type:Object}},components:{FluroRealmSelectItem:a.default,FluroTabset:u.a,FluroTab:d.a},mixins:[c.a,s.a],data:function(){return{selector:this.options.selector}},methods:{isSelected:function(t){return this.selector.isSelected(t)},toggleRealm:function(t){return this.selector.toggleRealm(t)}},computed:{title:function(){var t="Realms";return 1==this.tree.length&&(t=this.tree[0].plural),"Select ".concat(t)},selection:function(){return this.selector.selection},tree:function(){return this.selector.tree},loading:function(){return this.selector.loading},ids:function(){return this.$fluro.utils.arrayIDs(this.options.items)}}},p=(i(628),i(0)),m=Object(p.a)(f,l,[],!1,null,null,null);m.options.__file="src/components/form/realmselect/RealmSelectModal.vue";var h=m.exports,v={computed:{singleOption:{get:function(){return this.singleOptionAvailable},set:function(t){this.singleOptionAvailable=t,this.$emit("single",t)}},mainType:function(){var t=this.tree;return 1==t.length?t[0].definition||t[0]._type:"realm"},title:function(){return this.$fluro.types.readable(this.mainType,!1,"realm")},plural:function(){return this.$fluro.types.readable(this.mainType,!0,"realm")},selectionSummary:function(){return this.selection.length?this.selection.length>3?"".concat(this.selection.length," ").concat(this.plural," selected"):_.map(this.selection,"title").join(", "):"Select ".concat(this.plural)}},components:{FluroRealmSelectItem:a.default,FluroRealmDots:r.a},mixins:[s.a,o.a],props:{small:{type:Boolean},block:{type:Boolean},action:{type:String,default:"create"},expanded:{type:Boolean},value:{type:Array,default:function(){return[]}},type:{type:String},definition:{type:String},filterDiscriminator:{type:String}},data:function(){return{singleOptionAvailable:!0,loading:!0}},asyncComputed:{tree:{default:[],get:function(){var t=this;return t.loading=!0,new Promise((function(e,i){t.$fluro.access.retrieveSelectableRealms(t.action,t.definition,t.type).then((function(i){var n=_.filter(i,(function(e){return!t.filterDiscriminator||!t.filterDiscriminator.length||e.definition==t.filterDiscriminator})),r=_.reduce(i,(function(t,e){return _.each(e.realms,(function(e){!function t(e,i){i[e._id]=e,e.children&&e.children.length&&_.each(e.children,(function(e){t(e,i)}))}(e,t)})),t}),{}),a=_.map(r,(function(t){return t})),o=_.chain(t.$fluro.utils.arrayIDs(t.value)).map((function(t){return r[t]})).compact().value();e(n);var s=!1;o&&o.length?t.setSelection(o):1==a.length&&t.setSelection(a),1==a.length&&(s=!0),t.singleOption=s,t.loading=!1}),(function(e){i(e),t.loading=!1}))}))}}},watch:{value:function(){this.setSelection(this.value)},selection:function(){this.$emit("input",this.selection)}},methods:{showModal:function(){this.$fluro.modal({component:h,options:{selector:this,fixed:!0}})},toggleRealm:function(t){console.log("TOGGLE REALM"),this.toggle(t)}}},g=(i(630),Object(p.a)(v,n,[],!1,null,"6d8c49ce",null));g.options.__file="src/components/form/realmselect/FluroRealmSelect.vue";e.default=g.exports},,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"fluro-inline-edit",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.blur(e)},click:function(e){return e.stopPropagation(),e.preventDefault(),t.enableEdit(e)}}},[t.enabled?[i("span",{staticClass:"inline-edit-input",class:{"inline-hide":!t.props.editing,"inline-show":t.props.editing}},[t._t("edit",null,{props:t.props,blur:t.blur,focus:t.focus})],2),t._v(" "),i("span",{staticClass:"inline-edit-default",class:{"inline-hide":t.props.editing,"inline-show":t.props.editing}},[t._t("default",null,{props:t.props,blur:t.blur,focus:t.focus})],2)]:[t._t("default",null,{props:t.props,blur:t.blur,focus:t.focus})]],2)};n._withStripped=!0;var r={props:{autofocus:{type:Boolean},enabled:{type:Boolean,default:!0}},data:function(){return{props:{element:null,editing:!1},dblclick:{type:Boolean}}},beforeDestroy:function(){this.element&&(this.element.removeEventListener("focus",this.focus),this.element.removeEventListener("blur",this.blur),this.element=null)},mounted:function(){this.mount(),this.autofocus&&this.enableEdit()},methods:{doubleClickEnableEdit:function(){return this.dblclick?this.enableEdit():void 0},clickEnableEdit:function(){return this.dblclick?void 0:this.enableEdit()},mount:function(){this.element=this.$el.querySelector("input, textarea, select, [contenteditable]"),this.element&&(this.element.addEventListener("focus",this.focus),this.element.addEventListener("blur",this.blur))},enableEdit:function(){this.enabled&&(this.element||this.mount(),this.element&&this.element.focus(),this.props.editing=!0)},focus:function(t){this.enabled&&(this.props.editing=!0,this.element&&this.element.select&&this.element.select())},blur:function(){this.props.editing=!1}}},a=(i(488),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/form/FluroInlineEdit.vue";e.default=o.exports},,,,,,,,,,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"print"!=t.context?i("div",[t.$vuetify.breakpoint.smAndUp?i("fluro-realm-dots",{attrs:{realms:t.data}}):t._e(),t.$vuetify.breakpoint.xsOnly?i("fluro-realm-bar",{attrs:{realm:t.data}}):t._e()],1):t._e()};n._withStripped=!0;var r={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/RealmDotCell.vue";e.a=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"realm-bar",style:this.style})};n._withStripped=!0;i(52),i(34);var r={props:{realm:{type:[Object,Array,String]}},computed:{allRealms:function(){var t=[];return this.realm&&(Array.isArray(this.realm)?t=t.concat(this.realm):t.push(this.realm)),t},primaryRealm:function(){return _.find(this.allRealms,(function(t){return t.bgColor&&t.bgColor.length}))},style:function(){if(this.primaryRealm)return{backgroundColor:this.primaryRealm.bgColor}}}},a=(i(610),i(0)),o=Object(a.a)(r,n,[],!1,null,"4a6cff45",null);o.options.__file="src/components/ui/FluroRealmBar.vue";e.default=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title-cell"},[i("div",{staticClass:"grow"},[i("strong",[t._v(t._s(t.row.title))]),t._v(" "),t.firstLine?i("div",{staticClass:"summary"},[t._v(t._s(t.firstLine))]):t._e()]),t._v(" "),t.status?i("div",{staticClass:"shrink"},[t.row.status&&"active"!=t.row.status?i("fluro-status-label",{attrs:{value:t.row.status}}):t._e()],1):t._e()])};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:function(){return!1}}},computed:{firstLine:function(){var t=this.row;if(t.deployment)return t.deployment;if(t.event){if(t.event.startDate)return"".concat(this.$fluro.date.formatDate(t.event.startDate,"ddd D MMM YYYY - h:mma")," - ").concat(t.event.title);if(t.event.title)return"".concat(t.event.title)}return t.firstLine?t.firstLine:t.subject?t.subject:t.description?t.description:void 0}}},a=(i(522),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/TitleCell.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",["print"==this.context?e("div",[this._v("\n        "+this._s(this.data)+"\n    ")]):e("div",[e("fluro-status-label",{attrs:{value:this.data}})],1)])};n._withStripped=!0;var r={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/StatusCell.vue";e.a=o.exports},,,,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-table-wrapper"},[t.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):t._e(),t._v(" "),t.rows.length&&!t.sorted.length?i("v-container",{staticClass:"flex-center"},[t._t("emptytext",[t._v("\n            No results were found matching your criteria\n        ")])],2):[i("div",{ref:"scrollableArea",staticClass:"fluro-table-scroll",class:{clickable:t.clickable,loading:t.showLoading}},[i("span",{ref:"top"}),t._v(" "),i("table",{staticClass:"fluro-table-main no-select"},[i("thead",[i("tr",[t.selectionEnabled?i("th",{staticClass:"first shrink checkbox-cell"},[i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({},n),[i("table-header-checkbox",{tag:"div",attrs:{all:t.allSelected,some:t.someSelected}})],1)]}}],null,!1,3536504858)},[t._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[t.allSelected?t._e():i("v-list-tile",{on:{click:function(e){return t.selectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Select this page\n                                                ")])],1)],1),t._v(" "),t.someSelected?i("v-list-tile",{on:{click:function(e){return t.deselectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Deselect this page\n                                                ")])],1)],1):t._e(),t._v(" "),t.filteredTotal?i("v-list-tile",{on:{click:function(e){return t.selectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Select all "+t._s(t.filteredTotal)+" items\n                                                ")])],1)],1):t._e(),t._v(" "),t.$selection.selection.length?i("v-list-tile",{on:{click:function(e){return t.deselectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Deselect all "+t._s(t.filteredTotal)+" items\n                                                ")])],1)],1):t._e()],1)],1)],1)],1):t._e(),t._v(" "),t._l(t.columns,(function(e){return i("th",{class:[e.classes,{shrink:e.shrink,sortable:t.isSortable(e),sorting:t.sort.sortKey==e.key,"text-xs-center":"center"==e.align,"text-xs-right":"right"==e.align}],on:{click:function(i){return t.toggleSort(e)}}},[t.isActiveSort(e.key)?i("div",{staticClass:"sort-icon"},["desc"==t.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-down"}}):t._e(),t._v(" "),"asc"==t.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-up"}}):t._e()],1):t._e(),t._v("\n                            "+t._s(e.title)+"\n                        ")])})),t._v(" "),t.selectionEnabled?i("th",{staticClass:"last shrink"}):t._e()],2)]),t._v(" "),i("tbody",[t.grouped?[t._l(t.grouped,(function(e){return[e.title?i("tr",{staticClass:"breaker"},[i("th"),t._v(" "),i("td",{attrs:{colspan:1+t.columns.length}},[t._v(t._s(e.title))])]):t._e(),t._v(" "),t._l(e.items,(function(e,n){return i("tr",{key:e[t.trackingKey],class:t.classes(e)},[e._populating?[i("table-row-checkbox",{tag:"th"}),t._v(" "),i("td",{attrs:{colspan:t.columns.length},nativeOn:{click:function(i){return t.clicked(e,t.column,n)}}},[t._v("-")]),t._v(" "),i("th",{staticClass:"shrink"})]:[i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:t.$selection.isSelected(e),value:e},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.checkboxClick(e,i,e._pageIndex)}}}),t._v(" "),t._l(t.columns,(function(r){return i("table-cell",{class:[r.classes,{sorting:t.sort.sortKey==r.key}],attrs:{row:e,column:r},nativeOn:{click:function(i){return t.clicked(e,r,n)}}})})),t._v(" "),i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)])]],2)}))]}))]:t._l(t.page,(function(e,n){return e.hidden?t._e():i("tr",{key:e[t.trackingKey],class:t.classes(e)},[e._populating?[t.selectionEnabled?i("table-row-checkbox",{tag:"th"}):t._e(),t._v(" "),i("td",{attrs:{colspan:t.columns.length},nativeOn:{click:function(i){return t.clicked(e,t.column,n)}}},[t._v("-")]),t._v(" "),t.selectionEnabled?i("th",{staticClass:"shrink"}):t._e()]:[t.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:t.$selection.isSelected(e),value:e},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.checkboxClick(e,i,n)}}}):t._e(),t._v(" "),t._l(t.columns,(function(r){return i("table-cell",{class:[r.classes,{sorting:t.sort.sortKey==r.key}],attrs:{row:e,column:r},nativeOn:{click:function(i){return t.clicked(e,r,n)}}})})),t._v(" "),t.selectionEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):t._e()]],2)}))],2)])]),t._v(" "),t.footerEnabled?i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[t.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[t._v("\n                        "+t._s(t._f("numberWithCommas")(t.startOffset+1))+" to "+t._s(t._f("numberWithCommas")(t.endOffset))+" of "+t._s(t._f("numberWithCommas")(t.filteredTotal))+" matches\n                        ")]),t._v(" "),i("v-flex",{staticClass:"text-xs-right",staticStyle:{"white-space":"nowrap"},attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[t.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e(),t._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],t._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[t._v("\n                        No matches\n                    ")])]],2)],1):t._e()]],2)};n._withStripped=!0;i(34),i(16),i(68),i(22),i(23),i(26),i(31),i(15),i(82),i(13),i(24),i(12),i(77),i(78),i(53),i(107),i(17);var r,a,o=i(294),s=i(295),l=i(117),c=i(19),u={props:{showFooter:{type:Boolean},trackingKey:{type:String,default:"_id"},defaultFields:{type:Array,default:function(){return[]}},grouping:{type:Function},includeArchivedByDefault:{type:Boolean},enableSelection:{type:Boolean,default:!0},defaultSort:{type:String,default:"title"},defaultSortType:{type:String,default:"string"},defaultSortDirection:{type:String,default:"asc"},clickable:{type:Boolean,default:function(){return!0}},clicked:{type:Function,default:function(){return function(t,e){}}},columns:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},filterConfig:{type:Object,default:function(){return{operator:"and",filters:[]}}},initPage:{type:[Number,String],default:1},initSort:{type:Object,default:function(){return{key:this.defaultSort||"title",direction:this.defaultSortDirection||"asc",type:this.defaultSortType||"string"}}},pageSize:{type:Number,default:100},dataSource:{type:String},allDefinitions:{type:Boolean},search:{type:String},startDate:{type:Date},endDate:{type:Date}},data:function(){return{filtered:[],refined:[],debouncedSearch:this.search,perPage:this.pageSize,loading:!1,loadingItems:!1,currentPage:parseInt(this.initPage),previousSelectionIndex:-1,sort:JSON.parse(JSON.stringify(this.initSort)),rowsLoaded:0}},computed:{footerEnabled:function(){return!!this.showFooter||(this.totalPages>1||void 0)},selectionEnabled:function(){return!(!1===this.enableSelection)&&this.$selection},grouped:function(){return this.grouping?this.grouping(this.page):void 0},excludeArchived:function(){return!this.includeArchivedByDefault&&!_.some(this.activeFilterRows,(function(t){if("status"==t.key){var e="archived"==t.value||_.includes(t.values,"archived"),i="deceased"==t.value||_.includes(t.values,"deceased");switch(t.comparator){case"==":case"startswith":case"endswith":case"like":case"contains":case"in":return e||i;default:return!e&&!i}}}))},rowsTotal:function(){return this.rowsLoaded||this.rows.length||5e3},showLoading:function(){return this.loading||this.loadingItems},activeFilters:function(){return c.FilterService.activeFilters(this.filterConfig)},activeFilterRows:function(){return _.filter(this.activeFilters,(function(t){return t.comparator&&t.comparator.length}))},activeFilterKeys:function(){return c.FilterService.activeFilterKeys(this.filterConfig)},activeFilterValues:function(){return c.FilterService.activeFilterValues(this.filterConfig)},activeFilterComparators:function(){return c.FilterService.activeFilterComparators(this.filterConfig)},activeFilterOperators:function(){return c.FilterService.activeFilterComparators(this.filterConfig)},rowCheckString:function(){var t=this.rows||[],e=_.map(t,"_id").join(""),i=_.keys(t[0]);return"".concat(e).concat(i)},dateWatchString:function(){if(this.startDate&&this.endDate)return String(this.startDate)+String(this.endDate)},filterCheckString:function(){return c.FilterService.getFilterChangeString(this.filterConfig)},isAsync:function(){return this.dataSource&&this.dataSource.length},previousPageDisabled:function(){return this.currentPage<=1},nextPageDisabled:function(){return this.currentPage==this.totalPages},sorted:function(){var t=this.refined;if(!this.sort||!t.length)return t;var e=this.sort.sortKey,i=this.sort.sortType,n=this.sort.sortDirection;return e&&e.length||(e=this.defaultSort),i&&i.length||(i=this.defaultSortType),n&&n.length||(n=this.defaultSortDirection),t=_.orderBy(t,(function(t){var n=_.get(t,e);_.isArray(n)&&n.length&&(n=n[0]);var r=null==n;switch(i){case"boolean":return n?1:0;case"number":case"integer":case"decimal":case"float":return r||isNaN(n)?-1e34:"integer"==i?parseInt(n):parseFloat(n);case"date":if(r)return 0;var a=new Date(n).getTime();return isNaN(a)?0:a;default:return _.isObject(n)&&(n.title?n=n.title:n.name&&(n=n.name)),String(n).toLowerCase()}})),"desc"==n&&t.reverse(),t},filteredTotal:function(){return this.refined?this.refined.length:0},availablePages:function(){return _.chunk(this.sorted,this.perPage)},startOffset:function(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset:function(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},rawPage:function(){return this.currentPage>this.totalPages?_.first(this.availablePages):this.availablePages[this.currentPage-1]},totalPages:function(){return this.availablePages?this.availablePages.length:0},allSelected:function(){var t=this;if(t.page&&t.page.length)return!_.some(t.page,(function(e){return!t.$selection.isSelected(e)}))},someSelected:function(){var t=this;return!!t.allSelected||_.some(t.page,(function(e){return t.$selection.isSelected(e)}))},selectAllIcon:function(){return this.allSelected?"check-square":this.someSelected?"minus-square":"square"}},asyncComputed:{rows:{default:[],get:function(){var t=this;if(!t.isAsync)return Promise.resolve([]);var e=["_id","title","status"];(t.startDate||t.endDate)&&(e.push("startDate"),e.push("endDate")),t.sort&&t.sort.sortKey&&e.push(t.sort.sortKey);var i=t.excludeArchived;e=e.concat(t.activeFilterKeys);return t.loadingItems=!0,t.rowsLoaded=0,e=_.chain(e).compact().uniq().value(),new Promise((function(n,a){var o=0,s=0,l=[];return c();function c(){r=t.$fluro.api.CancelToken.source();var u={fields:e,limit:5e3,offset:s};t.dataSource,i&&(u.excludeArchived=!0),t.allDefinitions&&(u.allDefinitions=!0);var d=_.chain(JSON.stringify(u)).compact().orderBy((function(t){return t})).value().join("");d="".concat(t.dataSource,"-").concat(d);var f=t.$fluro.cache.get("async-table-cache"),p=f.get(d);if(p)return m(p);function m(e){return l=l.concat(e),t.rowsLoaded+=l.length,function(e){var i=5e3==e.length,r=l.length>=1e5;if(i&&!r)return o++,s=5e3*o,console.log("Loading Chunk",o,s,"-",s+5e3),c();n(l),t.loadingItems=!1,t.$emit("raw",l)}(e)}return t.$fluro.api.get(t.dataSource,{params:u,cancelToken:r.token}).then((function(t){f.set(d,t.data),m(t.data)}),(function(e){if(!t.$fluro.api.axios.isCancel(e))return a(e)}))}}))}},page:{default:[],get:function(){var t=this;if(!t.isAsync)return Promise.resolve(t.rawPage);var e=_.map(t.rawPage,"_id");if(!e||!e.length)return t.loading=!1,Promise.resolve([]);var i=["title","_type","definition"];return i=i.concat(_.chain(t.columns).map((function(t){switch(t.key){case"firstName":return["firstName","preferredName","ethnicName"];case"lastName":return["lastName","maidenName"]}return t.additionalFields&&t.additionalFields.length?[].concat(t.additionalFields,t.key):t.key})).flatten().uniq().compact().value()),t.loading=!0,new Promise((function(n,r){a=t.$fluro.api.CancelToken.source(),t.$fluro.api.get("/content/multiple",{params:{ids:e,select:i,populateAll:!0,limit:e.length},cancelToken:a.token}).then((function(i){var r=_.reduce(i.data,(function(t,e,i){return t[e._id]=e,t}),{}),a=_.chain(e).map((function(t,e){var i=r[t];if(i)return i._pageIndex=e,i;console.log("No entry for",t)})).compact().value();n(a),t.loading=!1}),(function(e){if(!t.$fluro.api.axios.isCancel(e))return r(e)}))}))}}},filters:{numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},watch:{items:"refilter",rows:"refilter",filterCheckString:"refilter",search:_.debounce((function(t){this.debouncedSearch=t,this.refine()}),500),dateWatchString:_.debounce((function(t){this.refine()}),500)},methods:{refilter:function(){var t=this,e=t.isAsync?t.rows:t.items;if(!e||!e.length)return t.filtered=e,t.refine();c.FilterService.isValidFilter(t.filterConfig)&&(e=_.filter(e,(function(e){return c.FilterService.filterGroupMatch(t.filterConfig,e)}))),t.filtered=e,t.refine()},refine:function(){var t=this.filtered;if(t&&t.length){var e=t;if(this.debouncedSearch&&this.debouncedSearch.length){var i=String(this.debouncedSearch).toLowerCase().trim(),n=i.split(" ");e=_.filter(e,(function(t){var e=String(t.title).trim().toLowerCase();return!!_.includes(e,i)||(!!_.every(e.split(" "),(function(t){return _.some(n,(function(e){return _.includes(e,t)}))}))||c.FilterService.matchAnyString(i,t))}))}if(this.startDate&&this.endDate){var r=new Date(this.startDate);r.setHours(0,0,0,0);var a=new Date(this.endDate);a.setHours(0,0,0,0),e=_.filter(e,(function(t){var e=new Date(t.startDate);e.setHours(0,0,0,0);var i=new Date(t.endDate);if(i.setHours(0,0,0,0),!(i<r||e>a))return!0}))}this.refined=e}else this.refined=[]},checkboxClick:function(t,e,i){return this.toggleSelection(t,e,i)},toggleSelection:function(t,e,i,n){if(!e)return n?void this.$selection.setSelection([t]):void this.$selection.toggle(t);if(e.metaKey)return this.previousSelectionIndex=-1,this.$selection.toggle(t);if(!e.shiftKey)return this.previousSelectionIndex=i,n?(this.$selection.previousIntent="select",this.$selection.setSelection([t])):this.$selection.toggle(t);if(i||(this.previousSelectionIndex=-1),-1!=this.previousSelectionIndex){var r=Math.min(this.previousSelectionIndex,i),a=Math.max(this.previousSelectionIndex,i);i>this.previousSelectionIndex&&(a+=1),this.previousSelectionIndex=i;var o=this.page.slice(r,a);switch(this.$selection.previousIntent){case"deselect":return this.$selection.deselectMultiple(o);default:return this.$selection.selectMultiple(o)}}return this.previousSelectionIndex=i,this.$selection.toggle(t)},isActiveSort:function(t){return this.sort.sortKey==t},isSortable:function(t){if(t)return!(!1===t.sortable)},setSort:function(t){this.sort=t,this.$emit("sort",t)},toggleSort:function(t){if(this.isSortable(t)&&t.key&&t.key.length){var e=t.key,i=t.sortType||"string",n=this.sort&&this.sort.sortKey==e,r=this.sort.sortDirection,a=n&&"asc"==r?"desc":"asc";this.isAsync,this.setSort({sortKey:e,sortType:i,sortDirection:a}),this.setPage(1)}},classes:function(t){var e=[];return t?(this.$selection.isSelected(t)&&e.push("selected"),e.push("status-"+t.status),e):e},setPage:function(t){if(this.currentPage!=t){this.currentPage=t;var e=this.$refs.top;e&&e.scrollIntoView({}),this.$emit("page",t)}else console.log("already at page",t)},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.totalPages},nextPage:function(){this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage:function(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage:function(){this.page&&this.page.length&&this.$selection.selectMultiple(this.page)},deselectPage:function(){this.page&&this.page.length&&this.$selection.deselectMultiple(this.page)},selectAll:function(){this.$selection.selectMultiple(this.refined)},deselectAll:function(){this.$selection.deselectAll()},toggleSelectAll:function(){this.page&&this.page.length&&(this.allSelected?this.$selection.deselectMultiple(this.page):this.$selection.selectMultiple(this.page))}},components:{TableHeaderCheckbox:o.a,TableRowCheckbox:s.a,TableCell:l.a}},d=(i(514),i(0)),f=Object(d.a)(u,n,[],!1,null,null,null);f.options.__file="src/components/table/FluroTable.vue";e.a=f.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"content-select-modal"},[t.loading?i("flex-column",[i("v-container",{staticClass:"text-xs-center",attrs:{fluid:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{fluid:"","pa-2":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[t.$vuetify.breakpoint.smAndUp?[i("v-flex",{attrs:{shrink:""}},[i("h5",[i("fluro-icon",{attrs:{left:"",type:t.type}}),t._v(" "+t._s(t.modalTitle))],1)]),t._v(" "),i("v-spacer")]:t._e(),t._v(" "),i("v-flex",[t.showFilters?t._e():[i("div",{staticClass:"search",class:{active:t.searchFocussed||t.search.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{autofocus:t.$vuetify.breakpoint.smAndUp,placeholder:"Search by keyword"},domProps:{value:t.search},on:{focus:function(e){t.searchFocussed=!0},blur:function(e){t.searchFocussed=!1},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("div",{staticClass:"search-icon",on:{click:function(e){t.search=""}}},[t.search.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])]],2),t._v(" "),i("v-spacer"),t._v(" "),t.$vuetify.breakpoint.smAndUp?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"my-0",attrs:{icon:"",small:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[i("fluro-icon",{attrs:{icon:"filter"}})],1)],1):t._e(),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"my-0 mr-0",attrs:{color:"primary",small:""},on:{click:function(e){return t.close(t.selector.selection)}}},[t._v("\n                            Done\n                        ")])],1)],2)],1)],1),t._v(" "),i("flex-column",[i("v-layout",{attrs:{"fill-height":""}},[i("flex-column",{staticStyle:{"min-height":"50vh"}},[i("fluro-dynamic-table",{attrs:{queryString:!1,"enable-actions":!1,allDefinitions:t.retrieveAllDefinitions,searchInheritable:t.options.searchInheritable,"filter-config":t.filterConfig,"lock-filter":t.options.lockFilter,"selection-controller":t.selector,clicked:t.rowClicked,search:t.search,"data-type":t.type,columns:t.columns},on:{raw:t.rowsChanged,filtered:t.filteredChanged,page:t.pageChanged,sort:t.sortChanged}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"filter-sidebar scroll-y"},[i("div",[i("v-container",{attrs:{"pa-2":""}},[i("div",{staticClass:"search",class:{active:t.searchFocussed||t.search.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Keyword search"},domProps:{value:t.search},on:{focus:function(e){t.searchFocussed=!0},blur:function(e){t.searchFocussed=!1},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("div",{staticClass:"search-icon",on:{click:function(e){t.search=""}}},[t.search.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])]),t._v(" "),i("filter-condition-group",{attrs:{rows:t.rows,mini:!0,type:t.type,debounce:t.filterDebounce},model:{value:t.filterConfig,callback:function(e){t.filterConfig=e},expression:"filterConfig"}})],1)])],1)],1)]],2)};n._withStripped=!0;i(26),i(24);var r=i(28),a=i(61),o=i(63),s=i(64),l=i(286),c=i(115),u=i(101),d=i(71),f=i(103),p=i(104),m=i(143),h=i(144),v=i(119),g=i(19),b=i(25),y=i.n(b).a.extend({props:{row:{type:Object},column:{type:Object},data:{}},template:'\n    <div >\n        <strong>{{row.title}}</strong>\n        <div>\n            <em class="text-muted small">{{row | readableEventDate}}</em>\n            <div v-if="row.firstLine" ><em class="text-muted small">{{row.firstLine | limit(100)}}</em> </div>\n            <div v-if="row.rooms && row.rooms.length"  class="text-muted small" ><strong>Rooms:</strong> <em>{{row.rooms | comma(\'title\')}}</em></div>\n        </div>\n\n       \n    </div>'}),_={props:{options:{type:Object}},components:{FilterConditionGroup:c.default,FluroTabset:o.a,FluroTab:s.a,FluroDynamicTable:l.a,RealmDotCell:u.a,DateCell:d.a,TitleCell:f.a,StatusCell:p.a,DefinitionCell:m.a,ThumbnailCell:h.a,TypeImageCell:v.a},mixins:[r.a,a.a],data:function(){var t=["active","draft"],e=this.$fluro.types.parentType(this.options.type)||this.options.type;switch(e){case"plan":t.push("template")}console.log("PLAN STATUSES",e,t);var i=this.options.filter||{operator:"and",filters:[{operator:"and",filters:[{key:"status",comparator:"in",values:t}]}]};return console.log("INITIAL FILTER",this.options.filter,i),{sorted:[],rows:[],search:"",searchFocussed:!1,showFilters:!1,filterConfig:JSON.parse(JSON.stringify(i)),selector:this.options.selector}},methods:{rowClicked:function(t){this.selectionManager.toggle(t)},isSelected:function(t){return this.selectionManager.isSelected(t)},toggleRealm:function(t){return this.selectionManager.toggleRealm(t)},resetFilter:function(){this.filterConfig={}},filteredChanged:function(t){this.sorted=t},rowsChanged:function(t){this.rows=t},pageChanged:function(t){this.$router.push({query:Object.assign({},this.$route.query,{page:t})})},sortChanged:function(t){this.$router.replace({query:Object.assign({},this.$route.query,t)})}},computed:{retrieveAllDefinitions:function(){return this.options.allDefinitions||this.selector.allDefinitions},selectionManager:function(){return this.selector},filterChangeString:function(){return g.FilterService.getFilterChangeString(this.filterConfig)},filterDebounce:function(){return this.$vuetify.breakpoint.smAndDown?1500:700},modalTitle:function(){var t=this.selectionManager.selection.length;return t?1==t?"1 ".concat(this.title," selected"):"".concat(t," ").concat(this.plural," selected"):this.options.title?this.options.title:1==this.selector.maximum?"Select ".concat(this.title):"Select ".concat(this.plural)},type:function(){return this.options.type||"node"},parentType:function(){var t=this.$fluro.types.parentType(this.type);return t},title:function(){return this.$fluro.types.readable(this.type,!1)},plural:function(){return this.$fluro.types.readable(this.type,!0)},selection:function(){return this.selectionManager.selection},tree:function(){return this.selectionManager.tree},loading:function(){return this.selectionManager.loading},ids:function(){return this.$fluro.utils.arrayIDs(this.options.items)},columns:function(){var t=[{title:"",shrink:!0,align:"center",key:"realms",renderer:u.a}];switch(this.parentType){case"node":t=t.concat([{title:"",key:"_id",renderer:v.a,shrink:!0},{title:"Title",key:"title",renderer:f.a}]);break;case"image":t=t.concat([{title:"Thumbnail",key:"_id",renderer:h.a},{title:"Title",key:"title",renderer:f.a},{title:"Width",key:"width",sortType:"number"},{title:"Height",key:"height",sortType:"number"}]);break;case"event":t=t.concat([{title:"",key:"_id",renderer:v.a,shrink:!0},{title:"Title",key:"title",renderer:y,additionalFields:["startDate","endDate","firstLine"]}]);break;default:t=t.concat([{title:"Title",key:"title",renderer:f.a}])}return t=t.concat([{title:"Definition",key:"definition",shrink:!0,renderer:m.a},{title:"Status",key:"status",shrink:!0,renderer:p.a},{type:"date",title:"Updated",shrink:!0,key:"updated",renderer:d.a,sortType:"date"},{type:"date",title:"Created",shrink:!0,key:"created",renderer:d.a,sortType:"date"}])}},watch:{type:function(){this.filterConfig=JSON.parse(JSON.stringify(defaultFilters)),this.$router.replace({query:Object.assign({},this.$route.query,{filter:JSON.stringify(this.filterConfig)})})},filterChangeString:function(){this.$router.replace({query:Object.assign({},this.$route.query,{filter:JSON.stringify(this.filterConfig)})})}}},x=(i(636),i(0)),k=Object(x.a)(_,n,[],!1,null,null,null);k.options.__file="src/components/form/contentselect/FluroContentSelectModal.vue";e.a=k.exports},,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-group-outer",class:{mini:t.mini,large:!t.mini}},[i("v-container",{ref:"element",class:[{"pa-2":t.mini},t.model.operator]},[t.model.filters.length>1?i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{"d-flex":"","align-center":""}},[t.mini?[i("div",{staticClass:"description"},[t._v("\n                        Match\n                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.model,"operator",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"and"}},[t._v("all")]),t._v(" "),i("option",{attrs:{value:"or"}},[t._v("any")]),t._v(" "),i("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v("\n                        of these rules\n                    ")])]:[i("div",{staticClass:"description"},[t._v("\n                        Show items that match\n                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.model,"operator",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"and"}},[t._v("all")]),t._v(" "),i("option",{attrs:{value:"or"}},[t._v("any")]),t._v(" "),i("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v(" of these conditions\n                    ")])]],2)],1):t._e(),t._v(" "),t._l(t.model.filters,(function(e,n){return i("v-layout",{key:e.guid,attrs:{row:""}},[t.model.filters.length>1?i("div",{staticClass:"operator-column offset ",class:t.model.operator,attrs:{"d-flex":"","align-center":""}},[i("span",{staticClass:"operator",class:[{additional:n},t.model.operator]},[t._v(t._s(t.operatingWord(t.model,n)))])]):t._e(),t._v(" "),i("v-flex",{staticStyle:{overflow:"hidden"}},[i("v-container",{staticClass:"additional filter-group",class:[{"pa-2":t.mini},{"py-2 px-0":!t.mini},e.operator]},[e.filters?[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{"d-flex":"","align-center":""}},[t.mini?[i("div",{staticClass:"description"},[t._v("\n                                        Matches\n                                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"group.operator"}],staticClass:"select-operator",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"operator",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:"and"}},[t._v("all")]),t._v(" "),i("option",{attrs:{value:"or"}},[t._v("any")]),t._v(" "),i("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v("\n                                        of these conditions\n                                    ")])]:[i("div",[i("h4",[t._v("Rule "+t._s(n+1))]),t._v(" "),e.filters.length>1?i("div",[t._v("\n                                            Show items that match\n                                            "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"group.operator"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"operator",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:"and"}},[t._v("All")]),t._v(" "),i("option",{attrs:{value:"or"}},[t._v("Any")]),t._v(" "),i("option",{attrs:{value:"nor"}},[t._v("None")])]),t._v(" of these conditions\n                                        ")]):t._e()])]],2),t._v(" "),i("v-spacer"),t._v(" "),t.mini?[i("div",{staticClass:"hover",staticStyle:{"white-space":"nowrap"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Duplicate rule",color:"grey"},on:{click:function(e){return t.duplicateEntry(t.model,n)}}},[i("fluro-icon",{attrs:{icon:"copy"}})],1),t._v(" "),i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Remove rule",color:"red"},on:{click:function(e){return t.removeEntry(t.model,n)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)]:[i("div",{staticClass:"hover"},[i("v-btn",{attrs:{small:"",color:"grey",outline:""},on:{click:function(e){return t.duplicateEntry(t.model,n)}}},[i("span",{staticClass:"btn-label"},[t._v("Duplicate")]),t._v(" "),i("fluro-icon",{attrs:{right:"",icon:"copy"}})],1),t._v(" "),i("v-btn",{attrs:{small:"",color:"red",outline:""},on:{click:function(e){return t.removeEntry(t.model,n)}}},[i("span",{staticClass:"btn-label"},[t._v("Remove")]),t._v(" "),i("fluro-icon",{attrs:{right:"",icon:"trash-alt"}})],1)],1)]],2),t._v(" "),t._l(e.filters,(function(n,r){return i("div",{key:n.guid},[i("v-layout",[e.filters.length>1?i("div",{staticClass:"operator-column",class:[e.operator],attrs:{"d-flex":"","align-center":""}},[i("span",{staticClass:"operator",class:[{additional:r},e.operator]},[t._v(t._s(t.operatingWord(e,r)))])]):t._e(),t._v(" "),i("v-flex",{staticStyle:{overflow:"hidden"}},[t.availableKeys.length?[i("filter-condition-row",{attrs:{type:t.type,useSample:t.useSample,rows:t.rows,loadingKeys:t.loadingKeys,definition:t.definition,fields:t.availableKeys,mini:t.mini},model:{value:e.filters[r],callback:function(i){t.$set(e.filters,r,i)},expression:"group.filters[index]"}})]:t._e()],2),t._v(" "),e.filters.length>1?i("div",[t.mini?[i("v-btn",{staticClass:"ma-0",attrs:{small:"",flat:"",color:"error",icon:""},on:{click:function(i){return t.removeEntry(e,r)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)]:[i("v-btn",{attrs:{icon:"",small:"",flat:"",color:"error"},on:{click:function(i){return t.removeEntry(e,r)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)]],2):t._e()],1)],1)}))]:t._e(),t._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{small:""},on:{click:function(i){return t.addCondition(e)}}},[t._v("\n                        Add Condition\n                        "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)],1)})),t._v(" "),t.limit?t._e():i("v-btn",{staticClass:"mx-0",attrs:{color:"white"},on:{click:function(e){return t.addRule(t.model)}}},[t._v("\n            Add "+t._s(t.model.filters.length?"Another":"")+" Rule\n            "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)};n._withStripped=!0;i(31),i(12),i(17),i(13),i(25);var r=i(19);var a={props:{useSample:{type:Boolean},type:{type:String},fields:{type:Array,default:function(){return[]}},mini:{type:Boolean},rows:{type:Array},value:{type:Object,required:!0,default:function(){return{guid:this.$fluro.utils.guid(),operator:"and",filters:[]}}},debounce:{type:Number,default:500},limit:{type:Boolean}},data:function(){var t=this,e=JSON.parse(JSON.stringify(this.value));return e.filters||(e.filters=[]),_.each(e.filters,(function(e){e.guid=t.$fluro.utils.guid()})),{model:e,debounced:null,operatorOptions:[{text:"All",value:"and"},{text:"Any",value:"or"},{text:"All",value:"and"}],asyncKeys:[],loadingKeys:!1}},beforeCreate:function(){this.$options.components.FilterConditionRow=i(174).default,this.$options.components.FilterConditionGroup=i(115).default},created:function(){var t=this;t.debounced=_.debounce((function(){t.$emit("input",t.model)}),t.debounce)},methods:{operatingWord:function(t,e){if(e)return t.operator;switch(t.operator){case"nor":return"Not";default:return"Where"}},addRule:function(t){t.filters.push({operator:"and",guid:this.$fluro.utils.guid(),filters:[{comparator:"in"}]})},addCondition:function(t){t.filters.push({guid:this.$fluro.utils.guid(),comparator:"in"})},duplicateEntry:function(t,e){var i=JSON.parse(JSON.stringify(t.filters[e]));i.guid=this.$fluro.utils.guid(),t.filters.splice(e,0,i)},removeEntry:function(t,e){this.$delete(t.filters,e),t.filters.length<2&&(console.log("Set to AND"),this.$set(t,"operator","and"))},retrieveKeys:function(){var t=this;if(!t.rows||!t.rows.length)return t.asyncKeys=[],void(this.loadingKeys=!1);this.loadingKeys=!0;var e=t.rowChangeString,i=this.$fluro.cache.get("filter-distinct-keys"),n=i[e];if(!n){var r=t.$fluro.utils.arrayIDs(t.rows),a={};t.definition&&t.definition.type&&(a.type=t.definition.type.definitionName),n=i[e]=t.$fluro.content.keys(r,a)}n.then((function(e){console.log("Keys!!",e),t.asyncKeys=e,t.loadingKeys=!1}),(function(n){console.log("Error",n),t.asyncKeys=[],t.loadingKeys=!1,i[e]=null}))}},asyncComputed:{eventRealms:{default:[],get:function(){var t=this;return t.isContactType?new Promise((function(e,i){return t.$fluro.access.retrieveSelectableRealms("view","event","event",{flat:!0}).then((function(t){var i=_.reduce(t,(function(t,e){return t=t.concat(e.realms)}),[]);e(i)})).catch(i)})):Promise.resolve([])}},eventTracks:{get:function(){var t=this;return t.isContactType?new Promise((function(e,i){t.$fluro.api.get("/content/eventtrack",{params:{fields:["title","definition","status"],allDefinitions:!0}}).then((function(i){var n=_.chain(i.data).map((function(e){if("active"==e.status)return e.definitionTitle=t.$fluro.types.readable(e.definition),e})).compact().value();e(n)})).catch(i)})):Promise.resolve([])}},groupNames:{get:function(){return Promise.resolve([])}},interactionTypes:{get:function(){return this.isContactType?this.$fluro.types.subTypes("interaction"):Promise.resolve([])}},rosterTypes:{get:function(){return this.isContactType?this.$fluro.types.subTypes("roster"):Promise.resolve([])}},eventTypes:{get:function(){return this.isContactType?this.$fluro.types.subTypes("event"):Promise.resolve([])}},teamTypes:{get:function(){return this.isContactType?this.$fluro.types.subTypes("team"):Promise.resolve([])}},processTypes:{get:function(){return this.$fluro.types.subTypes("process")}},postTypes:{get:function(){return this.$fluro.types.subTypes("post")}},tagTypes:{get:function(){return this.$fluro.types.subTypes("tag")}},definition:{get:function(){var t=this;return t.type&&t.type.length?new Promise((function(e,i){return t.$fluro.types.get(t.type).then((function(t){return e(t)})).catch(i)})):Promise.resolve(null)}}},computed:{definitionFields:function(){return _.chain(this.definition).get("definition.fields").map((function(t){return Object.assign({},t,{key:"data."+t.key})})).value()},typeFields:function(){return _.get(this,"definition.type.fields")||[]},detailSheetFields:function(){return this.definition&&this.definition.details&&this.definition.details.length?_.reduce(this.definition.details,(function(t,e){var i=function t(e,i,n){return _.chain(e).map((function(e,r){var a=[];if(e.fields&&e.fields.length){(e.asObject||"embedded"==e.directive)&&(i.push(e.key),n.push(e.title),e.trail=i.slice(),e.titles=n.slice(),i.pop(),n.pop(),a.push(e),1!=e.maximum?(i.push(e.key+"[]"),n.push(e.title)):(i.push(e.key),n.push(e.title)));var o=t(e.fields,i,n);(e.asObject||"embedded"==e.directive)&&(i.pop(),n.pop()),a.push(o)}else i.push(e.key),n.push(e.title),e.trail=i.slice(),e.titles=n.slice(),i.pop(),n.pop(),a.push(e);return a})).flattenDeep().value()}(e.fields,[],[]),n=_.chain(i).map((function(t){if("group"!=t.type)return{title:e.title+" - "+t.titles.join(" > "),key:"details.".concat(e.definitionName,".items[].data.").concat(t.trail.join(".")),minimum:t.minimum,maximum:t.maximum,detail:e.definitionName,type:t.type}})).compact().value();return t.concat(n)}),[]):[]},isContactType:function(){return"contact"==this.type||(!(!this.definition||"contact"!=this.definition.parentType)||void 0)},availableKeys:function(){var t=[],e=[];if(e=e.concat(_.map(this.postTypes,(function(t){return{text:t.title,value:t.definitionName}}))),t.push({title:"Posts and Notes > Total linked posts",key:"_posts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where post matches...",subfields:[{title:"Created Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Post Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:e}]}),this.isContactType){var i=[],n=[],a=[],o=[],s=[],l=[];l=l.concat(_.map(this.groupNames,(function(t){return{text:t.title,value:t.title}}))),o=o.concat(_.map(this.interactionTypes,(function(t){return{text:t.title,value:t.definitionName}}))),a=a.concat(_.map(this.rosterTypes,(function(t){return{text:t.title,value:t.definitionName}}))),n=n.concat(_.map(this.eventTracks,(function(t){return{title:t.title,_id:t._id}}))),i=i.concat(_.map(this.eventTypes,(function(t){return{title:t.title,text:t.title,value:t.definitionName}}))),s=s.concat(_.map(this.teamTypes,(function(t){return{title:t.title,text:t.title,value:t.definitionName}}))),t.push({title:"Total number of groups",key:"_teams.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where group matches...",subfields:[{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Tags",key:"tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"},{title:"Definition",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:s}]}),t.push({title:"Total number of tickets",key:"_tickets.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where...",subfields:[{title:"Event",key:"event",maximum:1,minimum:0,type:"reference",typeSelect:"event"},{title:"Event Date",key:"eventDate",maximum:1,minimum:0,type:"date"},{title:"Event Type",key:"eventDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:i},{title:"Event Track",key:"eventTrack",maximum:1,minimum:0,type:"reference",typeSelect:"eventtrack"},{title:"Ticket Title / Type",key:"title",maximum:1,minimum:0,type:"string"},{title:"Collected",key:"collected",maximum:1,minimum:0,type:"boolean"},{title:"Collected By",key:"collectedBy",maximum:1,minimum:0,type:"string"},{title:"Collection Date",key:"collectionDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Tags",key:"tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"},{title:"Definition",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:s}]}),t.push({title:"Attendance > Total times checked in",key:"_checkins.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where event matches...",subfields:[{title:"Date",key:"startDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Event Track",key:"track",maximum:0,minimum:0,type:"reference",directive:"select",options:n},{title:"Event Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:i}]}),t.push({title:"Rostered Assignments > Total times rostered",key:"_assignments.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where assignment matches...",subfields:[{title:"Position",key:"title",maximum:1,minimum:0,type:"string",directive:"select"},{title:"Confirmation Status",key:"confirmationStatus",maximum:1,minimum:0,type:"string",directive:"select",options:[{value:"",name:"None"},{value:"confirmed",name:"Confirmed"},{value:"denied",name:"Declined"},{value:"unknown",name:"Unknown"}]},{title:"Roster Type",key:"rosterDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:a},{title:"Event Type",key:"eventDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:i},{title:"Date",key:"startDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Event Track",key:"track",maximum:0,minimum:0,type:"reference",directive:"select",options:n}]}),t.push({title:"Forms > Total submissions",key:"_interactions.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where submission matches...",subfields:[{title:"Submission Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Form",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:o}]}),t.push({title:"Mailouts > Total Emails",key:"_mailouts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"That matches criteria...",subfields:[{title:"Send Date",key:"date",maximum:1,minimum:0,type:"date"},{title:"State",key:"state",maximum:1,minimum:0,type:"string",directive:"select",options:[{text:"Unopened",value:"sent"},{text:"Opened",value:"open"},{text:"Clicked",value:"click"},{text:"Unsubscribed",value:"unsubscribe"},{text:"Bounced / Failed",value:"error"}]},{title:"Mailout Type",key:"mailoutType",maximum:0,minimum:0,type:"string",directive:"select",options:[{text:"Promotional",value:"promotional"},{text:"Transactional",value:"transactional"}]},{title:"Mailout",key:"_id",maximum:0,minimum:0,type:"reference",typeSelect:"mailout"}]}),t.push({title:"Fluro Login > Access Passes",key:"_persona.policies",maximum:1,minimum:0,type:"reference",typeSelect:"policy"}),t.push({title:"Fluro Login > Status",key:"_persona.state",maximum:1,minimum:0,type:"string",directive:"select",options:[{text:"None / No Access",value:"none"},{text:"Awaiting Collection",value:"waiting"},{text:"Connected",value:"connected"}]}),t.push({title:"Posts and Notes > Total linked posts to family members",key:"_familyPosts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where post matches...",subfields:[{title:"Created Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Post Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:e}]}),t.push({title:"Family Members > Number of Family Members",key:"family.items.length",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Parents > Number of Parents",key:"family._parents.length",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Children > Number of Children",key:"family._children.length",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Parents > Definition",key:"family._parents[]definition",maximum:1,minimum:0,type:"string"}),t.push({title:"Family Children > Definition",key:"family._children[]definition",maximum:1,minimum:0,type:"string"}),t.push({title:"Family Members > Definition",key:"family.items[]definition",maximum:1,minimum:0,type:"string"}),t.push({title:"Family Parents > Of Gender",key:"family._parents[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),t.push({title:"Family Members > Of Gender",key:"family.items[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),t.push({title:"Family Members > Of Household Role",key:"family.items[]householdRole",maximum:1,minimum:0,type:"string"}),t.push({title:"Family Children > Of Gender",key:"family._children[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),t.push({title:"Family Children > Of Age",key:"family._children[]age",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Parents > Of Age",key:"family._parents[]age",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Members > Of Age",key:"family.items[]age",maximum:1,minimum:0,type:"integer"}),t.push({title:"Family Children > Realms",key:"family._children[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),t.push({title:"Family Members > Realms",key:"family.items[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),t.push({title:"Family Parents > Realms",key:"family._parents[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),t.push({title:"Assigned position in any active Group/Team",key:"_positions.active",maximum:0,minimum:0,type:"string",directive:"select"}),_.each(this.teamTypes,(function(e){t.push({title:"Family Members > ".concat(e.plural),key:"family.items[]realms|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:e.definitionName,_discriminatorType:"team"}),t.push({title:"Family Children > ".concat(e.plural),key:"family._children[]realms|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:e.definitionName,_discriminatorType:"team"}),t.push({title:"Family Parents > ".concat(e.plural),key:"family._parents[]realms|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:e.definitionName,_discriminatorType:"team"}),t.push({title:"Assigned position in ".concat(e.plural),key:"_positions.".concat(e.definitionName),maximum:0,minimum:0,type:"string",directive:"select"})})),t.push({title:"Family Children > Tags",key:"family._children[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),t.push({title:"Family Members > Tags",key:"family.items[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),t.push({title:"Family Parents > Tags",key:"family._parents[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),_.each(this.tagTypes,(function(e){t.push({title:"Family Children > ".concat(e.plural," (Tag)"),key:"family._children[]tags|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",typeSelect:e.definitionName}),t.push({title:"Family Members > ".concat(e.plural," (Tag)"),key:"family.items[]tags|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",typeSelect:e.definitionName}),t.push({title:"Family Parents > ".concat(e.plural," (Tag)"),key:"family._parents[]tags|".concat(e.definitionName),maximum:0,minimum:0,type:"reference",typeSelect:e.definitionName})})),t.push({title:"Family Children > Academic Calendar",key:"family._children[]academicCalendar",maximum:0,minimum:0,type:"reference",directive:"select"}),t.push({title:"Family Children > Academic Grade",key:"family._children[]academicGrade",maximum:0,minimum:0,type:"string",directive:"select"}),_.each(this.processTypes,(function(e){t.push({title:"Process > ".concat(e.plural," > In Process"),key:"_processes.".concat(e.definitionName,".in"),maximum:0,minimum:0,type:"boolean"}),t.push({title:"Process > ".concat(e.plural," > Due Date"),key:"_processes.".concat(e.definitionName,".dueDate"),maximum:0,minimum:0,type:"date"}),t.push({title:"Process > ".concat(e.plural," > Entered Process"),key:"_processes.".concat(e.definitionName,".created"),maximum:0,minimum:0,type:"date"}),t.push({title:"Process > ".concat(e.plural," > Last Update"),key:"_processes.".concat(e.definitionName,".updated"),maximum:0,minimum:0,type:"date"}),t.push({title:"Process > ".concat(e.plural," > Current State"),key:"_processes.".concat(e.definitionName,".state"),maximum:0,minimum:0,type:"string"}),t.push({title:"Process > ".concat(e.plural," > Status"),key:"_processes.".concat(e.definitionName,".processStatus"),maximum:0,minimum:0,type:"string"})}))}else switch(this.type){case"family":t.push({title:"Total Number of Family Members",key:"memberCount.total",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Parents / Guardians",key:"memberCount.parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Children",key:"memberCount.child",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Active Parents / Guardians",key:"memberCount.active_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Active Children",key:"memberCount.active_child",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Archived Parents / Guardians",key:"memberCount.archived_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Total Number of Archived Children",key:"memberCount.archived_child",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Active Family Members",key:"memberCount.active",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Archived Family Members",key:"memberCount.archived",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Male Family Members",key:"memberCount.gender_male",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Female Family Members",key:"memberCount.gender_female",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Unknown Gender Family Members",key:"memberCount.gender_unknown",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Female Parents / Guardians",key:"memberCount.gender_female_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Male Parents / Guardians",key:"memberCount.gender_male_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Unknown Gender Parents / Guardians",key:"memberCount.gender_unknown_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Active Female Parents / Guardians",key:"memberCount.gender_female_active_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Active Male Parents / Guardians",key:"memberCount.gender_male_active_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Active Unknown Gender Parents / Guardians",key:"memberCount.gender_unknown_active_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Archived Female Parents / Guardians",key:"memberCount.gender_female_archived_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Archived Male Parents / Guardians",key:"memberCount.gender_male_archived_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Archived Unknown Parents / Guardians",key:"memberCount.gender_unknown_archived_parental",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Female Children",key:"memberCount.gender_female_child",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Male Children",key:"memberCount.gender_male_child",maximum:1,minimum:0,type:"integer"}),t.push({title:"Number of Unknown Gender Children",key:"memberCount.gender_unknown_child",maximum:1,minimum:0,type:"integer"});break;case"photo":t.push({title:"EXIF > Copyright",key:"data.exif.tags.Copyright",maximum:0,minimum:0,type:"string"}),t.push({title:"EXIF > Camera Make",key:"data.exif.tags.Make",maximum:0,minimum:0,type:"string"}),t.push({title:"EXIF > Camera Model",key:"data.exif.tags.Model",maximum:0,minimum:0,type:"string"})}t=t.concat(this.asyncKeys);var c=r.FilterService.allKeys(t,this.definition);return _.orderBy(c,"title")}},watch:{value:function(t){this.model=JSON.parse(JSON.stringify(t))},model:{handler:function(){this.debounced()},deep:!0}}},o=(i(634),i(0)),s=Object(o.a)(a,n,[],!1,null,"3dbdcd7b",null);s.options.__file="src/components/form/filters/FilterConditionGroup.vue";e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"outer",staticClass:"fluro-code-editor"},[i("code-editor",{attrs:{lang:t.syntax,theme:"tomorrow_night_eighties",height:100},on:{init:t.editorInit},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)};n._withStripped=!0;i(68),i(16),i(17);var r=i(413),a=i.n(r),o=i(146),s=i.n(o),l={props:{autoformat:{type:Boolean,default:!0},value:{type:String,default:""},lang:{type:String,default:"html"},height:{default:300,type:Number},readonly:{type:Boolean}},data:function(){return{editor:null,model:this.value}},computed:{syntax:function(){switch(this.lang){case"css":case"sass":case"scss":return"scss";case"js":return"javascript";case"html":return"html";default:return"".concat(this.lang)}}},methods:{beautify:function(){if(this.autoformat){var t=this.editor.session.getValue()||"",e=t.split(/\n/);switch(e[0]=e[0].trim(),t=e.join("\n"),this.syntax){case"html":t=s.a.html(t);break;case"json":case"javascript":t=s()(t);break;case"scss":t=s.a.css(t)}this.editor.session.setValue(t)}},editorInit:function(t){i(652),i(653),i(654),i(395),i(655),i(656),i(657),i(658),this.editor=t;var e=this.$refs.outer,n=t.getSession().getDocument();t.on("change",(function(){var i=t.renderer.lineHeight;e.style.height=i*n.getLength()+"px",t.resize()})),this.readonly?(t.setReadOnly(!0),t.renderer.setShowGutter(!1)):t.on("blur",this.beautify)}},beforeDestroy:function(){this.editor.off("blur",self.beautify)},mounted:function(){this.beautify()},components:{CodeEditor:a.a},watch:{value:function(t){t!==this.model&&this.editor.session.setValue(t)},model:function(t){t!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},c=(i(659),i(0)),u=Object(c.a)(l,n,[],!1,null,"77fb60eb",null);u.options.__file="src/components/form/FluroCodeEditor.vue";e.default=u.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{class:{wrap:t.shouldWrap,"text-xs-center":"center"==t.column.align,"text-xs-right":"right"==t.column.align}},[i("div",{class:{"wrap-limit":t.shouldWrap}},[t.renderer?i(t.renderer,{tag:"component",attrs:{data:t.preValue,row:t.row,column:t.column}}):t.simpleArray?[t._l(t.formattedArray,(function(e){return[t.renderer?i(t.renderer,{tag:"component",attrs:{data:e,row:t.row,column:t.column}}):i("div",[i("span",{staticClass:"inline-tag"},[t._v("\n                     "+t._s(t._f("simple")(e))+"\n                 ")])])]}))]:t.formattedArray?i("div",{staticStyle:{"max-width":"600px","white-space":"normal"}},[t._l(t.formattedArray,(function(e){return[e._id?i("a",{staticClass:"inline-tag",style:{color:e.color,backgroundColor:e.bgColor},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.clicked(e)}}},["event"==e._type?[i("fluro-icon",{attrs:{type:"event"}}),t._v(" "+t._s(e.title)+" "),i("span",{staticClass:"text-muted"},[t._v("// "+t._s(t._f("readableEventDate")(e)))])]:t._e(),t._v(" "),"post"==e._type?[i("fluro-icon",{attrs:{type:"post"}}),t._v(" "+t._s(e.title)+" "),i("span",{staticClass:"text-muted"},[t._v("// "+t._s(e.managedAuthor?e.managedAuthor.title:"")+" "+t._s(t._f("timeago")(e.created)))])]:"ticket"==e._type?[i("fluro-icon",{attrs:{type:"ticket"}}),t._v(" "+t._s(e.title)+" - "+t._s(e.event.title)),i("span",{staticClass:"text-muted"},[t._v("// "+t._s(t._f("readableEventDate")(e.event)))])]:"team"==e._type&&e.position?[t._v("\n                     "+t._s(e.position)+"\n                     ")]:[e._type?i("fluro-icon",{attrs:{type:e._type}}):t._e(),t._v(" "+t._s(e.title)+" "),e.appendage?[t._v(" - "+t._s(e.appendage))]:t._e()]],2):t.renderer?[i(t.renderer,{tag:"component",attrs:{data:e,row:t.row,column:t.column}})]:[t._v(t._s(e))]]}))],2):t.complexObject?i("div",["event"==t.preValue._type?[i("a",{staticClass:"inline-tag",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clicked(t.preValue)}}},[i("fluro-icon",{attrs:{type:"event"}}),t._v(" "+t._s(t.preValue.title)+" "),i("span",{staticClass:"text-muted"},[t._v("// "+t._s(t._f("readableEventDate")(t.preValue)))])],1)]:"team"==t.preValue._type&&t.preValue.position?[t._v("\n             "+t._s(t.preValue.position)+"\n         ")]:[i("a",{staticClass:"inline-tag",style:{color:t.preValue.color,backgroundColor:t.preValue.bgColor},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clicked(t.preValue)}}},[t.preValue._type?i("fluro-icon",{attrs:{type:t.preValue._type}}):t._e(),t._v(" "+t._s(t.complexTitle)+" "),t.complexAppendage?[t._v(" - "+t._s(t.complexAppendage))]:t._e()],2)]],2):t.renderer?i(t.renderer,{tag:"component",attrs:{data:t.rawValue,row:t.row,column:t.column}}):t._t("default",[t._v("\n         "+t._s(t.value)+"\n     ")],{value:t.value,row:t.row,column:t.column})],2)])};n._withStripped=!0;i(24),i(31),i(12),i(16),i(53),i(27),i(15),i(13);var r=i(284),a=i(285),o=i(71),s=i(101),l=i(118),c={props:{column:{type:Object},row:{type:Object}},methods:{clicked:function(t){t._id&&(console.log("Sub item click",t),this.$actions.open([t]))}},computed:{characterCount:function(){return String(this.rawValue).length},shouldWrap:function(){return this.column.wrap||_.isString(this.rawValue)&&this.characterCount>100},complexTitle:function(){return this.preValue.title},complexAppendage:function(){return this.subField?_.get(this.preValue,this.subField):null},renderer:function(){var t=this.column.renderer;switch(this.column.renderer){case"date":case"datetime":return this.column.type="date",o.a;case"timeago":return this.column.type="date",l.a;case"capitalize":t=null;break;case"realmDots":t=s.a}if(t)return t;switch(this.column.type){case"date":return o.a;case"number":case"integer":case"decimal":case"float":if(!this.subField)return r.a;break;case"boolean":return a.a;default:return}},preArray:function(){return _.isArray(this.preValue)&&this.preValue.length},formattedArray:function(){var t=this;if(t.preArray){var e=t.subField;return e?("."==e[0]&&(e=e.slice(1)),_.chain(t.preValue).map((function(i){if(i){if(!_.isObject(i))return i;var n=i.title||i.name,r=t.subField?_.get(i,e):null;if(i._id){if(e.indexOf(".")){if(!n&&!r)return;if(!n&&r&&e.indexOf("."))return r}return{title:n,appendage:r,_type:i._type,_id:i._id,color:i.color,bgColor:i.bgColor,startDate:i.startDate,endDate:i.endDate,created:i.created}}return i}})).compact().value()):t.preValue}},simpleArray:function(){return _.some(this.formattedArray,(function(t){return!(t._id||t.title||t.name||t.id)}))},complexObject:function(){return _.isObject(this.preValue)},value:function(){var t=this,e=t.preValue;if(e)return e.join?t.subField?_.map(e,(function(e){return e[t.subField]})).join(", "):_.map(e,(function(t){return t.title||t.name||t})).join(", "):"date"==t.column.sortType||"date"==t.column.type?t.column.format?t.$fluro.date.formatDate(e,t.column.format):t.$fluro.date.formatDate(e,"D MMM YYYY"):e.title||e.name||e},key:function(){return(this.column.key||"").split("|")[0]},subField:function(){var t=(this.column.key||"").split("[]");if(t.length>1)return t.shift(),t.join("")},rawValue:function(){var t=this.key.split("[]");t.length;if(t.length<2)return _.get(this.row,this.key);if(2==t.length){var e=_.get(this.row,t[0]),i=this.subField;return i&&("."==i[0]&&(i=i.slice(1)),e=_.isArray(e)?_.map(e,i):_.get(e,i)),e}var n=[],r=t.shift();return function t(e,i){_.each(e,(function(e){var r=i.slice(),a=r.shift();a&&"."==a[0]&&(a=a.slice(1));var o=_.get(e,a);o&&(r.length?t(o,r):n.push(o))}))}(_.get(this.row,r),t),_.chain(n).reduce((function(t,e){var i=e;return e._id&&(i=e._id),e.id&&(i=e.id),e.title&&(i=e.title),e.name&&(i=e.name),t[i]=i,t}),{}).values().compact().value()},preValue:function(){var t=this.rawValue,e=(this.column.key||"").split("|")[1];if(_.isArray(t)){var i=_.chain(t).filter((function(t){if(t)return!e||(t.definition==e||t._discriminator==e||t._discriminatorType==e)})).map((function(t){return t.title||t.name?(t.title=t.title||t.name,t):t})).compact().uniqBy((function(t){return t._id||t})).orderBy((function(t){return t.startDate?new Date(t.startDate):t.created?new Date(t.created):t.title||t.name||""})).reverse().value();if(!i.length)return;var n=Math.min(100,i.length);return i.slice(0,n)}return t}},filters:{simple:function(t){return _.isArray(t)?t.join(", "):t}}},u=(i(512),i(0)),d=Object(u.a)(c,n,[],!1,null,"5349a862",null);d.options.__file="src/components/table/TableCell.vue";e.a=d.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"sm muted"},[this._v("\n    "+this._s(this._f("timeago")(this.data))+"\n")])};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/TimeagoCell.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-cell"},["image"==t.row._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.imageUrl(t.row._id,50)+")"}})]:"event"==t.row._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.coverUrl(t.row._id,"event",{w:50})+")"}})]:"contact"==t.row._type?[i("fluro-avatar",{attrs:{md:"",id:t.row._id,type:t.row._type}})]:[i("div",{staticClass:"icon-avatar"},[i("fluro-icon",{attrs:{type:t.row._type}})],1)]],2)};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}}},a=(i(524),i(0)),o=Object(a.a)(r,n,[],!1,null,"b9ba1978",null);o.options.__file="src/components/table/cells/TypeImageCell.vue";e.a=o.exports},,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-content-render-field"},["embedded"==t.renderer&&t.raw?[t.multiple?t._e():[i("fluro-panel",[i("fluro-panel-title",{staticClass:"border-bottom"},[t._v("\n                    "+t._s(t.field.title)+"\n                ")]),t._v(" "),i("fluro-panel-body",[i("fluro-content-render",{attrs:{raw:t.raw,fields:t.fields},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)],1)],t._v(" "),t.multiple?[t._l(t.fieldModel,(function(e,n){return[i("fluro-panel",[i("fluro-panel-title",{staticClass:"border-bottom"},[i("h5",{attrs:{title:""}},[t._v(t._s(t.groupTitle(e,n)))])]),t._v(" "),i("fluro-panel-body",[i("fluro-content-render",{attrs:{raw:t.raw,fields:t.fields},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})],1)],1)]}))]:t._e()]:"group"==t.renderer?[t.asObject?[t.multiple?t._e():[i("fluro-content-render",{attrs:{raw:t.raw,fields:t.fields},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],t._v(" "),t.multiple?[t._l(t.fieldModel,(function(e,n){return[i("v-card",{staticClass:"panel"},[i("div",{staticClass:"panel-title"},[i("h5",{attrs:{title:""}},[t._v(t._s(t.groupTitle(e,n)))])]),t._v(" "),i("v-card-text",{staticClass:"panel-body"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("fluro-content-render",{attrs:{raw:t.raw,fields:t.fields},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[index]"}})],1)],1)],1)]}))]:t._e()]:[t.sameLine?[i("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.fields,(function(e){return[i("fluro-content-render-field",{staticClass:"flex",attrs:{raw:t.raw,field:e},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}))],2)]:[i("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.fields,(function(e){return[i("fluro-content-render-field",{attrs:{raw:t.raw,field:e},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}))],2)]]]:[t.isEmpty?void 0:"reference"==t.type?[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),t.multiple?t._e():[i("list-group",[i("list-group-item",{attrs:{item:t.fieldModel},on:{click:function(e){return t.$fluro.global.view(t.fieldModel,!0)}},scopedSlots:t._u([{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$actions.open([t.fieldModel])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}],null,!1,100277901)})],1)],t._v(" "),t.multiple?[i("list-group",t._l(t.fieldModel,(function(e,n){return i("list-group-item",{attrs:{item:e},on:{click:function(i){return t.$fluro.global.view(e,!0)}},scopedSlots:t._u([{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}],null,!0)})})),1)]:t._e()],2)]:"wysiwyg"==t.renderer?[t.multiple?[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),t._l(t.fieldModel,(function(e,n){return i("div",{domProps:{innerHTML:t._s(t.fieldModel[n])}})}))],2)]:t._e(),t._v(" "),t.multiple?t._e():[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.fieldModel)}})])]]:"code"==t.renderer?[t.multiple?[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),t._l(t.fieldModel,(function(e,n){return[i("fluro-code-editor",{attrs:{lang:t.syntax,readonly:!0,height:200},model:{value:t.fieldModel[n],callback:function(e){t.$set(t.fieldModel,n,e)},expression:"fieldModel[key]"}})]}))],2)]:t._e(),t._v(" "),t.multiple?t._e():[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),i("fluro-code-editor",{attrs:{lang:t.syntax,readonly:!0,height:200},model:{value:t.fieldModel,callback:function(e){t.fieldModel=e},expression:"fieldModel"}})],1)]]:["date"==t.type?[t.multiple?[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),t._l(t.fieldModel,(function(e,n){return i("div",[t._v("\n                            "+t._s(t._f("formatDate")(e,"h:mma dddd D MMM YYYY"))+"\n                        ")])}))],2)]:[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),i("div",[t._v("\n                            "+t._s(t._f("formatDate")(t.fieldModel,"h:mma dddd D MMM YYYY"))+"\n                        ")])])]]:[t.multiple?[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),t._l(t.fieldModel,(function(e,n){return i("div",[t._v("\n                            "+t._s(e)+"\n                        ")])}))],2)]:[i("div",{staticClass:"field-group"},[i("label",[t._v(t._s(t.label))]),t._v(" "),i("div",[t._v("\n                            "+t._s(t.fieldModel)+"\n                        ")])])]]]]],2)};n._withStripped=!0;i(15),i(17),i(68),i(13),i(16);var r=i(3),a=i.n(r),o=i(116),s=i(150),l=i(151),c={components:{FluroCodeEditor:o.default,ListGroup:s.a,ListGroupItem:l.a},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}},computed:{className:function(){function t(t,e,i){return t.split(e).join(i)}return this.field.className&&this.field.className.length?a.a.chain(this.field.className).split(" ").compact().map((function(e){return t(t(e,"col",""),"-","").toLowerCase()})).value():"xs12"},sameLine:function(){return this.field.sameLine||"row"==this.field.className},isEmpty:function(){return this.multiple?!this.fieldModel||!this.fieldModel.length:!this.fieldModel},fieldModel:{get:function(){var t=this.model[this.key],e=String(t).toLowerCase().trim();if(!(null==t||t==[]||""==e)){switch(1==this.maximum&&a.a.isArray(t)&&1==t.length&&(t=t[0]),0==this.maximum&&a.a.isString(t)&&(t=[t]),this.type){case"number":return Number(t);case"integer":return parseInt(t);case"decimal":return Number(parseFloat(t).toFixed(2));case"float":return parseFloat(t);case"boolean":switch(e){case"true":case"y":case"yes":case"1":return!0;case"false":case"n":case"no":case"0":return!1;default:return!0}}return t}},set:function(){}},key:function(){return this.field.key},label:function(){return this.field.title},asObject:function(){return this.field.asObject},fields:function(){return this.field.fields},type:function(){return this.field.type},multiple:function(){return 0===this.maximum||this.maximum>1},minimum:function(){return Math.max(parseInt(this.field.minimum),0)},maximum:function(){return parseInt(this.field.maximum)},total:function(){return a.a.get(this.fieldModel,"length")},renderer:function(){var t=this.type,e=this.field.directive;switch(e){case"date-select":e="datepicker";break;case"time-select":e="timepicker";break;case"datetime-select":e="datetimepicker";break;case"textarea":e="textarea";break;default:switch(t){case"group":e="group";break;case"boolean":e="checkbox";break;case"number":case"integer":case"decimal":e="number"}}return e},syntax:function(){return a.a.get(this,"field.params.syntax")}},methods:{defaultActions:function(t){if(t)return!0},groupTitle:function(t,e){if(t){if(t.title&&t.title.length)return t.title;if(t.name&&t.name.length)return t.name}return"".concat(this.label," ").concat(e+1)}},created:function(){},props:{raw:{type:Boolean},field:{type:Object},value:{required:!0}},beforeCreate:function(){this.$options.components.FluroContentRender=i(297).default,this.$options.components.FluroContentRenderField=i(121).default}},u=(i(665),i(0)),d=Object(u.a)(c,n,[],!1,null,null,null);d.options.__file="src/components/FluroContentRenderField.vue";e.default=d.exports},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"avatar"},[e("div",{staticClass:"avatar-inner",style:this.styles})])};n._withStripped=!0;i(17);var r={props:{id:{type:[String,Object]},type:{type:String,default:"contact"},width:{type:Number,default:100}},computed:{styles:function(){var t={};return this.url&&this.url.length&&(t.backgroundImage="url(".concat(this.url,")")),t},url:function(){if(this.id)return this.$fluro.asset.avatarUrl(this.id,this.type,{w:this.width})}}},a=(i(449),i(0)),o=Object(a.a)(r,n,[],!1,null,"662e0ae5",null);o.options.__file="src/components/FluroAvatar.vue";e.default=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"add-post-modal",attrs:{disabled:"processing"==t.state},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.loading?i("fluro-page-preloader",{attrs:{contain:""}}):i("flex-column",[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"post"},scopedSlots:t._u([{key:"left",fn:function(){return[i("h3",[t._v("New "+t._s(t.definition.title)+" "),i("span",{staticClass:"muted"},[t._v("// "+t._s(t.summary))])])]},proxy:!0}])})],1),t._v(" "),i("flex-column-body",[i("v-container",[i("fluro-content-form",{ref:"form",attrs:{fields:t.definition.fields},on:{errorMessages:t.validate},model:{value:t.dataModel.data,callback:function(e){t.$set(t.dataModel,"data",e)},expression:"dataModel.data"}}),t._v(" "),i("fluro-realm-select",{attrs:{type:"event",definition:t.dataModel.definition},model:{value:t.dataModel.realms,callback:function(e){t.$set(t.dataModel,"realms",e)},expression:"dataModel.realms"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2"},[i("div",{staticClass:"actions"},["error"==t.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                            "+t._s(t.serverErrors)+"\n                        ")])]:[t.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                            Please check the following issues before submitting\n                            "),t._l(t.errorMessages,(function(e){return i("div",[i("strong",[t._v(t._s(e.title))]),t._v(": "+t._s(e.messages[0])+"\n                            ")])}))],2):t._e()]],2),t._v(" "),i("v-layout",[t.options.skip?[i("v-btn",{on:{click:function(e){return t.dismiss()}}},[t._v("\n                            Skip\n                        ")])]:[i("v-btn",{on:{click:function(e){return t.dismiss()}}},[t._v("\n                            Cancel\n                        ")])],t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{loading:"processing"==t.state,disabled:t.hasErrors,type:"submit",color:"primary"}},[t._v("\n                        Submit\n                    ")])],2)],1)],1)],1)],1)};n._withStripped=!0;var r=i(414),a=i(85),o=i(40),s=i(28),l={props:{options:{type:Object}},components:{FluroRealmSelect:a.default,FluroContentForm:o.default},mixins:[s.a],data:function(){return{loading:!0,dataModel:{data:{}},serverErrors:"",errorMessages:[],thread:[],state:"ready"}},asyncComputed:{definition:{default:null,get:function(){var t=this,e=t.options.definition,i=e?e.definitionName:t.options.definitionName;return t.loading=!0,new Promise((function(e,n){return t.$fluro.types.get(i).then((function(i){e(i.definition),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}},computed:{summary:function(){return 1!=this.items.length?"".concat(this.items.length," items"):this.items[0].title},items:function(){var t=this.options.items||[this.options.item];return _.compact(t)},hasErrors:function(){return!!this.errorMessages.length}},methods:{validate:function(){this.errorMessages=_.get(this.$refs,"form.errorMessages")},clear:function(){this.reset()},reset:function(){this.$set(this,"dataModel",{}),this.state="ready",this.$emit("reset")},submit:function(){var t=this;if(t.validate(),!t.errorMessages||!t.errorMessages.length)return t.state="processing",1==t.items.length?(console.log("submit to one item",t.items),e(t.items[0],(function(e,i){if(e)return t.$fluro.error(e),t.state="error",t.$emit("error",e),void(t.serverErrors=t.$fluro.utils.errorMessage(e));t.$fluro.notify("".concat(t.definition.title," for ").concat(t.items[0].title," was saved successfully"),{type:"success"}),t.close(i)}))):(console.log("Submit to multiple",t.items),r.default.mapLimit(t.items,3,e,(function(e,i){if(e)return t.$fluro.error(e),t.state="error",t.$emit("error",e),void(t.serverErrors=t.$fluro.utils.errorMessage(e));t.$fluro.notify("".concat(t.definition.title," for ").concat(i.length," items were saved successfully"),{type:"success"}),t.close(i)})));function e(e,i){var n=JSON.parse(JSON.stringify(t.dataModel));return n.parent=t.$fluro.utils.getStringID(e),console.log("SUBMIT POST AGAINST",n.parent),t.$fluro.content.submitPost(n.parent,t.definition.definitionName,n).then((function(t){return i(null,t)})).catch(i)}}}},c=(i(669),i(0)),u=Object(c.a)(l,n,[],!1,null,null,null);u.options.__file="src/components/ui/modal/AddPost.vue";e.default=u.exports},function(t,e){t.exports=vuex-map-fields},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.canEdit?i("span",{staticClass:"clickable",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.edit()}}},[t._v(t._s(t.readable))]):i("span",[t._v(t._s(t.readable))])])};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}},methods:{edit:function(){var t=this;t.$fluro.types.terms().then((function(e){var i=e[t.row.definition];i&&t.$fluro.global.edit(i,!0)}))}},computed:{canEdit:function(){return this.$fluro.access.can("edit","definition")},readable:function(){var t=this.data||this.row.definition||this.row._type;return this.$fluro.types.readable(t)}}},a=(i(520),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/DefinitionCell.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+this.url+")"}})};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}},computed:{url:function(){return"video"==this.row._type?this.$fluro.asset.posterUrl(this.id,50):this.$fluro.asset.imageUrl(this.id,50)},id:function(){return this.$fluro.utils.getStringID(this.data)}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/ThumbnailCell.vue";e.a=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"realm-select-item-outer",class:{"has-children":t.item.children&&t.item.children.length}},[i("div",{staticClass:"realm-select-item",class:{selected:t.isSelected},on:{click:function(e){return t.callback(t.item)}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("span",{staticClass:"dot",style:t.dot}),t._v(" "+t._s(t.item.title)+" \n            ")]),t._v(" "),i("div",{staticClass:"type"},[t._v(t._s("Realm"!=t.item.fullDefinition.title?t.item.fullDefinition.title:""))]),t._v(" "),i("div",{staticClass:"check-icon"},[t.isSelected?i("fluro-icon",{attrs:{icon:"check"}}):t._e()],1)],1)],1),t._v(" "),t.item.children&&t.item.children.length?i("div",{staticClass:"children"},[t._l(t.item.children,(function(e){return[i("fluro-realm-select-item",{attrs:{item:e,check:t.check,callback:t.callback}})]}))],2):t._e()])};n._withStripped=!0;var r={props:{item:{type:Object,required:!0},callback:{type:Function,required:!0},check:{type:Function,required:!0}},computed:{isSelected:{get:function(){return this.check(this.item)},set:function(){}},dot:function(){return{backgroundColor:this.item.bgColor}}},beforeCreate:function(){this.$options.components.FluroRealmSelectItem=i(145).default}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/form/realmselect/FluroRealmSelectItem.vue";e.default=o.exports},function(t,e){t.exports=js-beautify},,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-editor"},[t.bubbleEnabled?i("editor-menu-bubble",{attrs:{editor:t.editor,"keep-in-bounds":t.keepInBounds},on:{hide:t.hideBubble},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,r=e.isActive,a=e.getMarkAttrs,o=e.menu;return[i("div",{staticClass:"menububble",class:{active:o.isActive},style:"left: "+o.left+"px; bottom: "+o.bottom+"px;"},[t.isEnabled("formats")?i("v-menu",{attrs:{attach:"",transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:"",disabled:t.showSource}},n),[i("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[t._v(" "),i("div",{staticStyle:{overflow:"auto",width:"300px","max-height":"300px"}},[i("v-list",[i("v-list-tile",{class:{active:r.heading({level:1})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:1})}}},[i("v-list-tile-content",[i("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[t._v("Heading 1")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:2})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:2})}}},[i("v-list-tile-content",[i("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[t._v("Heading 2")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:3})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:3})}}},[i("v-list-tile-content",[i("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[t._v("Heading 3")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:4})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:4})}}},[i("v-list-tile-content",[i("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[t._v("Heading 4")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:5})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:5})}}},[i("v-list-tile-content",[i("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[t._v("Heading 5")])])],1),t._v(" "),t._l(t.typographyOptions,(function(e){return i("v-list-tile",{class:{active:r.typography({level:e.level})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.typography({level:e.level})}}},[i("v-list-tile-content",[i("span",{class:e.level,staticStyle:{margin:"0 !important"}},[t._v(t._s(e.title))])])],1)})),t._v(" "),t._e(),t._v(" "),t._e()],2)],1)]):t._e(),t._v(" "),i("v-btn",{class:{active:r.bold()},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.bold(t)}}},[i("fluro-icon",{attrs:{icon:"bold"}})],1),t._v(" "),i("v-btn",{class:{active:r.italic()},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.italic(t)}}},[i("fluro-icon",{attrs:{icon:"italic"}})],1),t._v(" "),i("v-btn",{class:{active:r.underline()},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.underline(t)}}},[i("fluro-icon",{attrs:{icon:"underline"}})],1),t._v(" "),t.isEnabled("alignment")?[i("v-btn",{class:{active:r.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"left"})}}},[i("fluro-icon",{attrs:{icon:"align-left"}})],1),t._v(" "),i("v-btn",{class:{active:r.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"center"})}}},[i("fluro-icon",{attrs:{icon:"align-center"}})],1),t._v(" "),i("v-btn",{class:{active:r.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"right"})}}},[i("fluro-icon",{attrs:{icon:"align-right"}})],1)]:t._e(),t._v(" "),t.linkMenuIsActive?i("form",{staticClass:"menububble__form",on:{submit:function(e){return e.preventDefault(),t.setLinkUrl(n.link,t.linkUrl)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"linkInput",staticClass:"link-input",attrs:{type:"text",placeholder:"https://"},domProps:{value:t.linkUrl},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.hideLinkMenu(e)},input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}}),t._v(" "),i("v-btn",{attrs:{small:"",icon:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.setLinkUrl(n.link,null)}}},[i("fluro-icon",{attrs:{icon:"unlink"}})],1)],1):[i("v-btn",{class:{active:r.link()},attrs:{small:"",flat:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showLinkMenu(a("link"))}}},[i("span",[t._v(t._s(r.link()?"Update Link":"Link"))]),t._v(" "),i("fluro-icon",{attrs:{right:"",icon:"link"}})],1)]],2)]}}],null,!1,3430240661)}):t._e(),t._v(" "),t.barEnabled?i("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,r=e.isActive;return i("div",{staticClass:"fluro-editor-toolbar"},[t.isEnabled("source")?i("v-btn",{staticClass:"hidden-xs-only",class:{"is-active":t.showSource},attrs:{icon:"",small:"",flat:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showSource=!t.showSource}}},[t.showSource?i("fluro-icon",{attrs:{icon:"edit"}}):i("fluro-icon",{attrs:{icon:"code"}})],1):t._e(),t._v(" "),t.isEnabled("formats")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:"",disabled:t.showSource}},n),[i("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[t._v(" "),i("v-list",[i("v-list-tile",{class:{active:r.heading({level:1})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:1})}}},[i("v-list-tile-content",[i("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[t._v("Heading 1")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:2})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:2})}}},[i("v-list-tile-content",[i("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[t._v("Heading 2")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:3})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:3})}}},[i("v-list-tile-content",[i("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[t._v("Heading 3")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:4})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:4})}}},[i("v-list-tile-content",[i("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[t._v("Heading 4")])])],1),t._v(" "),i("v-list-tile",{class:{active:r.heading({level:5})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.heading({level:5})}}},[i("v-list-tile-content",[i("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[t._v("Heading 5")])])],1),t._v(" "),t._l(t.typographyOptions,(function(e){return i("v-list-tile",{class:{active:r.typography({level:e.level})},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.typography({level:e.level})}}},[i("v-list-tile-content",[i("span",{class:e.level,staticStyle:{margin:"0 !important"}},[t._v(t._s(e.title))])])],1)})),t._v(" "),t._e(),t._v(" "),t._e()],2)],1):t._e(),t._v(" "),t.isEnabled("bold")?i("v-btn",{class:{active:r.bold()},attrs:{icon:"",disabled:t.showSource,small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.bold(t)}}},[i("fluro-icon",{attrs:{icon:"bold"}})],1):t._e(),t._v(" "),t.isEnabled("italic")?i("v-btn",{class:{active:r.italic()},attrs:{icon:"",disabled:t.showSource,small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.italic(t)}}},[i("fluro-icon",{attrs:{icon:"italic"}})],1):t._e(),t._v(" "),t.isEnabled("underline")?i("v-btn",{class:{active:r.underline()},attrs:{icon:"",disabled:t.showSource,small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.underline(t)}}},[i("fluro-icon",{attrs:{icon:"underline"}})],1):t._e(),t._v(" "),t.tokens.length?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",disabled:t.showSource}},n),[t._v("\n                        Tokens\n                    ")])]}}],null,!0)},[t._v(" "),i("v-list",t._l(t.tokens,(function(e){return i("v-list-tile",{key:e.key,on:{click:function(t){return n.token(e.key)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[t._v(t._s(e.title))])])],1)})),1)],1):t._e(),t._v(" "),t.isEnabled("image")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:"",disabled:t.showSource}},n),[i("fluro-icon",{attrs:{icon:"plus"}})],1)]}}],null,!0)},[t._v(" "),i("v-list",[i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showImagePrompt(n.image)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"image"}}),t._v(" Add Image")],1)])],1),t._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showVideoPrompt(n.video)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"video"}}),t._v(" Add Video")],1)])],1),t._v(" "),i("v-list-tile",{class:{active:r.blockquote()},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.blockquote(t)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"quote-right"}}),t._v(" Blockquote")],1)])],1),t._v(" "),i("v-list-tile",{class:{active:r.code_block()},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.code_block(t)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"code"}}),t._v(" Code")],1)])],1),t._v(" "),i("v-list-tile",{class:{active:r.horizontal_rule()},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.horizontal_rule(t)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"horizontal-rule"}}),t._v(" Horizontal Rule")],1)])],1)],1)],1):t._e(),t._v(" "),t.isEnabled("list")?i("v-btn",{class:{active:r.bullet_list()},attrs:{icon:"",disabled:t.showSource,small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.bullet_list(t)}}},[i("fluro-icon",{attrs:{icon:"list-ul"}})],1):t._e(),t._v(" "),t.isEnabled("list")?i("v-btn",{class:{active:r.ordered_list()},attrs:{icon:"",disabled:t.showSource,small:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.ordered_list(t)}}},[i("fluro-icon",{attrs:{icon:"list-ol"}})],1):t._e(),t._v(" "),t.isEnabled("alignment")?[i("v-btn",{class:{active:r.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:"",disabled:t.showSource},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"left"})}}},[i("fluro-icon",{attrs:{icon:"align-left"}})],1),t._v(" "),i("v-btn",{class:{active:r.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:"",disabled:t.showSource},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"center"})}}},[i("fluro-icon",{attrs:{icon:"align-center"}})],1),t._v(" "),i("v-btn",{class:{active:r.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:"",disabled:t.showSource},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.alignment({textAlign:"right"})}}},[i("fluro-icon",{attrs:{icon:"align-right"}})],1)]:t._e(),t._v(" "),t.isEnabled("table")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"hidden-xs-only",attrs:{small:"",icon:"",disabled:t.showSource}},n),[i("fluro-icon",{attrs:{icon:"table"}})],1)]}}],null,!0)},[t._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[i("v-list-tile-title",[t._v("Insert Table")])],1),t._v(" "),r.table()?i("span",[i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.addRowBefore(t)}}},[i("v-list-tile-content",[t._v("\n                                Insert Row Before\n                            ")])],1),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.addRowAfter(t)}}},[i("v-list-tile-content",[t._v("\n                                Insert Row After\n                            ")])],1),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.deleteRow(t)}}},[i("v-list-tile-content",[t._v("\n                                Delete Row\n                            ")])],1),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.addColumnBefore(t)}}},[i("v-list-tile-content",[t._v("\n                                Insert Column Before\n                            ")])],1),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.addColumnAfter(t)}}},[i("v-list-tile-content",[t._v("\n                                Insert Column After\n                            ")])],1),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.deleteColumn(t)}}},[i("v-list-tile-content",[t._v("\n                                Delete Column\n                            ")])],1),t._v(" "),i("v-divider"),t._v(" "),i("v-divider"),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.toggleCellMerge(t)}}},[i("v-list-tile-content",[t._v("\n                                Combine Cells\n                            ")])],1),t._v(" "),i("v-divider"),t._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),n.deleteTable(t)}}},[i("v-list-tile-content",[t._v("\n                                Delete table\n                            ")])],1)],1):t._e()],1)],1):t._e()],2)}}],null,!1,4193516208)}):t._e(),t._v(" "),t.showSource?[i("div",{staticClass:"editor-code-wrapper"},[i("fluro-code-editor",{staticClass:"fluro-editor-textarea",attrs:{lang:"html",height:t.codeEditorHeight},on:{blur:t.blurCode,focus:t.focusCode,input:t.sourceChange},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]:t._e(),t._v(" "),t.showSource?t._e():[i("editor-content",{staticClass:"fluro-editor-textarea",attrs:{editor:t.editor}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSuggestions,expression:"showSuggestions"}],ref:"suggestions",staticClass:"suggestion-list"},[t.filteredUsers.length?t._l(t.filteredUsers,(function(e,n){return i("div",{key:e._id,staticClass:"suggestion-list__item",class:{"is-selected":t.navigatedUserIndex===n},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.selectUser(e)}}},[i("fluro-avatar",{attrs:{left:"",id:e,type:"persona"}}),t._v(t._s(e.title)+"\n                ")],1)})):i("div",{staticClass:"suggestion-list__item is-empty"},[t._v("\n                No users found\n            ")])],2)]],2)};n._withStripped=!0;i(17),i(27),i(77),i(78);var r=i(415),a=i(116),o=(i(16),i(15),i(44)),s=i(45),l=i(47),c=i(46),u=i(48),d=i(10),f=i(8),p=i(29),m=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=this,i=t.schema;return function(t){return Object(f.j)(null,i.nodes[e.name],t)}}},{key:"name",get:function(){return"mention"}},{key:"defaultOptions",get:function(){return{matcher:{char:"@",allowSpaces:!1,startOfLine:!1},mentionClass:null,suggestionClass:"mention-suggestion"}}},{key:"schema",get:function(){var t=this;return{attrs:{id:{},label:{}},group:"inline",inline:!0,selectable:!1,atom:!0,toDOM:function(e){return["mention",{class:t.options.mentionClass,"data-mention-id":e.attrs.id},"".concat(e.attrs.label)]},parseDOM:[{tag:"mention[data-mention-id]",getAttrs:function(e){return{id:e.getAttribute("data-mention-id"),label:e.innerText.split(t.options.matcher.char).join("")}}}]}}},{key:"plugins",get:function(){var t=this;return[Object(p.q)({command:function(e){var i=e.range,n=e.attrs,r=e.schema;return Object(f.j)(i,r.nodes[t.name],n)},appendText:" ",matcher:this.options.matcher,items:this.options.items,onEnter:this.options.onEnter,onChange:this.options.onChange,onExit:this.options.onExit,onKeyDown:this.options.onKeyDown,onFilter:this.options.onFilter,suggestionClass:this.options.suggestionClass})]}}]),e}(d.h),h=(i(20),i(49),function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type,i=t.schema;return function(t){return function(n,r,a){t.class=t.className;t.tag,t.title,t.className;console.log(e,i,t),Object(f.p)(e,i.nodes.paragraph,t)}}}},{key:"name",get:function(){return"fluroNode"}},{key:"defaultOptions",get:function(){return{classes:[{id:"lead",title:"Lead Text",tag:"span",className:"lead"}]}}},{key:"schema",get:function(){var t=this;return{attrs:{id:{},label:{},title:{},tag:{},className:{}},content:"inline*",group:"inline",defining:!0,draggable:!1,inline:!0,toDOM:function(e){return["fluroNode",{class:t.options.mentionClass,"data-fluroNode-id":e.attrs.id}]},parseDOM:[{tag:"fluroNode[data-fluroNode-id]",getAttrs:function(t){return{id:t.getAttribute("data-fluroNode-id")}}}]}}}]),e}(d.h)),v=(i(49),function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return Object(f.r)(e,t)}}},{key:"name",get:function(){return"fluroMark"}},{key:"defaultOptions",get:function(){return{classes:[{id:"xs",title:"Extra Small",tag:"span",class:"text-xs"},{id:"sm",title:"Small",tag:"span",class:"text-sm"},{id:"muted",title:"Muted",tag:"span",class:"text-muted"},{id:"lg",title:"Large",tag:"span",class:"text-lg"},{id:"xl",title:"Extra Large",tag:"span",class:"text-xl"}]}}},{key:"schema",get:function(){return{attrs:{level:{default:""}},parseDOM:[{tag:"span.typography",getAttrs:function(t){return{level:t.classList[1]}}}],toDOM:function(t){return["span",{class:"typography ".concat(t.attrs.level)},0]}}}}]),e}(d.g)),g=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(i,n){var r=i.selection,a=r.$cursor?r.$cursor.pos:r.$to.pos,o=e.create(t);n(i.tr.insert(a,o))}}}},{key:"name",get:function(){return"image"}},{key:"schema",get:function(){return{inline:!0,attrs:{item:{}},group:"inline",draggable:!0,parseDOM:[{tag:"fluro-image[item]",getAttrs:function(t){return{item:t.getAttribute("item")}}}],toDOM:function(t){return["fluro-image",t.attrs]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{item:{get:function(){return this.$fluro.asset.imageUrl(this.node.attrs.item)},set:function(t){this.updateAttrs({item:t})}}},template:"<div><img :src='item' /></div>"}}}]),e}(d.h),b=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(i,n){var r=i.selection,a=r.$cursor?r.$cursor.pos:r.$to.pos,o=e.create(t);n(i.tr.insert(a,o))}}}},{key:"name",get:function(){return"video"}},{key:"schema",get:function(){return{inline:!0,attrs:{item:{}},group:"inline",draggable:!0,parseDOM:[{tag:"fluro-video[item]",getAttrs:function(t){return{item:t.getAttribute("item")}}}],toDOM:function(t){return["fluro-video",t.attrs]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{item:{get:function(){return this.$fluro.asset.posterUrl(this.node.attrs.item)},set:function(t){this.updateAttrs({item:t})}}},template:"<div><img :src='item' /></div>"}}}]),e}(d.h),y=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){t.type,t.schema;return function(t){return function(e,i){var n=e.selection.$from.pos.pos;i(e.tr.insertText("{{".concat(t,"}}"),n))}}}},{key:"name",get:function(){return"token"}},{key:"schema",get:function(){return{attrs:{},inline:!0,selectable:!1,content:"inline*",draggable:!1,isText:!0,toDOM:function(t){return t.attrs}}}}]),e}(d.h),x=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return Object(f.t)(e,t)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(f.e)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}},{key:"name",get:function(){return"alignment"}},{key:"schema",get:function(){return{attrs:{textAlign:{default:"left"}},parseDOM:[{style:"text-align",getAttrs:function(t){return{textAlign:t}}}],toDOM:function(t){return["span",{style:"text-align: ".concat(t.attrs.textAlign,";display: block")},0]}}}}]),e}(d.g),k=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return Object(f.r)(e,t)}}},{key:"name",get:function(){return"typography"}},{key:"defaultOptions",get:function(){return{levels:[{title:"Muted",level:"text-muted"},{title:"Normal",level:""},{title:"Extra Small",level:"font-xs"},{title:"Small",level:"font-sm"},{title:"Large",level:"font-lg"},{title:"Extra Large",level:"font-xl"}]}}},{key:"schema",get:function(){return{attrs:{level:{default:""}},parseDOM:[{tag:"span",getAttrs:function(t){return console.log(t.classList[1]),{level:t.classList[1]}}}],toDOM:function(t){return["span",{class:"".concat(t.attrs.level)},0]}}}}]),e}(d.g),w={data:function(){return{keepInBounds:!0,showSource:!1,model:this.value,editor:null,query:null,suggestionRange:null,filteredUsers:[],navigatedUserIndex:0,insertMention:function(){},observer:null,linkUrl:null,linkMenuIsActive:!1,TypographyPlugin:new k,FluroNodePlugin:new h,FluroMarkPlugin:new v}},computed:{typographyOptions:function(){return this.TypographyPlugin.options.levels},tokens:function(){return this.options.tokens||[]},barEnabled:function(){return!(this.options.disable&&this.options.disable.bar)},bubbleEnabled:function(){return!(this.options.disable&&this.options.disable.bubble)},showSuggestions:function(){return this.query||this.hasResults}},methods:{isEnabled:function(t){return!this.options.toolset||_.includes(this.options.toolset,t)},select:function(){console.log("SELECT EDITOR")},hideBubble:function(){this.hideLinkMenu()},addFluroNode:function(t){var e=this.FluroNodePlugin.options.classes;-1===e.indexOf(t)&&e.push(t)},getFluroNodes:function(){return this.FluroNodePlugin.options.classes},addFluroMark:function(t){var e=this.FluroMarkPlugin.options.classes;-1===e.indexOf(t)&&e.push(t)},getFluroMarks:function(){return this.FluroMarkPlugin.options.classes},showLinkMenu:function(t){var e=this;this.linkUrl=t.href,this.linkMenuIsActive=!0,this.$nextTick((function(){e.$refs.linkInput.focus()}))},hideLinkMenu:function(){this.linkUrl=null,this.linkMenuIsActive=!1},setLinkUrl:function(t,e){t({href:e}),this.hideLinkMenu(),this.editor.focus()},blurEditor:function(t){this.$emit("blur")},focusEditor:function(t){this.$emit("focus")},blurCode:function(t){this.$emit("blur")},focusCode:function(t){this.$emit("focus")},sourceChange:function(t){this.model=t},showImagePrompt:function(t){this.$fluro.global.select("image",{title:"Select an Image/Photo",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(e){if(e){var i=_.first(e);t({item:i._id})}}))},showVideoPrompt:function(t){this.$fluro.global.select("video",{title:"Select a Video",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(e){if(e){var i=_.first(e);t({item:i._id})}}))},addToken:function(t,e){t(e)},upHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+this.filteredUsers.length-1)%this.filteredUsers.length},downHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.filteredUsers.length},enterHandler:function(){var t=this.filteredUsers[this.navigatedUserIndex];t&&this.selectUser(t)},selectUser:function(t){this.insertMention({range:this.suggestionRange,attrs:{id:t._id,mentionID:t.mentionID,label:t.title}}),this.editor.focus()},renderPopup:function(t){var e=this;this.popup||(this.popup=Object(r.a)(t,{content:this.$refs.suggestions,trigger:"mouseenter",interactive:!0,theme:"dark",placement:"top-start",inertia:!0,duration:[400,200],showOnInit:!0,arrow:!0,arrowType:"round"}),MutationObserver&&(this.observer=new MutationObserver((function(){e.popup.popperInstance.scheduleUpdate()})),this.observer.observe(this.$refs.suggestions,{childList:!0,subtree:!0,characterData:!0})))},destroyPopup:function(){this.popup&&(this.popup.destroy(),this.popup=null),this.observer&&this.observer.disconnect()}},props:{codeEditorHeight:{default:600,type:Number},value:{default:"",type:String},placeholder:{type:String},options:{default:function(){return{}},type:Object}},components:{EditorMenuBar:d.d,EditorContent:d.b,FluroCodeEditor:a.default,EditorFloatingMenu:d.c,EditorMenuBubble:d.e,FluroNode:h,FluroMark:v},created:function(){var t=this,e=this,i=(e.placeholder,new m({items:function(){return[]},onEnter:function(e){var i=e.items,n=e.query,r=e.range,a=e.command,o=e.virtualNode;t.query=n,t.filteredUsers=i,t.suggestionRange=r,t.renderPopup(o),t.insertMention=a},onChange:function(i){i.items;var n=i.query,r=i.range,a=i.virtualNode,o=t;e.$fluro.content.mention(n,e.options.mentions).then((function(t){o.query=n,o.filteredUsers=t,o.suggestionRange=r,o.navigatedUserIndex=0,o.renderPopup(a)})).catch((function(t){}))},onExit:function(){t.query=null,t.filteredUsers=[],t.suggestionRange=null,t.navigatedUserIndex=0,t.destroyPopup()},onKeyDown:function(e){var i=e.event;return 38===i.keyCode?(t.upHandler(),!0):40===i.keyCode?(t.downHandler(),!0):13===i.keyCode&&(t.enterHandler(),!0)}})),n=[new p.b,new p.k,new p.p,new p.v,new p.l,new x,new p.j,new p.a,new p.e,new p.g,new p.h({levels:[1,2,3,4]}),new p.c,new p.n,new p.m,new g,new b,new p.d,new p.i,new p.r,new p.t,new p.s,new p.u,new y,this.FluroNodePlugin,this.FluroMarkPlugin,this.TypographyPlugin,i,new p.o({emptyClass:"placeholder-text",emptyNodeText:e.placeholder,showOnlyWhenEditable:!0})];"undefined"!=typeof window&&window.hljs&&n.push(new p.f({languages:[json,javascript,scss]})),this.editor=new d.a({extensions:n,onUpdate:function(t){var i=(0,t.getHTML)();e.model=i},onBlur:function(t){e.blurEditor()},onFocus:function(t){e.focusEditor()}}),e.editor.setContent(e.model)},watch:{value:function(t){this.model=t},placeholder:function(t){this.editor.extensions.options.placeholder.emptyNodeText=t},model:function(t){t!==this.editor.getHTML()&&this.editor.setContent(t),this.$emit("input",t)}},beforeDestroy:function(){this.editor.destroy()}},C=(i(688),i(0)),S=Object(C.a)(w,n,[],!1,null,null,null);S.options.__file="src/components/form/FluroEditor.vue";e.default=S.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"list-group"},[this._t("default")],2)};n._withStripped=!0;var r={},a=(i(661),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/ListGroup.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.componentType,{tag:"component",staticClass:"list-group-item",class:t.isSelected?"active selected":"",attrs:{tag:"a",to:t.to},on:{click:t.clicked}},[i("div",[t.item?i("fluro-realm-bar",{attrs:{realm:t.item.realms}}):t._e(),t._v(" "),t._t("left",[t.item?i("fluro-item-image",{attrs:{item:t.item}}):t._e()])],2),t._v(" "),i("div",{staticClass:"list-group-item-content"},[t._t("default",[i("strong",[t._v(t._s(t.title))]),t._v(" "),t.renderFirstLine?i("div",{staticClass:"muted sm"},[t._v(t._s(t.renderFirstLine))]):t._e()])],2),t._v(" "),i("div",[t._t("right")],2),t._v(" "),t.selectable?i("div",[i("fluro-icon",{staticClass:"tick-icon",attrs:{icon:"check"}})],1):t._e()])};n._withStripped=!0;var r=i(287),a=(i(102),{components:{FluroItemImage:r.a},props:{to:{type:[String,Object]},item:{type:Object},firstLine:{type:String},selectable:{type:Boolean,required:!1,default:!1},isSelected:{type:Boolean,default:!1}},methods:{clicked:function(){this.$emit("click",this.item)}},created:function(){this.to?this.componentType="router-link":this.componentType="div"},computed:{title:function(){if(this.item)return this.item.title},renderFirstLine:function(){if(this.firstLine&&this.firstLine.length)return this.firstLine;if(this.item)switch(this.item._type){case"event":return this.item.firstLine&&this.item.firstLine.length?"".concat(this.$fluro.date.readableEventDate(this.item)," - ").concat(this.item.firstLine):this.$fluro.date.readableEventDate(this.item);default:if(this.item.firstLine&&this.item.firstLine.length)return this.item.firstLine}}}}),o=(i(663),i(0)),s=Object(o.a)(a,n,[],!1,null,null,null);s.options.__file="src/components/ui/ListGroupItem.vue";e.a=s.exports},function(t,e,i){"use strict";i(17),i(25);var n=i(76),r={props:{minimum:{type:Number,default:0},maximum:{type:Number,default:0},allDefinitions:{type:Boolean},value:{type:Array,default:function(){return[]}}},data:function(){return{selectionMinimum:this.minimum,selectionMaximum:this.maximum}},created:function(){this.setSelection(this.value)},mixins:[n.a],watch:{minimum:function(t){this.selectionMinimum=Math.max(parseInt(t),0)},maximum:function(t){if(this.selectionMaximum=Math.max(parseInt(t),0),this.selectionMaximum&&this.value.length>this.selectionMaximum){var e=this.value.slice(0,this.selectionMaximum);this.setSelection(e)}},value:function(t){this.setSelection(t)},selection:function(t){this.$emit("input",t)}}},a=i(0),o=Object(a.a)(r,void 0,void 0,!1,null,null,null);o.options.__file="src/components/form/contentselect/FluroSelector.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-input",class:{active:t.searchFocussed||t.model.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",attrs:{placeholder:t.placeholder},domProps:{value:t.model},on:{focus:function(e){t.searchFocussed=!0},blur:function(e){t.searchFocussed=!1},input:function(e){e.target.composing||(t.model=e.target.value)}}}),t._v(" "),i("div",{staticClass:"search-icon",on:{click:function(e){return t.reset()}}},[t.model.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])};n._withStripped=!0;i(17);var r,a={props:{placeholder:{type:String,default:"Search by keyword"},value:{type:String,default:""},debounce:{type:Number,default:300}},data:function(){return{model:this.value,searchFocussed:!1}},watch:{model:function(){var t=this;r&&clearTimeout(r),r=setTimeout((function(){return t.change()}),t.debounce)},value:function(t){this.model=t}},methods:{change:function(){this.$emit("input",this.model)},reset:function(){this.model="",this.$emit("input","")}}},o=(i(516),i(0)),s=Object(o.a)(a,n,[],!1,null,null,null);s.options.__file="src/components/ui/SearchInput.vue";e.a=s.exports},,function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return"print"!=this.context?e("fluro-avatar",{attrs:{md:"",id:this.data,type:this.row._type}}):this._e()};n._withStripped=!0;var r={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/AvatarCell.vue";e.a=o.exports},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"filter-condition-row grid-list-sm",class:{mini:t.mini},attrs:{"pa-0":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm4:""}},[t.fields.length?[t.$vuetify.breakpoint.xsOnly?[i("v-select",{attrs:{"single-line":"",dense:"",loading:t.loadingKeys,"return-object":!0,"item-text":"title","item-value":"key",items:t.fields},model:{value:t.selectedKey,callback:function(e){t.selectedKey=e},expression:"selectedKey"}})]:[i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.keyCaption}},[i("v-autocomplete",{ref:"inputKey",attrs:{"single-line":"",dense:"",loading:t.loadingKeys,"return-object":!0,"item-text":"title","item-value":"key",items:t.groupedFields},scopedSlots:t._u([{key:"item",fn:function(e){return["object"!=typeof e.item?void 0:[t._v("\n                                    "+t._s(e.item.title)+"\n                                    ")]]}}],null,!1,1731569652),model:{value:t.selectedKey,callback:function(e){t.selectedKey=e},expression:"selectedKey"}})],1)]]:[i("v-text-field",{attrs:{"single-line":"",label:""},model:{value:t.model.key,callback:function(e){t.$set(t.model,"key",e)},expression:"model.key"}})]],2),t._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-select",{ref:"inputComparator",attrs:{"single-line":"",dense:"","item-text":"title","item-value":"operator",items:t.comparators},model:{value:t.model.comparator,callback:function(e){t.$set(t.model,"comparator",e)},expression:"model.comparator"}})],1),t._v(" "),t.comparator&&"none"!=t.inputType?["daterange"==t.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-menu",{ref:"dateSelection",attrs:{fixed:!0,right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"ma-0",attrs:{small:"",flat:"",block:""}},n),[i("fluro-icon",{attrs:{library:"far",icon:"calendar",left:""}}),t._v(" "+t._s(t.readableStartDate)+" - "+t._s(t.readableEndDate)+"\n                        ")],1)]}}],null,!1,3011863967)},[t._v(" "),i("v-card",[i("v-layout",[i("v-flex",[i("v-card-text",[i("label",[t._v(" ")]),t._v(" "),i("v-list",{attrs:{dense:""}},t._l(t.datePeriodOptions,(function(e){return i("v-list-tile",{key:e.value,on:{click:function(i){return t.selectDatePeriod(e)}}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])})),1)],1)],1),t._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[t._v("From Date")])]),t._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDateString,callback:function(e){t.startDateString=e},expression:"startDateString"}})],1),t._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[t._v("To Date")])]),t._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDateString,callback:function(e){t.endDateString=e},expression:"endDateString"}})],1)],1)],1)],1)],1):"datemeasure"==t.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Total"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})],1),t._v(" "),i("v-flex",{attrs:{xs6:""}},[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"",label:"Period","item-text":"title","item-value":"value",items:t.dateMeasures},model:{value:t.model.value2,callback:function(e){t.$set(t.model,"value2",e)},expression:"model.value2"}})],1)],1)],1):"range"==t.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"from"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})],1),t._v(" "),i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"to"},model:{value:t.model.value2,callback:function(e){t.$set(t.model,"value2",e)},expression:"model.value2"}})],1)],1)],1):"array"==t.inputType&&"date"!=t.dataType?i("v-flex",{attrs:{xs12:"",sm5:""}},[t.simpleKeyIsRealms?[i("fluro-realm-select",{attrs:{action:"view any",filterDiscriminator:t.discriminator,block:"",small:""},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]:t.useBasicReferenceSelect?[i("fluro-content-select-button",{attrs:{small:"",block:"",allDefinitions:!0,type:t.useBasicReferenceSelect},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]:[t.referenceSelectField?[t.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.cleanedValueSelection},scopedSlots:t._u([{key:"item",fn:function(e){return["event"==e.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[t._v(t._s(e.item.title))]),t._v(" "),i("div",{staticClass:"muted"},[t._v(t._s(t._f("readableEventDate")(e.item)))])])]:[t._v("\n                                        "+t._s(e.item.title)+"\n                                    ")]]}}],null,!1,1211652998),model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.cleanedValueSelection},scopedSlots:t._u([{key:"item",fn:function(e){return["event"==e.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[t._v(t._s(e.item.title))]),t._v(" "),i("div",{staticClass:"muted"},[t._v(t._s(t._f("readableEventDate")(e.item)))])])]:[t._v("\n                                        "+t._s(e.item.title)+"\n                                    ")]]}}],null,!1,1211652998),model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]]:[t.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{multiple:"",dense:"",loading:t.loadingValues,items:t.cleanedValueSelection},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{multiple:"",dense:"",loading:t.loadingValues,items:t.cleanedValueSelection},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]]]],2):i("v-flex",{attrs:{xs12:"",sm5:""}},["date"==t.dataType?["datesameweekday"==t.model.comparator?[i("div",[i("v-select",{attrs:{"single-line":"",multiple:"",dense:"","item-text":"title","item-value":"value",items:t.weekdays},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})],1)]:[i("div",[i("v-menu",{ref:"date1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[t.model.computedValue&&t.model.computedValue.length?[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Relative Date"},model:{value:t.model.computedValue,callback:function(e){t.$set(t.model,"computedValue",e)},expression:"model.computedValue"}})]:[i("v-text-field",t._g({staticClass:"small-input",attrs:{"single-line":"",label:"Date",placeholder:t.model.computedValue},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}},n))]]}}],null,!1,183020790),model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[t._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}},[i("v-spacer"),t._v(" "),i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Relative Date"},model:{value:t.model.computedValue,callback:function(e){t.$set(t.model,"computedValue",e)},expression:"model.computedValue"}}),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.date1=!1}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.date1.save(t.model.value)}}},[t._v("OK")])],1)],1)],1)]]:"number"==t.dataType||"float"==t.dataType||"decimal"==t.dataType?i("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}):"integer"==t.dataType?i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",mask:"############"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}):t.useBasicReferenceSelect?[i("fluro-content-select-button",{attrs:{small:"",block:"",allDefinitions:!0,maximum:1,"single-value":!0,type:t.useBasicReferenceSelect},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:t.referenceSelectField?[t.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.cleanedValueSelection},scopedSlots:t._u([{key:"item",fn:function(e){return["event"==e.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[t._v(t._s(e.item.title))]),t._v(" "),i("div",{staticClass:"muted"},[t._v(t._s(t._f("readableEventDate")(e.item)))])])]:[t._v("\n                                    "+t._s(e.item.title)+"\n                                ")]]}}],null,!1,1639746182),model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.cleanedValueSelection},scopedSlots:t._u([{key:"item",fn:function(e){return["event"==e.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[t._v(t._s(e.item.title))]),t._v(" "),i("div",{staticClass:"muted"},[t._v(t._s(t._f("readableEventDate")(e.item)))])])]:[t._v("\n                                    "+t._s(e.item.title)+"\n                                ")]]}}],null,!1,1639746182),model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]]:[t.requiresManualInput?[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[t.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{dense:"",loading:t.loadingValues,items:t.cleanedValueSelection},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"",loading:t.loadingValues,items:t.cleanedValueSelection},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]]]],2)]:t._e()],2),t._v(" "),t.hasSubFields?[t.model.criteria&&t.model.criteria.length?i("div",{staticClass:"subfields"},[i("v-input",{staticClass:"no-flex"},[i("v-label",[t._v(t._s(t.selector.subfieldTitle))]),t._v(" "),t._l(t.model.criteria,(function(e,n){return i("v-layout",[i("v-flex",[i("filter-condition-row",{attrs:{type:t.type,definition:t.definition,fields:t.selector.subfields,mini:t.mini},model:{value:t.model.criteria[n],callback:function(e){t.$set(t.model.criteria,n,e)},expression:"model.criteria[index]"}})],1),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",flat:"",color:"error",icon:""},on:{click:function(e){return t.removeCriteria(n)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)}))],2)],1):t._e(),t._v(" "),i("v-btn",{staticClass:"ml-0",attrs:{small:""},on:{click:function(e){return t.addCriteriaRow()}}},[t._v("\n            Add criteria\n            "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)]:t._e()],2)};n._withStripped=!0;i(12),i(53),i(52),i(22),i(23),i(114),i(298),i(16),i(15),i(13);var r=i(19),a=i(85),o=i(72),s={components:{FluroRealmSelect:a.default,FluroContentSelectButton:o.default},props:{type:{type:String},useSample:{type:Boolean},loadingKeys:{type:Boolean},value:{type:Object,required:!0},fields:{type:Array,default:function(){return[]}},definition:{type:Object,default:function(){return{}}},rows:{type:Array},mini:{type:Boolean}},beforeCreate:function(){this.$options.components.FilterConditionRow=i(174).default,this.$options.components.FilterConditionGroup=i(115).default},created:function(){var t=this;t.debounced=_.debounce((function(){t.$emit("input",t.model)}),t.debounce),this.retrieveValues()},data:function(){var t=[],e=new Date;t.push({title:"Next 6 Weeks",date1:e,date2:new Date((new Date).setTime((new Date).getTime()+36288e5))}),t.push({title:"Next 2 Weeks",date1:e,date2:new Date((new Date).setTime((new Date).getTime()+12096e5))}),t.push({title:"Last 2 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-12096e5)),date2:e}),t.push({title:"Last 6 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-24192e5)),date2:e});var i=JSON.parse(JSON.stringify(this.value));return{sampleRefreshKey:this.$fluro.utils.guid(),datePeriodOptions:t,debounced:null,debounce:0,possibleValues:[],date1:!1,date2:!1,loadingValues:!1,selectedKey:i.key||"",model:i,referenceIDModel:i.value,realmValues:[]}},computed:{dateMeasures:function(){return[{title:"Hours",value:"hour"},{title:"Days",value:"day"},{title:"Weeks",value:"week"},{title:"Months",value:"month"},{title:"Years",value:"year"}]},referenceID:{get:function(){return this.referenceIDModel},set:function(t){this.model.value=this.$fluro.utils.getStringID(t),this.referenceIDModel=t}},referenceSelectField:function(){return"reference"==this.dataType&&!this.requiresManualInput},useBasicReferenceSelect:function(){if(this.referenceSelectField&&this.selector)return this.selector.typeSelect||!1},keyCaption:function(){return this.model.title?this.model.title:this.selectedKey?this.selectedKey.title||this.selectedKey:"Select a field"},cleanedValueSelection:function(){return _.map(this.possibleValues,(function(t){return _.isString(t)?{text:t,value:t}:(t.title&&(t.text=t.title=t.title),t.name&&(t.text=t.title=t.name),t)}))},hasSubFields:function(){return this.selector&&this.selector.subfields&&this.selector.subfields.length},groupedFields:function(){return _.chain(this.fields).orderBy("title").value()},simpleKey:function(){return String(this.model.key).split("|")[0]},simpleKeyIsRealms:function(){return _.endsWith(this.simpleKey,"realms")},weeks:function(){var t=[];return _.times(52,(function(e){t.push({title:"Week "+e,value:e})})),t},months:function(){var t=(new Date).getFullYear();return[{title:"January",value:new Date(t,1,1)},{title:"February",value:new Date(t,2,1)},{title:"March",value:new Date(t,3,1)},{title:"April",value:new Date(t,4,1)},{title:"May",value:new Date(t,5,1)},{title:"June",value:new Date(t,6,1)},{title:"July",value:new Date(t,7,1)},{title:"August",value:new Date(t,8,1)},{title:"September",value:new Date(t,9,1)},{title:"October",value:new Date(t,0,1)},{title:"November",value:new Date(t,1,11)},{title:"December",value:new Date(t,1,12)}]},weekdays:function(){return[{title:"Sunday",value:0},{title:"Monday",value:1},{title:"Tuesday",value:2},{title:"Wednesday",value:3},{title:"Thursday",value:4},{title:"Friday",value:5},{title:"Saturday",value:6}]},readableStartDate:function(){return this.$fluro.date.formatDate(this.model.value,"D MMM YYYY")},readableEndDate:function(){return this.$fluro.date.formatDate(this.model.value2,"D MMM YYYY")},startDateString:{get:function(){return this.model.value?new Date(this.model.value).toISOString().substr(0,10):""},set:function(t){console.log("Set the value"),this.$set(this.model,"value",new Date(t))}},endDateString:{get:function(){return this.model.value2?new Date(this.model.value2).toISOString().substr(0,10):""},set:function(t){this.$set(this.model,"value2",new Date(t))}},requiresManualInput:function(){switch(this.model.comparator){case"startswith":case"endswith":case"doesnotstartwith":case"doesnotendwith":case"like":case"contains":case"excludes":return!0}},rowChangeString:function(){return this.useSample?"".concat(this.sampleRefreshKey,"-").concat(this.type,"-").concat(this.model.key):"".concat(this.discriminatorDefinition,"-").concat(this.discriminatorType).concat(this.discriminator,"-").concat(this.model.key,"-").concat(_.orderBy(this.$fluro.utils.arrayIDs(this.rows),(function(t){return t})).toString())},selector:function(){var t=this.model.key;if(this.fields)return _.find(this.fields,{key:t})},valid:function(){return r.FilterService.isValidFilter(this.model)},comparator:function(){return r.FilterService.comparatorLookup[this.model.comparator]},inputType:function(){return this.comparator?this.comparator.inputType:null},dataType:function(){return this.selector&&this.selector.type||"string"},discriminatorType:function(){return this.selector?this.selector._discriminatorType:void 0},discriminatorDefinition:function(){return this.selector?this.selector._discriminatorDefinition:void 0},discriminator:function(){return this.selector?this.selector._discriminator:void 0},comparators:function(){var t="string";return this.selector&&(t=this.selector.type||"string"),r.FilterService.getComparatorsForType(t)}},watch:{dataType:function(t){t?this.$set(this.model,"dataType",t):this.$set(this.model,"dataType",null),this.$set(this.model,"comparator",null),this.$set(this.model,"value",null),this.$set(this.model,"value2",null),this.$set(this.model,"values",[])},selectedKey:function(t){t?(this.$set(this.model,"title",t.title),this.model.key=t.key):(this.$set(this.model,"title",null),this.$set(this.model,"dataType",null),this.model.key=null),this.$set(this.model,"value",null),this.$set(this.model,"value2",null),this.$set(this.model,"values",[])},selector:function(){this.selector?this.model.key=this.selector.key:this.model.key=""},model:{handler:function(){this.debounced()},deep:!0},rowChangeString:function(t){this.retrieveValues()}},methods:{addCriteriaRow:function(){var t={key:null,value:null,value2:null,values:[]};this.model.criteria?this.model.criteria.push(t):this.$set(this.model,"criteria",[t])},removeCriteria:function(t){this.model.criteria.splice(t,1)},selectDatePeriod:function(t){this.model.value=t.date1,this.model.value2=t.date2},retrieveValues:function(){var t=this,e=t.model.key;if(console.log("RETRIEVE VALUES",e),t.useBasicReferenceSelect)return t.possibleValues=[],t.loadingValues=!1,void console.log("Use basic reference select");if(!e||!e.length)return t.possibleValues=[],t.loadingValues=!1,void console.log("No key");if(t.selector&&t.selector.options&&t.selector.options.length)return t.possibleValues=t.selector.options,t.loadingValues=!1,void console.log("has options");switch(t.dataType){case"date":case"number":case"float":case"integer":case"decimal":return t.possibleValues=[];case"boolean":return t.possibleValues=[!0,!1];default:switch(e){case"definition":if(t.definition&&t.definition.definitions)return t.possibleValues=_.map(t.definition.definitions,(function(t){return{text:t.title,value:t.definitionName}}));break;case"status":switch(_.get(t,"definition.type.definitionName")){case"contact":return t.possibleValues=["active","draft","archived","deceased"];case"purchase":return t.possibleValues=["active","cancelled","expired","failed","archived"];default:return t.possibleValues=["active","draft","archived","template"]}break;case"gender":return t.possibleValues=["male","female","unknown"]}}if(!(t.useSample||t.rows&&t.rows.length))return t.possibleValues=[],void(this.loadingValues=!1);this.loadingValues=!0;var i=this.$fluro.cache.get("filter-distinct-values"),n=i[t.rowChangeString];if(!n)if(console.log("No value cache! Load it now"),_.some(t.rows,(function(t){return t.hasOwnProperty(e)})))t.possibleValues=_.chain(t.rows).map(e).flatten().compact().uniqBy((function(t){return t.title||t.name||String(t)})).orderBy((function(t){return t.title||t.name||String(t)})).value(),n=i[t.rowChangeString]=Promise.resolve(t.possibleValues),console.log("We Already have the key of",e);else{var r=t.$fluro.utils.arrayIDs(t.rows),a={};"reference"==t.dataType&&(a.params||(a.params={}),a.params.populate=!0);var o=t.discriminatorDefinition;o&&o.length&&(a.params||(a.params={}),a.params.definition=o);var s=t.discriminatorType;s&&s.length&&(a.params||(a.params={}),a.params.discriminatorType=s);var l=t.discriminator;l&&l.length&&(a.params||(a.params={}),a.params.discriminator=l),t.definition&&t.definition.type&&(a.type=t.definition.type.definitionName),n=i[t.rowChangeString]=t.$fluro.content.values(r,e,a)}n.then((function(e){t.possibleValues=e&&e.length?e:t.possibleValues||[],t.loadingValues=!1}),(function(e){t.possibleValues=[],t.loadingValues=!1,i[t.rowChangeString]=null}))}}},l=(i(632),i(0)),c=Object(l.a)(s,n,[],!1,null,"3e7d1456",null);c.options.__file="src/components/form/filters/FilterConditionRow.vue";e.default=c.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dots"},this._l(this.filtered,(function(t){return e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dot",style:{backgroundColor:t.bgColor||"#000"},attrs:{content:t.title,small:""}})})),0)};n._withStripped=!0;i(24);var r={props:{realms:{default:function(){return[]},type:[Array,Object]}},computed:{actualRealms:function(){if(this.realms)return this.realms.length?this.realms:[this.realms]},filtered:function(){var t=_.filter(this.actualRealms,(function(t){if(t&&!t._discriminatorType)return!0})),e=_.filter(t,"bgColor");return e.length?e:t.slice(0,1)}}},a=(i(623),i(0)),o=Object(a.a)(r,n,[],!1,null,"82bc59f0",null);o.options.__file="src/components/ui/FluroRealmDots.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({staticClass:"fluro-status-select"},n),[i("fluro-status-label",{attrs:{value:t.value}})],1)]}}])},[t._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},t._l(t.options,(function(e){return i("v-list-tile",{on:{click:function(i){return t.setStatus(e)}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                        "+t._s(e)+"\n                    ")])],1)],1)})),1)],1)],1)};n._withStripped=!0;var r={components:{FluroStatusLabel:i(293).a},props:{value:{type:String,default:function(){return"active"}},type:{type:String}},data:function(){return{status:this.value}},methods:{setStatus:function(t){this.status=t,this.$emit("input",t)}},computed:{options:function(){var t=[];switch(this.type){case"purchase":t.push("active"),t.push("cancelled"),t.push("expired");break;case"account":t.push("active"),t.push("cancelled"),t.push("onhold"),t.push("exempt"),t.push("trial");break;case"plan":t.push("active"),t.push("draft"),t.push("archived"),t.push("template");break;default:t.push("active"),t.push("draft"),t.push("archived")}return t}}},a=(i(642),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/form/FluroStatusSelect.vue";e.a=o.exports},function(t,e,i){var n=i(450);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("9fe0cc3c",n,!1,{})},function(t,e,i){var n=i(452);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("682d7cb3",n,!1,{})},function(t,e,i){var n=i(454);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ea259e9a",n,!1,{})},function(t,e,i){var n=i(456);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("e43ff1d6",n,!1,{})},function(t,e,i){var n=i(458);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("a1b76668",n,!1,{})},function(t,e,i){var n=i(460);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("71406df5",n,!1,{})},function(t,e,i){var n=i(483);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("21be34c5",n,!1,{})},function(t,e,i){var n=i(485);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("622c1346",n,!1,{})},function(t,e,i){var n=i(487);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("c1396fa0",n,!1,{})},function(t,e,i){var n=i(489);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1dc0afc5",n,!1,{})},function(t,e,i){var n=i(491);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7228d93a",n,!1,{})},function(t,e,i){var n=i(496);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("043fb58d",n,!1,{})},function(t,e,i){var n=i(498);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("0f2a2202",n,!1,{})},function(t,e,i){var n=i(500);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ff2bb750",n,!1,{})},function(t,e,i){var n=i(503);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("f534a428",n,!1,{})},function(t,e,i){var n=i(505);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("3bd1403e",n,!1,{})},function(t,e,i){var n=i(507);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("2008aaf4",n,!1,{})},function(t,e,i){var n=i(509);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("785aba44",n,!1,{})},function(t,e,i){var n=i(511);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("4bfdaca8",n,!1,{})},function(t,e,i){var n=i(513);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("d82ae4f8",n,!1,{})},function(t,e,i){var n=i(515);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("497ba98d",n,!1,{})},function(t,e,i){var n=i(517);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("88d2300a",n,!1,{})},function(t,e,i){"use strict";i(24),i(82),i(107),i(17);var n=i(19);e.a={props:{changeKey:{type:[String,Number]},filterConfig:{type:Object,default:function(){return{operator:"and",filters:[]}}},lockFilter:{type:Object},allDefinitions:{type:Boolean,default:!1},searchInheritable:{type:Boolean,default:!1},includeArchivedByDefault:{type:Boolean},search:{type:String},startDate:{type:Date},endDate:{type:Date},dataType:{type:String},defaultSort:{type:String},defaultSortType:{type:String},defaultSortDirection:{type:String},initSort:{type:Object,default:function(){return{key:this.defaultSort,direction:this.defaultSortDirection,type:this.defaultSortType}}}},data:function(){return{cacheKey:null,all:[],rows:[],groupingColumn:null,debouncedSearch:this.search,loadingItems:!0,sort:JSON.parse(JSON.stringify(this.initSort))}},watch:{changeKey:function(){this.reload()},search:_.debounce((function(t){this.debouncedSearch=t}),500),reloadRequired:{immediate:!0,handler:_.debounce((function(t){this.reload()}),500)}},methods:{updateCacheKey:function(){this.cacheKey=this.$fluro.global.CACHE_KEY},reload:function(){var t=this;t.loadingItems=!0;var e=t.sort,i=JSON.parse(JSON.stringify(t.filterConfig));this.lockFilter&&("and"==i.operator?i.filters.push(this.lockFilter):i=this.lockFilter.filters.push(i),console.log("LOCK FILTER CHECK",i));var n={sort:e,filter:i,search:t.debouncedSearch,includeArchived:t.includeArchived,allDefinitions:t.allDefinitions,searchInheritable:t.searchInheritable,includeUnmatched:!0,groupingColumn:t.groupingColumn?t.groupingColumn.key:void 0};return this.select&&(n.select=this.select),this.populateAll&&(n.populateAll=this.populateAll),t.startDate&&(n.startDate=new Date(t.startDate)),t.endDate&&(n.endDate=new Date(t.endDate)),n.timezone=t.$fluro.date.defaultTimezone,t.$fluro.api.post("/content/".concat(t.dataType,"/filter"),n).then((function(e){t.all=e.data,t.$emit("raw",t.all),t.rows=_.filter(e.data,{_matched:!0}),t.$emit("filtered",t.rows),t.setPage&&t.setPage(1),t.loadingItems=!1})).catch((function(e){t.loadingItems=!1,t.rows=[],t.$emit("filtered",t.rows),t.all=[],t.$emit("raw",t.all),t.setPage&&t.setPage(1),t.$fluro.api.axios.isCancel(e)}))}},computed:{includeArchived:function(){return this.includeArchivedByDefault},reloadRequired:function(){return"".concat(this.cacheKey,"-").concat(this.dataType,"-").concat(this.filterCheckString," ").concat(this.dateWatchString," ").concat(this.sort.sortKey," ").concat(this.sort.sortDirection," ").concat(this.sort.sortType," ").concat(this.groupingColumn?this.groupingColumn.key:"","  ").concat(this.debouncedSearch)},activeFilters:function(){return n.FilterService.activeFilters(this.filterConfig)},activeFilterRows:function(){return _.filter(this.activeFilters,(function(t){return t.comparator&&t.comparator.length}))},activeFilterKeys:function(){return n.FilterService.activeFilterKeys(this.filterConfig)},activeFilterValues:function(){return n.FilterService.activeFilterValues(this.filterConfig)},activeFilterComparators:function(){return n.FilterService.activeFilterComparators(this.filterConfig)},activeFilterOperators:function(){return n.FilterService.activeFilterComparators(this.filterConfig)},filterCheckString:function(){return n.FilterService.getFilterChangeString(this.filterConfig)},dateWatchString:function(){if(this.startDate&&this.endDate){var t=new Date(this.startDate);t.setHours(0,0,0,0);var e=new Date(this.endDate);return e.setHours(0,0,0,0),"".concat(t.getTime()," ").concat(e.getTime())}}},created:function(){this.$fluro.addEventListener("cache.reset",this.updateCacheKey)},beforeDestroy:function(){this.$fluro.removeEventListener("cache.reset",this.updateCacheKey)}}},function(t,e,i){var n=i(519);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("544d2a9d",n,!1,{})},function(t,e,i){var n=i(521);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1182e690",n,!1,{})},function(t,e,i){var n=i(523);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("a7646b44",n,!1,{})},function(t,e,i){var n=i(525);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7b18c58e",n,!1,{})},function(t,e,i){var n=i(527);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("2d8327f6",n,!1,{})},function(t,e,i){var n=i(529);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("2417790d",n,!1,{})},function(t,e,i){var n=i(531);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("6f2af2f4",n,!1,{})},function(t,e,i){var n=i(533);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("26bdc176",n,!1,{})},function(t,e,i){var n=i(535);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ca4b1ef6",n,!1,{})},function(t,e,i){var n=i(537);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("8b2e222a",n,!1,{})},function(t,e,i){var n=i(539);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("0e5f0306",n,!1,{})},function(t,e,i){var n=i(541);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("753aed72",n,!1,{})},function(t,e,i){var n=i(543);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1f5969de",n,!1,{})},function(t,e,i){var n=i(545);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("23ab5295",n,!1,{})},function(t,e,i){var n=i(547);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1b90b89f",n,!1,{})},function(t,e,i){var n=i(549);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("356b3e9e",n,!1,{})},function(t,e,i){var n=i(551);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("32515d5d",n,!1,{})},function(t,e,i){var n=i(553);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("8cacca64",n,!1,{})},function(t,e,i){var n=i(555);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1f5620bc",n,!1,{})},function(t,e,i){var n=i(603);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1a4a8db9",n,!1,{})},function(t,e,i){var n=i(605);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("0dcf6840",n,!1,{})},function(t,e,i){var n=i(607);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("4dbd4c06",n,!1,{})},function(t,e,i){var n=i(609);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("f7f89334",n,!1,{})},function(t,e,i){var n=i(611);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("564f2dcb",n,!1,{})},function(t,e,i){var n=i(613);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("40a0e360",n,!1,{})},function(t,e,i){var n=i(615);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("28749802",n,!1,{})},function(t,e,i){var n=i(617);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("5a8faf94",n,!1,{})},function(t,e,i){var n=i(619);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7499ce00",n,!1,{})},function(t,e,i){var n=i(621);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("2efb99ed",n,!1,{})},function(t,e,i){var n=i(624);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("5eda179d",n,!1,{})},function(t,e,i){var n=i(629);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("51ff4778",n,!1,{})},function(t,e,i){var n=i(631);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("a6cdfbee",n,!1,{})},function(t,e,i){var n=i(633);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("390bfb88",n,!1,{})},function(t,e,i){var n=i(635);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("75549b90",n,!1,{})},function(t,e,i){var n=i(637);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("31fd6556",n,!1,{})},function(t,e,i){var n=i(639);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("676cd505",n,!1,{})},function(t,e,i){var n=i(641);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1c2d77e3",n,!1,{})},function(t,e,i){var n=i(643);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("2272d7db",n,!1,{})},function(t,e,i){var n=i(645);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("d8f34b98",n,!1,{})},function(t,e,i){var n=i(648);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("07bd8b90",n,!1,{})},function(t,e,i){var n=i(650);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("664de23c",n,!1,{})},function(t,e,i){var n=i(660);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("21f32862",n,!1,{})},function(t,e,i){var n=i(662);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("34247a79",n,!1,{})},function(t,e,i){var n=i(664);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("5898b442",n,!1,{})},function(t,e,i){var n=i(666);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7435631d",n,!1,{})},function(t,e,i){var n=i(668);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("dff33512",n,!1,{})},function(t,e,i){var n=i(670);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("33d59658",n,!1,{})},function(t,e,i){var n=i(672);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("01fc24a0",n,!1,{})},function(t,e,i){var n=i(674);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("273a67cc",n,!1,{})},function(t,e,i){var n=i(689);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7b905699",n,!1,{})},function(t,e,i){var n=i(691);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("5ef1eec8",n,!1,{})},function(t,e,i){var n=i(693);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("20ebf788",n,!1,{})},function(t,e,i){var n=i(695);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("10533f38",n,!1,{})},function(t,e,i){var n=i(697);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("6741bab4",n,!1,{})},function(t,e,i){var n=i(699);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ba6846f4",n,!1,{})},function(t,e,i){var n=i(701);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("b2c59360",n,!1,{})},function(t,e,i){var n=i(703);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1026577a",n,!1,{})},function(t,e,i){var n=i(705);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ae22642a",n,!1,{})},function(t,e,i){var n=i(707);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("0f36098b",n,!1,{})},function(t,e,i){var n=i(709);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("76d51e01",n,!1,{})},function(t,e,i){var n=i(711);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("06cf9ec6",n,!1,{})},function(t,e,i){var n=i(713);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("db74705a",n,!1,{})},function(t,e,i){var n=i(715);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("9695306e",n,!1,{})},function(t,e,i){var n=i(717);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("d7202546",n,!1,{})},function(t,e,i){var n=i(719);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("33856b83",n,!1,{})},function(t,e,i){var n=i(721);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1a4518d6",n,!1,{})},function(t,e,i){var n=i(723);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("dcf9e8f6",n,!1,{})},function(t,e,i){var n=i(725);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("09f7dbc7",n,!1,{})},function(t,e,i){var n=i(727);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("6ba5f41d",n,!1,{})},function(t,e,i){var n=i(729);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("df11bed6",n,!1,{})},function(t,e,i){var n=i(731);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("ddee808e",n,!1,{})},function(t,e,i){var n=i(733);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("e2e4270e",n,!1,{})},function(t,e,i){var n=i(735);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("7ff75ea3",n,!1,{})},function(t,e,i){var n=i(737);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("b4fec762",n,!1,{})},function(t,e,i){var n=i(739);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("51427e8f",n,!1,{})},function(t,e,i){var n=i(741);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("79413e6d",n,!1,{})},function(t,e,i){var n=i(743);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1395c383",n,!1,{})},function(t,e,i){var n=i(745);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("8bdc4e0e",n,!1,{})},function(t,e,i){var n=i(747);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("fa27a9ba",n,!1,{})},function(t,e,i){var n=i(749);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("0277637a",n,!1,{})},function(t,e,i){var n=i(751);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("669f853a",n,!1,{})},function(t,e,i){var n=i(753);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("800d13e8",n,!1,{})},function(t,e,i){var n=i(755);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("b717cce2",n,!1,{})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"infinite-scroll-container"},t._l(t.availablePages,(function(e,n){return n<=t.limit?i("div",{attrs:{index:n}},[t._t("default",null,{page:e})],2):t._e()})),0)};n._withStripped=!0;i(17);var r=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"infinite-page",attrs:{id:"page-"+this.index}},[this._t("default",null,{page:this.page})],2)};r._withStripped=!0;var a={props:{page:{required:!0},index:{required:!0}},data:function(){return{active:!0}},computed:{pageID:function(){return"page-".concat(this.index)}}},o=i(0),s=Object(o.a)(a,r,[],!1,null,"9db7a99e",null);s.options.__file="src/components/ui/FluroInfiniteScrollPage.vue";var l={components:{FluroInfinitePage:s.exports},props:{items:{type:Array,default:function(){return[]}},perPage:{type:Number,default:4},buffer:{type:Number,default:3},scrollParent:{default:function(){return{}}}},data:function(){return{currentIndex:0,parentElement:null}},destroyed:function(){this.parentElement.removeEventListener("scroll",this.updateScroll)},mounted:function(){this.parentElement=this.$el.closest("[scroll-parent]")||this.$el.closest("body");this.parentElement.addEventListener("scroll",this.updateScroll)},computed:{availablePages:function(){return _.chunk(this.items,this.perPage)},total:function(){return this.availablePages.length},limit:function(){return this.currentIndex+this.buffer},currentPage:{get:function(){return this.currentIndex},set:function(t){t=Math.max(t,0),t=Math.min(t,this.total-1),this.currentIndex=t,console.log("PAGE",t)}}},methods:{hitBuffer:function(t,e,i){return Math.abs(t-e)<i},updateScroll:function(){var t=this.parentElement.scrollHeight,e=this.parentElement.scrollTop,i=this.parentElement.clientHeight,n=t-i;return this.hitBuffer(e,n,i/2)?this.hitBottom():this.hitBuffer(e,0,i/2)?this.hitTop():void 0},hitTop:function(){this.currentPage--},hitBottom:function(){this.currentPage++}}},c=(i(457),Object(o.a)(l,n,[],!1,null,"7186edfc",null));c.options.__file="src/components/ui/FluroInfiniteScroll.vue";e.a=c.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"number-cell-text",class:{muted:this.empty}},[this._v("\n    "+this._s(this.data)+"\n    ")])};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}},computed:{empty:function(){if(0==parseInt(this.data))return!0}}},a=(i(506),i(0)),o=Object(a.a)(r,n,[],!1,null,"2ff72b1a",null);o.options.__file="src/components/table/cells/NumberCell.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boolean-cell text-xs-center",class:{true:this.booleanTrue,false:!this.booleanTrue}},[this.booleanTrue?e("fluro-icon",{attrs:{library:"fas",icon:"check-circle"}}):e("fluro-icon",{attrs:{library:"far",icon:"times"}})],1)};n._withStripped=!0;var r={props:{row:{type:Object},column:{type:Object},data:{}},computed:{booleanTrue:function(){if(!_.isString(this.data))return!!this.data;switch(String(this.data).toLowerCase()){case"true":case"y":case"yes":return!0;case"false":case"null":case"undefined":case"n":case"no":case"":return}}}},a=(i(508),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/table/cells/BooleanCell.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-table-wrapper"},[t.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):t._e(),t._v(" "),t.showLoading||t.page.length?[i("div",{ref:"scrollableArea",staticClass:"fluro-table-scroll",class:{clickable:t.clickable,loading:t.showLoading}},[i("span",{ref:"top"}),t._v(" "),i("table",{staticClass:"fluro-table-main no-select"},[i("thead",[i("tr",[t.selectionEnabled?i("th",{staticClass:"first shrink checkbox-cell"},[i("v-menu",{attrs:{attach:"","offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({},n),[i("table-header-checkbox",{tag:"div",attrs:{all:t.allSelected,some:t.someSelected}})],1)]}}],null,!1,3536504858)},[t._v(" "),i("v-card",{staticClass:"select-options",attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[t.allSelected?t._e():i("v-list-tile",{on:{click:function(e){return t.selectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                       Select this page\n                                                   ")])],1)],1),t._v(" "),t.someSelected?i("v-list-tile",{on:{click:function(e){return t.deselectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                       Deselect this page\n                                                   ")])],1)],1):t._e(),t._v(" "),t.filteredTotal?i("v-list-tile",{on:{click:function(e){return t.selectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                       Select all "+t._s(t.filteredTotal)+" items\n                                                   ")])],1)],1):t._e(),t._v(" "),t.selectionController.selection.length?i("v-list-tile",{on:{click:function(e){return t.deselectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                       Deselect all "+t._s(t.filteredTotal)+" items\n                                                   ")])],1)],1):t._e()],1)],1)],1)],1):t._e(),t._v(" "),t._l(t.renderColumns,(function(e){return i("th",{class:{shrink:e.shrink,sortable:t.isSortable(e),sorting:t.sort.sortKey==e.key,"text-xs-center":"center"==e.align,"text-xs-right":"right"==e.align},on:{contextmenu:function(i){return i.preventDefault(),t.showOptionsForColumn(e)},click:function(i){return t.toggleSort(e)}}},[e.icon?[i("fluro-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.title,library:"fas",icon:e.icon}})]:[t.isActiveSort(e.key)?i("div",{staticClass:"sort-icon"},["desc"==t.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-down"}}):t._e(),t._v(" "),"asc"==t.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-up"}}):t._e()],1):t._e(),t._v("\n                                   "+t._s(e.title)+"\n                               ")]],2)})),t._v(" "),i("th",{staticClass:"last shrink"},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({},n),[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{content:"Table Settings",small:"",icon:""}},[i("fluro-icon",{attrs:{icon:"cog"}})],1)],1)]}}])},[t._v(" "),i("v-card",{attrs:{tile:""}},[t._t("optionsabove"),t._v(" "),t.availableKeys.length?i("v-container",[i("v-autocomplete",{attrs:{label:"Group rows by",items:t.availableGroupingKeys,"return-object":!0,"item-text":"title"},on:{change:t.toggleColumnGrouping}})],1):t._e(),t._v(" "),i("v-container",{staticClass:"border-top border-bottom"},[i("strong",[t._v("Select Columns")])]),t._v(" "),i("v-list",{staticClass:"scroll-y",staticStyle:{"max-height":"50vh"},attrs:{dense:""}},t._l(t.availableKeys,(function(e){return i("v-list-tile",{class:{columnselected:t.columnIsSelected(e)},on:{click:function(i){return t.toggleColumn(e)}}},[i("v-list-tile-action",[t.columnIsSelected(e)?i("fluro-icon",{attrs:{icon:"check"}}):t._e()],1),t._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                       "+t._s(e.title)+"\n                                                   ")])],1)],1)})),1),t._v(" "),t._t("optionsbelow")],2)],1)],1)],2)]),t._v(" "),i("tbody",[t.grouped?[t._l(t.grouped,(function(e){return[i("tr",{staticClass:"breaker"},[i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:t.allInGroupSelected(e.items)},nativeOn:{click:function(i){return t.toggleSet(e.items)}}}),t._v(" "),i("td",{attrs:{colspan:1+t.renderColumns.length}},[t._v(t._s(e.title||"No value")+" "),i("span",{staticClass:"sm muted"},[t._v("("+t._s(e.items.length)+")")])])],1),t._v(" "),t._l(e.items,(function(e,n){return i("tr",{key:e.guid,class:t.classes(e)},[e._populating?[t.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first"}):t._e(),t._v(" "),i("td",{attrs:{colspan:t.renderColumns.length},nativeOn:{click:function(i){return t.clicked(e,t.column,n)}}},[t._v("-")]),t._v(" "),t.actionsEnabled?i("th",{staticClass:"last shrink"}):t._e()]:[t.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:t.selectionController.isSelected(e),value:e},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.checkboxClick(e,i,n)}}}):t._e(),t._v(" "),t._l(t.renderColumns,(function(r){return i("table-cell",{class:{sorting:t.sort.sortKey==r.key},attrs:{row:e,column:r},nativeOn:{click:function(i){return t.clicked(e,r,n)}}})})),t._v(" "),t.actionsEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):t._e()]],2)}))]}))]:t._l(t.page,(function(e,n){return i("tr",{key:e.guid,class:t.classes(e)},[e._populating?[t.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first"}):t._e(),t._v(" "),i("td",{attrs:{colspan:t.renderColumns.length},nativeOn:{click:function(i){return t.clicked(e,t.column,n)}}},[t._v("-")]),t._v(" "),t.actionsEnabled?i("th",{staticClass:"last shrink"}):t._e()]:[t.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:t.selectionController.isSelected(e),value:e},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.checkboxClick(e,i,n)}}}):t._e(),t._v(" "),t._l(t.renderColumns,(function(r){return i("table-cell",{class:{sorting:t.sort.sortKey==r.key},attrs:{row:e,column:r},nativeOn:{click:function(i){return t.clicked(e,r,n)}}})})),t._v(" "),t.actionsEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):t._e()]],2)}))],2)])]),t._v(" "),i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[t.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({},n),[t.groupingColumn?i("div",[t._v("\n                                           "+t._s(t.totalGroups)+" groups - Showing "+t._s(t._f("numberWithCommas")(t.startOffset+1))+" to "+t._s(t._f("numberWithCommas")(t.endOffset))+" of "+t._s(t._f("numberWithCommas")(t.filteredTotal))+" rows\n                                       ")]):i("div",[t._v("\n                                           "+t._s(t._f("numberWithCommas")(t.startOffset+1))+" to "+t._s(t._f("numberWithCommas")(t.endOffset))+" of "+t._s(t._f("numberWithCommas")(t.filteredTotal))+" "+t._s(t.plural)+"\n                                       ")])])]}}])},[t._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(e){t.perPage=25}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                   Show 25 per page\n                                               ")])],1)],1),t._v(" "),i("v-list-tile",{on:{click:function(e){t.perPage=50}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                   Show 50 per page\n                                               ")])],1)],1),t._v(" "),i("v-list-tile",{on:{click:function(e){t.perPage=100}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                   Show 100 per page\n                                               ")])],1)],1),t._v(" "),i("v-list-tile",{on:{click:function(e){t.perPage=200}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                   Show 250 per page\n                                               ")])],1)],1),t._v(" "),i("v-list-tile",{on:{click:function(e){t.perPage=500}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                   Show 500 per page\n                                               ")])],1)],1)],1)],1)],1)],1),t._v(" "),i("v-flex",{staticClass:"text-xs-right",staticStyle:{"white-space":"nowrap"},attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[i("div",{staticClass:"pagenumber-select"},[t.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e(),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPage,expression:"currentPage"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.currentPage=e.target.multiple?i:i[0]}}},t._l(t.availablePages,(function(e,n){return i("option",{domProps:{value:n+1}},[t._v(t._s(n+1))])})),0)]),t._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],t._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[t._v("\n                           No "+t._s(t.plural)+"\n                       ")])]],2)],1)]:i("v-container",{staticClass:"flex-center"},[t._t("emptytext",[t._v("\n               No "+t._s(t._f("definitionTitle")(t.dataType,!0))+" were found matching your criteria\n           ")])],2)],2)};n._withStripped=!0;i(84),i(24),i(16),i(31),i(22),i(23),i(26),i(82),i(53),i(173),i(12),i(13),i(17);var r=i(294),a=i(295),o=i(117),s=i(199),l=(i(19),{props:{fixedColumns:{type:Boolean,default:!1},grouping:{type:Function},enableSelection:{type:Boolean,default:!0},enableActions:{type:Boolean,default:!0},defaultSort:{type:String,default:function(){return"updated"}},defaultSortType:{type:String,default:function(){return"date"}},defaultSortDirection:{type:String,default:function(){return"desc"}},selectionController:{type:Object,default:function(){return this.$selection}},clickable:{type:Boolean,default:function(){return!0}},clicked:{type:Function,default:function(){return function(t,e){}}},columns:{type:Array,default:function(){return[]}},availableKeys:{type:Array,default:function(){return[]}},additionalColumns:{type:Array,default:function(){return[]}},initPage:{type:[Number,String],default:1},pageSize:{type:Number,default:50}},data:function(){return{cacheKey:null,columnState:{},structureColumns:_.compact(this.columns),extraColumns:[],page:[],perPage:this.pageSize,loading:!1,currentPage:parseInt(this.initPage),previousSelectionIndex:-1}},computed:{availableGroupingKeys:function(){var t=_.chain(this.activeFilterRows).map((function(t){if(t)return{title:"Current Filter > ".concat(t.title||t.key),key:t.key}})).compact().value().concat(this.availableKeys.slice());return t.unshift({title:"None",key:null}),t},totalGroups:function(){if(this.groupingColumn)return _.chain(this.rows).groupBy((function(t){return t._groupingKey})).values().value().length},plural:function(){return this.$fluro.types.readable(this.dataType,!0)},pagePopulationString:function(){return[this.currentPage,_.map(this.rawPage,"_id"),_.map(this.renderColumns,"key")].join("-")},renderColumns:function(){var t=this.structureColumns?this.structureColumns.slice():[],e={};if(this.extraColumns&&(t=t.concat(this.extraColumns)),!this.fixedColumns){var i=_.chain(this.activeFilters||[]).map((function(t){var i,n=t.key,r=t.dataType;if(t.criteria&&t.criteria.length&&(e[t.key]||(e[t.key]=0),n="_matchedFilters['".concat(n,"'][").concat(e[n],"]"),r="reference",i=!0,e[t.key]++),t.comparator){var a={title:t.title||_.startCase(t.key),key:n,allowDuplicates:i};switch((_.startsWith(t.comparator,"date")||"date"==t.dataType)&&(a.sortType=a.type="date"),t.dataType){case"number":case"integer":case"decimal":case"float":a.sortType=a.type=r}return a}})).compact().value();_.each(i,(function(e){e.allowDuplicates?t.push(e):_.some(t,{key:e.key})||t.push(e)}))}return t},grouped:function(){var t;return this.grouping?t=this.grouping(this.page):this.groupingColumn&&this.groupingColumn.key&&(t=this.groupByColumn(this.page.slice(),this.groupingColumn)),t},reloadRequired:function(){return"".concat(this.cacheKey,"-").concat(this.dataType,"-").concat(this.filterCheckString," ").concat(this.dateWatchString," ").concat(this.sort.sortKey," ").concat(this.sort.sortDirection," ").concat(this.sort.sortType," ").concat(this.groupingColumn?this.groupingColumn.key:"","  ").concat(this.debouncedSearch)},selectionEnabled:function(){return!(!1===this.enableSelection||!this.selectionController)},actionsEnabled:function(){return!(!1===this.enableActions)},rowsTotal:function(){return this.rowsLoaded||this.rows.length||MAX_CHUNK_SIZE||MAX_ROWS},showLoading:function(){return this.loading||this.loadingItems},rowCheckString:function(){var t=this.rows||[],e=_.map(t,"_id").join(""),i=_.keys(t[0]);return"".concat(e).concat(i)},isAsync:function(){return this.dataType&&this.dataType.length},previousPageDisabled:function(){return this.currentPage<=1},nextPageDisabled:function(){return this.currentPage==this.totalPages},filteredTotal:function(){return this.rows.length},availablePages:function(){return _.chunk(this.rows,this.perPage)},startOffset:function(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset:function(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},rawPage:function(){if(this.currentPage>this.totalPages)var t=_.first(this.availablePages);else t=this.availablePages[this.currentPage-1];return t||[]},totalPages:function(){return this.availablePages?this.availablePages.length:0},allSelected:function(){var t=this;if(t.page&&t.page.length)return!_.some(t.page,(function(e){return!t.selectionController.isSelected(e)}))},someSelected:function(){var t=this;return!!t.allSelected||_.some(t.page,(function(e){return t.selectionController.isSelected(e)}))},selectAllIcon:function(){return this.allSelected?"check-square":this.someSelected?"minus-square":"square"}},asyncComputed:{availableColumns:{default:[],get:function(){var t=this;return t.rows&&t.rows.length?(t.loadingKeys=!0,new Promise((function(e,i){var n="".concat(t.dataType,"-columns"),r=t.$fluro.cache.get("filter-distinct-keys"),a=r[n];if(!a){var o=t.$fluro.utils.arrayIDs(t.rows),s={type:t.dataType};a=r[n]=t.$fluro.content.keys(o,s)}a.then((function(i){e(i),t.loadingKeys=!1}),(function(i){console.log("Error",i),e([]),t.loadingKeys=!1,r[n]=null}))}))):(t.loadingKeys=!1,Promise.resolve([]))}}},filters:{numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},watch:{extraColumns:function(){this.$emit("additionalColumns",this.extraColumns)},pagePopulationString:function(t){this.loading=!0,this.populatePage()}},methods:{allInGroupSelected:function(t){var e=this;if(t&&t.length)return!_.some(t,(function(t){return!e.selectionController.isSelected(t)}))},someInGroupSelected:function(t){var e=this;return!!e.allInGroupSelected(t)||_.some(t,(function(t){return e.selectionController.isSelected(t)}))},groupByColumn:function(t,e,i){var n;if(!e||!e.key)return t;if(i){var r=e.key.split("|"),a=r[0],o=r[1];n=_.chain(t).reduce((function(t,e){var i=_.get(e,a);if(!i)return t;function n(i){var n=_.get(i,"_id")||_.get(i,"title")||_.get(i,"name")||_.get(i,"value")||i,r=_.get(i,"title")||_.get(i,"name")||n||"",a=String(r||"").toLowerCase(),o=t[n];o||(o=t[n]={title:r,items:[],sortKey:a}),o.items.push(e)}return _.isArray(i)?_.chain(i).filter((function(t){return!o||t._discriminator==o})).each(n).value():n(i),t}),{}).values().orderBy("sortKey").value()}else n=_.chain(t).reduce((function(t,e){var i=e._groupingTitle||e._groupingKey,n=t[e._groupingKey];return n||(n=t[e._groupingKey]={title:i,items:[],sortKey:i}),n.items.push(e),t}),{}).values().orderBy("sortKey").value();return n},toggleColumnGrouping:function(t){console.log("GROUPING COLUMN",t),this.groupingColumn=t},columnIsGrouping:function(t){return this.groupingColumn&&this.groupingColumn.key==t.key},showOptionsForColumn:function(t){},columnIsSelected:function(t){return _.some(this.extraColumns,{key:t.key})},toggleColumn:function(t){var e=_.findIndex(this.extraColumns,{key:t.key});-1==e?this.$set(this.extraColumns,this.extraColumns.length,t):this.extraColumns.splice(e,1)},populatePage:function(){if("node"==this.dataType)return console.log("Node > Show raw page"),this.page=this.rawPage.slice(),void(this.loading=!1);this.populatePageDebounced()},populatePageItems:function(t,e,i){var n=this;return i=i.slice(),n.groupingColumn&&i.push(n.groupingColumn),new Promise((function(r,a){if(!t||!t.length)return n.loading=!1,r([]);var o,s=["title","_type","definition"],l=[];s=s.concat(_.chain(i).compact().map((function(t){if(t.actualField)return t.actualField;switch(t.key){case"width":case"height":return["width","height"];case"firstName":return["firstName","preferredName","ethnicName"];case"lastName":return["lastName","maidenName"]}return t.additionalFields&&t.additionalFields.length?[t.additionalFields,t.key]:t.key})).flattenDeep().compact().map((function(t){return t.split("|")[0]})).map((function(t){if(_.startsWith(t,"details.")){var e=t.split(".")[1];l.push(e)}return _.startsWith(t,"family.")?(o=!0,"family"):t})).value());var c=n.$fluro.utils.arrayIDs(t);n.$fluro.api.post("/content/".concat(e,"/multiple"),{ids:c,select:_.uniq(s),populateAll:!0,limit:c.length,appendContactDetails:l,appendAssignments:!0,appendFullFamily:o}).then((function(e){var i=_.reduce(e.data,(function(t,e,i){return t[e._id]=e,t}),{}),n=_.chain(t).map((function(t,e){var n=i[t._id];if(n)return n._pageIndex=e,n=Object.assign({},t,n)})).compact().value();r(n.slice())})).catch((function(t){if(!n.$fluro.api.axios.isCancel(t))return a(t);r([])}))}))},populatePageDebounced:_.debounce((function(){var t=this;t.loading=!0,t.populatePageItems(t.rawPage,t.dataType,t.renderColumns).then((function(e){t.page=e,t.loading=!1})).catch((function(e){console.log("Error",e),t.page=[],t.loading=!1}))}),500),checkboxClick:function(t,e,i){return this.toggleSelection(t,e,i)},toggleSelection:function(t,e,i,n){if(!e)return n?void this.selectionController.setSelection([t]):void this.selectionController.toggle(t);if(e.metaKey)return this.previousSelectionIndex=-1,this.selectionController.toggle(t);if(!e.shiftKey)return this.previousSelectionIndex=i,n?(this.selectionController.previousIntent="select",this.selectionController.setSelection([t])):this.selectionController.toggle(t);if(i||(this.previousSelectionIndex=-1),-1!=this.previousSelectionIndex){var r=Math.min(this.previousSelectionIndex,i),a=Math.max(this.previousSelectionIndex,i);i>this.previousSelectionIndex&&(a+=1),this.previousSelectionIndex=i;var o=this.page.slice(r,a);switch(this.selectionController.previousIntent){case"deselect":return this.selectionController.deselectMultiple(o);default:return this.selectionController.selectMultiple(o)}}return this.previousSelectionIndex=i,this.selectionController.toggle(t)},isActiveSort:function(t){return this.sort.sortKey==t},isSortable:function(t){if(t)return!(!1===t.sortable)},setSort:function(t){this.sort=t,this.$emit("sort",t)},toggleSort:function(t){if(this.isSortable(t)&&t.key&&t.key.length){var e=t.key,i=t.sortType||"string",n=this.sort&&this.sort.sortKey==e,r=this.sort.sortDirection,a=n&&"asc"==r?"desc":"asc";this.setSort({sortKey:e,sortType:i,sortDirection:a}),this.setPage(1)}},classes:function(t){var e=[];if(!t)return e;switch(this.selectionController.isSelected(t)&&e.push("selected"),e.push("status-"+t.status),t.paymentStatus&&e.push("payment-status-"+t.paymentStatus),t.processStatus&&e.push("process-status-"+t.processStatus),t.state){case"sent":e.push("state-sent");break;case"scheduled":e.push("state-scheduled");break;case"ready":e.push("state-ready")}return e},setPage:function(t){if(this.currentPage!=t){this.currentPage=t;var e=this.$refs.top;e&&e.scrollIntoView({}),this.$emit("page",t)}},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.totalPages},nextPage:function(){this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage:function(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage:function(){this.page&&this.page.length&&this.selectionController.selectMultiple(this.page)},deselectPage:function(){this.page&&this.page.length&&this.selectionController.deselectMultiple(this.page)},selectAll:function(){this.selectionController.selectMultiple(this.rows)},deselectAll:function(){this.selectionController.deselectAll()},toggleSet:function(t){this.allInGroupSelected(t)?this.selectionController.deselectMultiple(t):this.selectionController.selectMultiple(t)},toggleSelectAll:function(){this.page&&this.page.length&&(this.allSelected?this.selectionController.deselectMultiple(this.page):this.selectionController.selectMultiple(this.page))}},mixins:[s.a],components:{TableHeaderCheckbox:r.a,TableRowCheckbox:a.a,TableCell:o.a}}),c=(i(518),i(0)),u=Object(c.a)(l,n,[],!1,null,null,null);u.options.__file="src/components/table/FluroDynamicTable.vue";e.a=u.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-item-image"},["image"==t.item._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.imageUrl(t.item._id,50)+")"}})]:"event"==t.item._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.coverUrl(t.item._id,"event",{w:50})+")"}})]:"contact"==t.item._type?[i("fluro-avatar",{attrs:{md:"",id:t.item._id,type:t.item._type}})]:[i("div",{staticClass:"icon-avatar"},[i("fluro-icon",{attrs:{type:t.item._type}})],1)]],2)};n._withStripped=!0;var r={props:{item:{type:Object,default:function(){return{}}}}},a=(i(552),i(0)),o=Object(a.a)(r,n,[],!1,null,"359edbd2",null);o.options.__file="src/components/ui/FluroItemImage.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-options-dialog"},[t.title||t.description?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[t.title?i("h3",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.description?i("div",{staticClass:"muted"},[t._v(t._s(t.description))]):t._e()])],1):t._e(),t._v(" "),i("flex-column-body",[i("v-container",{staticStyle:{background:"#fafafa"}},[t._l(t.actions,(function(e){return[e.description?i("div",{staticClass:"detail-button",on:{click:function(i){return t.select(e)}}},[i("h5",[i("v-layout",[i("v-flex",[t._v("\n                            "+t._s(e.title)+"\n                        ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",{staticClass:"text-xs-right",attrs:{shrink:""}},[i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"sm muted"},[t._v(t._s(e.description))])]):i("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(i){return t.select(e)}}},[t._v("\n                    "+t._s(e.title)+"\n                ")])]}))],2)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                Cancel\n            ")])],1)],1)],1)};n._withStripped=!0;var r=i(28),a={props:{options:{type:Object}},mixins:[r.a],data:function(){return{}},computed:{title:function(){return this.options.title},description:function(){return this.options.description},actions:function(){return this.options.options}},asyncComputed:{},methods:{select:function(t){console.log("SELECTED OPTION FROM DIALOG",t);this.close(t),t.action&&t.action()}}},o=(i(554),i(0)),s=Object(o.a)(a,n,[],!1,null,null,null);s.options.__file="src/components/ui/modal/OptionsDialog.vue";e.a=s.exports},,,,,function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"status-label",class:this.value},[this._v(this._s(this.text||this.value))])};n._withStripped=!0;var r={props:{value:{type:String},text:{type:String}}},a=(i(640),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/FluroStatusLabel.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[e("span",{staticClass:"checkbox-outer",class:{active:this.all,some:this.some}},[e("fluro-icon",{attrs:{library:"fas",icon:this.icon}})],1)])};n._withStripped=!0;i(53);var r={props:{all:{type:Boolean},some:{type:Boolean}},computed:{icon:function(){return!this.all&&this.some?"minus":"check"}}},a=(i(502),i(0)),o=Object(a.a)(r,n,[],!1,null,"37aa2a9d",null);o.options.__file="src/components/table/TableHeaderCheckbox.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"checkbox-cell"},[e("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[e("span",{staticClass:"checkbox-outer",class:{active:this.checked}},[e("fluro-icon",{attrs:{library:"fas",icon:"check"}})],1)])],1)};n._withStripped=!0;var r={props:{checked:{type:Boolean}},data:function(){return{}},computed:{library:function(){return this.checked?"fas":void 0},icon:function(){return this.checked?"check-square":"square"}}},a=(i(504),i(0)),o=Object(a.a)(r,n,[],!1,null,"598b9d40",null);o.options.__file="src/components/table/TableRowCheckbox.vue";e.a=o.exports},,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-content-render"},[t._l(t.fields,(function(e){return[i("fluro-content-render-field",{attrs:{raw:t.raw,field:e},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}))],2)};n._withStripped=!0;var r=i(121),a=(i(3),{props:{fields:{type:Array},value:{type:Object},raw:{type:Boolean}},watch:{value:function(t){this.model=t}},data:function(){return{model:this.value}},components:{FluroContentRenderField:r.default}}),o=(i(667),i(0)),s=Object(o.a)(a,n,[],!1,null,"5f7ed093",null);s.options.__file="src/components/FluroContentRender.vue";e.default=s.exports},,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",[t.loaded?t._e():i("fluro-page-preloader",{attrs:{contain:""}}),t._v(" "),i("iframe",{ref:"iframe",staticClass:"mailout-preview-frame",attrs:{src:t.url},on:{load:function(e){t.loaded=!0}}})],1)};n._withStripped=!0;var r={props:{mailout:{type:String},cacheKey:{type:String},live:{type:Boolean},definition:{type:String}},data:function(){return{loaded:!1}},computed:{currentUser:function(){return this.$fluro.auth.getCurrentUser()},currentToken:function(){var t=this.currentUser?this.currentUser.token:null,e=this.$fluro.applicationToken;return t||e},params:function(){return{mailout:this.mailout,cb:this.cacheKey,live:this.live,access_token:this.currentToken}},url:function(){var t="".concat(this.$fluro.apiURL,"/mailout/render/").concat(this.definition),e=this.$fluro.utils.mapParameters(this.params);return"".concat(t,"?").concat(e)}}},a=(i(752),i(0)),o=Object(a.a)(r,n,[],!1,null,"d830603a",null);o.options.__file="src/components/mailout/MailoutRenderPreview.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},[i("h2",[t._v("Send Test Email")]),t._v(" "),i("p",[t._v("Select contacts below and then hit send to send a test email")])]),t._v(" "),i("v-layout",[i("v-flex",[i("fluro-content-select-button",{attrs:{large:"",block:"",type:"contact",allDefinitions:!0},model:{value:t.testContacts,callback:function(e){t.testContacts=e},expression:"testContacts"}})],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",[i("v-btn",{staticClass:"mx-0",attrs:{block:"",loading:t.testing,color:"primary",disabled:!t.testContacts.length,large:""},on:{click:function(e){return t.test()}}},[t._v("\n                            Send to "+t._s(t.testContacts.length)+"\n                            "),i("fluro-icon",{attrs:{icon:"paper-plane",right:""}})],1)],1)],1)],1)],1)],1)],1)};n._withStripped=!0;var r={components:{FluroContentSelectButton:i(72).default},props:{value:{type:Object,required:!0}},methods:{test:function(){var t=this;t.testing=!0;var e=t.$fluro.utils.arrayIDs(t.testContacts);t.$fluro.api.post("/mailout/".concat(t.model._id,"/test"),{contacts:e}).then((function(i){t.$fluro.notify("Sent test email to ".concat(e.length," contacts")),t.testing=!1})).catch((function(e){t.$fluro.error(e),t.testing=!1}))}},data:function(){return{testing:!1,testContacts:[],model:this.value}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,"49830fa3",null);o.options.__file="src/components/mailout/MailoutTestPanel.vue";e.a=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toggle-item",class:{inactive:t.isInactive}},[i("div",{staticClass:"toggle-item-content"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"toggle-switch"},[i("span",{staticClass:"on"},[t._v(t._s(t.on))]),t._v(" "),i("span",{staticClass:"off"},[t._v(t._s(t.off))])])])};n._withStripped=!0;i(24);var r={props:{inactive:{type:Boolean},on:{type:String,default:"On"},off:{type:String,default:"Off"}},data:function(){return{isInactive:this.inactive}},watch:{inactive:function(t){this.isInactive=t}},computed:{filtered:function(){return _.chain(this.realms).filter((function(t){if(!t._discriminatorType)return!0})).orderBy((function(t){return t.title})).value()}}},a=(i(550),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/FluroToggleItem.vue";e.a=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"wrapper"},[this._t("default")],2)};n._withStripped=!0;var r={},a=(i(702),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/FluroWrapper.vue";e.default=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"constrain"},[this._t("default")],2)};n._withStripped=!0;var r={},a=(i(704),i(0)),o=Object(a.a)(r,n,[],!1,null,"10362a06",null);o.options.__file="src/components/ui/FluroConstrain.vue";e.default=o.exports},,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"fluro-confirm-button",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.blur(e)},click:function(e){return e.stopPropagation(),e.preventDefault(),t.checkConfirm(e)}}},[t._t("default",null,{confirming:t.confirming})],2)};n._withStripped=!0;var r={data:function(){return{confirming:!1,timer:null}},methods:{checkConfirm:function(){if(this.confirming)return this.$emit("click");this.confirming=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.blur,3e3)},blur:function(){this.confirming=!1}}},a=(i(490),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/ui/FluroConfirmButton.vue";e.default=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"content-view"},[t.loading?i("fluro-page-preloader",{attrs:{contain:""}}):t.model?[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:t.type},scopedSlots:t._u([{key:"left",fn:function(){return[i("div",[i("h3",[t._v(t._s(t.title)+" "),i("span",{staticClass:"small text-muted"},[t._v(t._s(t.definitionTitle))])]),t._v(" "),t.summary?i("v-label",[t._v(t._s(t.summary))]):t._e()],1)]},proxy:!0},{key:"right",fn:function(){return[t.model._id?i("v-btn",{staticClass:"mr-0",attrs:{icon:"",small:""},on:{click:function(e){return t.$actions.open([t.model])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.embedded?[t.canEdit?i("v-btn",{attrs:{icon:""},on:{click:t.edit}},[i("fluro-icon",{attrs:{icon:"pencil"}})],1):t._e()]:[i("v-btn",{on:{click:t.cancel}},[t._v("\n                            Close\n                        ")]),t._v(" "),t.canEdit?i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},on:{click:t.edit}},[t._v("\n                            Edit\n                        ")]):t._e()]]},proxy:!0}])})],1),t._v(" "),t.component?i(t.component,{tag:"component",attrs:{item:t.model,config:t.config}}):t._e()]:t._e()],2)};n._withStripped=!0;i(25);var r={props:{embedded:{type:Boolean},id:{type:[String,Object],required:!0},type:{type:String,required:!0},definition:{type:String},options:{default:function(){return{}},type:Object}},data:function(){return{loadingConfig:!0,loadingModel:!0}},methods:{cancel:function(){this.$emit("cancel")},edit:function(){this.$fluro.global.edit(this.model)}},created:function(){this.model&&!this.model.data&&this.$set(this.model,"data",{})},computed:{summary:function(){switch(this.type){case"event":return this.$fluro.date.readableEventDate(this.model);case"plan":var t,e=_.get(this.model,"event.title"),i=_.get(this.model,"startDate");if(e)return(t=this.$fluro.date.readableEventDate(this.model.event))?"".concat(t," - ").concat(this.model.event.title):void 0;if(i)return(t=this.$fluro.date.formatDate(i,"h:mm ddd D MMM"))||void 0}},typeName:function(){return this.definition||this.type},title:function(){return this.model.title},definitionTitle:function(){return this.config.definition?this.config.definition.title:this.config.type.title},canEdit:function(){switch(this.type){case"mailout":if("sent"==this.model.state)return}return this.$fluro.access.canEditItem(this.model)},itemID:function(){return this.$fluro.utils.getStringID(this.id)},loading:function(){return this.loadingModel||this.loadingConfig},component:function(){var t=this;if(this.type)return function(){return i(651)("./".concat(t.type,".vue"))}}},asyncComputed:{config:{default:null,get:function(){var t=this;return t.loadingConfig=!0,new Promise((function(e,i){return t.$fluro.api.get("/defined/type/".concat(t.typeName)).then((function(i){e(i.data),t.loadingConfig=!1}),i)}))}},model:{default:null,get:function(){var t=this;return t.loadingModel=!0,new Promise((function(e,i){t.$fluro.content.get(t.itemID,{appendContactDetail:"all",appendAssignments:"all"}).then((function(i){i.data||(i.data={}),e(i),t.loadingModel=!1})).catch((function(i){console.log("Error",i),e(null),t.loadingModel=!1}))}))}}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,"de5e3af4",null);o.options.__file="src/components/content/view/FluroContentView.vue";e.a=o.exports},function(t,e,i){"use strict";i(13),i(24);e.a={asyncComputed:{postable:{default:[],get:function(){var t=this;return new Promise((function(e,i){return t.$fluro.types.subTypes("post").then((function(i){var n=_.filter(i,(function(e){var i=t.$fluro.access.can("submit",e.definitionName,"post"),n=t.$fluro.access.can("create",e.definitionName,"post");return i||n}));e(n)})).catch(i)}))}}},computed:{phoneNumbers:function(){var t=this.model||this.item,e=[];return t.phoneNumbers&&t.phoneNumbers.length&&(e=e.concat(t.phoneNumbers)),t.family&&t.family.phoneNumbers&&t.family.phoneNumbers.length&&(e=e.concat(t.family.phoneNumbers)),e},canPost:function(){return this.postable.length},canEmail:function(){var t=this.model||this.item;return t.emails&&t.emails.length},canCall:function(){return this.phoneNumbers&&this.phoneNumbers.length},canSMS:function(){var t=this.model||this.item;return t.phoneNumbers&&t.phoneNumbers.length}},methods:{addPost:function(){console.log("ADD NEW POST");var t=this;return t.$fluro.types.subTypes("post").then((function(e){var n=_.chain(e).map((function(t){if("archived"!=t.status&&!t.systemOnly)return{title:"New ".concat(t.title),definition:t}})).compact().value();t.$fluro.options(n).then((function(e){var n={definition:e.definition,items:[t.model]};t.$fluro.modal({component:function(){return Promise.resolve().then(i.bind(null,141))},options:n})}))}))},communicate:function(t){var e=this.model||this.item,i=this.$fluro.utils.getStringID(e);switch(t){case"vcard":var n=this.$fluro.auth.getCurrentToken();window.open("".concat(this.$fluro.apiURL,"/contact/").concat(i,"/vcard.vcf?access_token=").concat(n),"_blank");break;case"phone":var r=e.international||this.phoneNumbers;this.$communications.call(r);break;case"email":this.$communications.email([e]);break;case"sms":this.$communications.sms([e])}}}}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},[i("h2",[t._v(t._s(t.item.subject))]),t._v(" "),i("div",{staticClass:"muted"},[i("strong",[i("span",{staticClass:"text-capitalize"},[t._v(t._s(t.item.mailoutType))]),t._v(" mailout sent from "+t._s(t.item.fromEmail))])]),t._v(" "),i("div",[i("strong",[t._v(t._s(t.emails.length)+" Recipients in total")])])]),t._v(" "),i("wrapper",{attrs:{xs:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"stat-box"},[i("label",[t._v("Clicked")]),t._v(" "),i("h3",[t._v("\n                                    "+t._s(t.emailsClicked.length)+"\n                                ")])])]),t._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"stat-box "},[i("label",[t._v("Opened")]),t._v(" "),i("h3",[t._v("\n                                    "+t._s(t.emailsOpened.length)+"\n                                ")])])]),t._v(" "),t.emailsErrored.length?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"stat-box "},[i("label",[t._v("Failed")]),t._v(" "),i("h3",[t._v("\n                                    "+t._s(t.emailsErrored.length)+"\n                                ")])])]):t._e()],1)],1),t._v(" "),t.emailsLoaded?[i("wrapper",{staticClass:"border-top",attrs:{xs:""}},[i("v-container",{attrs:{"grid-list-xl":"","pa-0":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("h4",[t._v(t._s(t.clickPercentage)+"% Click Rate")]),t._v(" "),i("v-progress-linear",{attrs:{value:t.clickPercentage}})],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("h4",[t._v(t._s(t.openPercentage)+"% Open Rate")]),t._v(" "),i("v-progress-linear",{attrs:{value:t.openPercentage}})],1)],1)],1)],1),t._v(" "),t.urls.length?i("fluro-panel",[i("fluro-panel-title",[t._v("\n                            Top Links\n                        ")]),t._v(" "),i("div",t._l(t.urls,(function(e){return i("a",{staticClass:"row-item",attrs:{href:e.url,target:"_blank"}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"small"},[t._v(t._s(e.url))]),t._v(" "),i("div",[i("strong",[t._v(t._s(e.count))]),t._v(" clicks "),i("span",{staticClass:"muted"},[t._v("("+t._s(e.percent)+"%)")])])],1)],1)})),0)],1):t._e(),t._v(" "),i("fluro-panel",[i("fluro-panel-body",{staticClass:"border-bottom"},[i("v-layout",[i("v-flex",[i("search-input",{model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),i("div",[i("v-btn",{staticClass:"ma-0 ml-2",attrs:{color:"primary"},on:{click:function(e){return t.push()}}},[t._v("Push\n                                        "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1)],1)],1),t._v(" "),i("div",{staticStyle:{background:"#fafafa"}},[i("tabset",t._l(t.segments,(function(e){return i("tab",{attrs:{heading:e.emails.length+" "+e.title}},[i("fluro-table",{staticStyle:{"max-height":"50vh"},attrs:{trackingKey:"correspondenceID",defaultSort:"firstName",pageSize:25,items:e.emails,columns:t.columns}})],1)})),1)],1)],1)]:i("wrapper",{staticClass:"text-xs-center",attrs:{xs:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],2)],1)],1)],1)};n._withStripped=!0;i(12),i(77),i(78),i(107),i(52),i(24),i(31),i(106),i(16),i(13);var r=i(25),a=i.n(r),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"modal-size"},[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"mailout"},scopedSlots:t._u([{key:"left",fn:function(){return[i("h3",[t._v(t._s(t.item.firstName)+" "+t._s(t.item.lastName))])]},proxy:!0},{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:""},on:{click:function(e){return t.close()}}},[t._v("\n                    Close\n                ")])]},proxy:!0},{key:"rightmobile",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:""},on:{click:function(e){return t.close()}}},[t._v("\n                    Close\n                ")])]},proxy:!0}])})],1),t._v(" "),i("flex-column-body",[i("v-container",[i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[t._v("First Name")]),t._v(" "),i("div",[t._v(t._s(t.item.firstName))])])]),t._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[t._v("Last Name")]),t._v(" "),i("div",[t._v(t._s(t.item.lastName))])])])],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v("Sent To")]),t._v(" "),i("div",[t._v(t._s(t.item.email))])]),t._v(" "),i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[t._v("State")]),t._v(" "),i("div",[t._v(t._s(t.item.state))])])])],1),t._v(" "),i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[t._v("Correspondence ID")]),t._v(" "),i("div",[t._v(t._s(t.item.correspondenceID||t.item._id))])])]),t._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[t._v("Sending Server ID")]),t._v(" "),i("div",[t._v(t._s(t.item.worker))])])])],1),t._v(" "),i("fluro-panel",[i("fluro-panel-title",[t._v("Tracked Events")]),t._v(" "),i("fluro-table",{staticStyle:{"max-height":"50vh"},attrs:{enableSelection:!1,defaultSort:"date",defaultSortType:"date",pageSize:25,items:t.item.trackedEvents,columns:t.columns}})],1)],1)],1)],1)};o._withStripped=!0;var s=i(28),l=i(108),c=i(71),u=i(118),d={props:{options:{type:Object}},components:{FluroTable:l.a},mixins:[s.a],computed:{columns:function(){return[{title:"Event",key:"title"},{title:"Date",key:"date",sortType:"date",renderer:c.a},{title:"When",key:"date",sortType:"date",renderer:u.a}]},item:function(){return this.options.item}}},f=i(0),p=Object(f.a)(d,o,[],!1,null,"4920a866",null);p.options.__file="src/components/mailout/CorrespondenceInfoModal.vue";var m=p.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"modal-size"},[t.loading?i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"policy"},scopedSlots:t._u([{key:"left",fn:function(){return[i("h3",[t._v("Push Mailout")])]},proxy:!0}])})],1),t._v(" "),i("tabset",{attrs:{justified:!0}},[i("tab",{attrs:{heading:"New Contact"}},[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("p",[t._v("Input a new contact's details below to create them and send them this mailout")]),t._v(" "),i("fluro-content-form",{attrs:{fields:t.newContactFields},model:{value:t.model.contact,callback:function(e){t.$set(t.model,"contact",e)},expression:"model.contact"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                                Cancel\n                            ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{loading:t.sending,color:"primary",disabled:t.invalid},on:{click:function(e){return t.sendTo("contact")}}},[t._v("\n                                Push\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1),t._v(" "),i("tab",{attrs:{heading:"Existing contacts"}},[i("flex-column-body",[i("v-container",[i("p",[t._v("Select contacts from your database to add them to this mailout")]),t._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:"contact",allDefinitions:!0},model:{value:t.model.contacts,callback:function(e){t.$set(t.model,"contacts",e)},expression:"model.contacts"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                                Cancel\n                            ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{loading:t.sending,color:"primary",disabled:!t.model.contacts.length},on:{click:function(e){return t.sendTo("contacts")}}},[t._v("\n                                Push "+t._s(t.model.contacts.length)+"\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1),t._v(" "),i("tab",{attrs:{heading:"User Personas"}},[i("flex-column-body",[i("v-container",[i("p",[t._v("Select users from your database to add them to this mailout")]),t._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:"persona"},model:{value:t.model.personas,callback:function(e){t.$set(t.model,"personas",e)},expression:"model.personas"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                                Cancel\n                            ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{loading:t.sending,color:"primary",disabled:!t.model.personas.length},on:{click:function(e){return t.sendTo("personas")}}},[t._v("\n                                Push "+t._s(t.model.personas.length)+"\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1)],1)]],2)};h._withStripped=!0;var v=i(40),g=i(60),b=i(72),y={props:{options:{type:Object}},mixins:[s.a],components:{FluroContentForm:v.default,FluroContentFormField:g.default,FluroContentSelectButton:b.default},data:function(){return{model:{contact:{},personas:[],contacts:[]},loading:!1,sending:!1}},computed:{invalid:function(){var t=this.model.contact;return!t.gender||!t.gender.length||(!t.firstName||!t.firstName.length||(!t.lastName||!t.lastName.length||(!t.email||!t.email.length||void 0)))},newContactFields:function(){var t=[];return t.push({type:"group",sameLine:!0,fields:[{title:"Title",minimum:1,maximum:1,type:"string",key:"gender",directive:"select",options:[{name:"Mr",value:"male"},{name:"Ms / Mrs",value:"female"}]},{title:"First Name",minimum:1,maximum:1,type:"string",key:"firstName"},{title:"Last Name",minimum:1,maximum:1,type:"string",key:"lastName"}]}),t.push({title:"Email Address",minimum:1,maximum:1,type:"email",key:"email"}),t},item:function(){return this.options.item}},methods:{sendTo:function(t){var e=this;e.sending=!0,e.$fluro.api.post("/mailout/".concat(e.item._id,"/push"),e.model).then((function(t){return e.sending=!1,e.close(t.data)})).catch((function(t){e.sending=!1,console.log("Error!",t),e.$fluro.error(t)}))}}},x=Object(f.a)(y,h,[],!1,null,"70d17244",null);x.options.__file="src/components/mailout/MailoutPushModal.vue";var k=x.exports,w=(i(299),i(300),i(153)),C=i(104),S=i(155),D=a.a.extend({props:{row:{type:Object},column:{type:Object},data:{}},methods:{info:function(){this.$fluro.modal({component:m,options:{item:this.row}})}},template:'<v-btn class="ma-0" small @click="info">\n   Info\n    </v-btn>'}),O={components:{SearchInput:w.a,FluroTable:l.a},props:{value:{type:Object,required:!0}},methods:{push:function(){var t=this;t.$fluro.modal({component:k,options:{item:t.item}}).then((function(e){t.loadCorrespondenceResults()}))},checkIfResultsAreNeeded:function(){this.resultsEnabled?this.startResultsPoll():this.stopResultsPoll()},startResultsPoll:function(){console.log("START POLLING"),this.stopResultsPoll(),this.loadCorrespondenceResults(),this.pollTimer=setInterval(this.loadCorrespondenceResults,this.resultsInterval)},stopResultsPoll:function(){this.pollTimer&&clearInterval(this.pollTimer)},loadCorrespondenceResults:function(){console.log("load results");var t=this;t.polling||(t.polling=!0,t.$fluro.api.get("/mailout/".concat(this.item._id,"/correspondence"),{params:{timestamp:new Date}}).then((function(e){t.emailsLoaded=!0,t.emails=_.map(e.data,(function(t){return t.correspondenceID=t._id,t._id=t.contact,t._type="contact",t})),t.polling=!1})).catch((function(e){t.polling=!1})))}},watch:{resultsEnabled:function(){this.checkIfResultsAreNeeded()}},mounted:function(){this.checkIfResultsAreNeeded()},activated:function(){this.checkIfResultsAreNeeded()},deactivated:function(){this.stopResultsPoll()},beforeDestroy:function(){this.stopResultsPoll()},computed:{resultsInterval:function(){new Date,new Date(this.item.publishDate);return 5e3},urls:function(){var t=this;return _.chain(t.emailsClicked).map((function(t){return t.trackedEvents})).flatten().filter((function(t){return"click"==t.type||"clicked"==t.type})).reduce((function(t,e){var i=function(t,e){var i=t.split("?");if(i.length>=2){for(var n=encodeURIComponent(e)+"=",r=i[1].split(/[&;]/g),a=r.length;a-- >0;)-1!==r[a].lastIndexOf(n,0)&&r.splice(a,1);return t=i[0]+(r.length>0?"?"+r.join("&"):"")}return t}(e.url,"correspondence"),n=_.find(t,{url:i});return n?n.count++:(n={url:i,count:1},t.push(n)),t}),[]).sortBy((function(t){return-t.count})).map((function(e){return e.percent=Math.ceil(e.count/t.emails.length*100),e})).value()},clickPercentage:function(){var t=this.emails.length,e=this.emailsClicked.length;return Math.ceil(e/t*100)},openPercentage:function(){var t=this.emails.length,e=this.emailsOpened.length;return Math.ceil(e/t*100)},segments:function(){var t=this.emails;if(this.search&&this.search.length){var e=this.search.toLowerCase();t=_.filter(t,(function(t){return"".concat(t.firstName," ").concat(t.lastName).toLowerCase().includes(e)}))}return _.chain(t).reduce((function(t,e){var i=e.state;switch(i){case"open":i="Opened";break;case"click":i="Clicked";break;case"sent":i="Unopened";break;default:i=_.startCase(i)}var n=t[i];return n||(n=t[i]={title:i,emails:[]}),n.emails.push(e),t}),{}).orderBy((function(t){return t.title})).values()},emailsClicked:function(){return _.filter(this.emails,(function(t){return"click"==t.state}))},emailsOpened:function(){return _.filter(this.emails,(function(t){return"click"==t.state||"open"==t.state}))},emailsErrored:function(){return _.filter(this.emails,(function(t){return"error"==t.state}))},resultsEnabled:function(){return"sent"==this.item.state||(!(!this.item.stats||!this.item.stats.mailoutSent)||void 0)}},data:function(){return{emailsLoaded:!1,search:"",columns:[{title:"",key:"_id",renderer:S.a},{title:"First Name",key:"firstName"},{title:"Last Name",key:"lastName"},{title:"Email Address",key:"email"},{title:"State",key:"state",renderer:C.a},{title:"Info",key:"correspondenceID",renderer:D}],emails:[],polling:!1,item:this.value}}},M=(i(754),Object(f.a)(O,n,[],!1,null,"08ca41a6",null));M.options.__file="src/components/mailout/MailoutResultsPanel.vue";e.a=M.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-field-editor",class:{"schema-mode":!t.formMode}},[i("flex-row",[i("flex-column",{staticClass:"sidebar"},[i("flex-column",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true || !(field || configurePayment || configureDefaults)"}],staticClass:"fields-tree"},[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[t._v("Field Tree")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(e){return t.expandAll()}}},[t._v("\n                                    Expand All\n                                ")]),t._v(" "),i("span",{staticClass:"state-link",on:{click:function(e){return t.collapseAll()}}},[t._v("\n                                    Collapse All\n                                ")])])],1)],1)]),t._v(" "),i("flex-column-body",[i("v-container",{attrs:{"pa-2":""}},[t.formMode?[i("div",{staticClass:"pseudo-field",class:{active:t.configureDefaults&&!t.field},on:{click:function(e){return t.showDefaultFieldOptions()}}},[t._v("Form Configuration")])]:t._e(),t._v(" "),i("draggable",{staticClass:"field-editor-children",attrs:{handle:".handle",element:"ul",options:t.treeOptions},on:{sort:t.sorted},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.model,(function(e,n){return i("fluro-field-editor-item",{key:e.guid,attrs:{mouseover:t.mouseover,mouseleave:t.mouseleave,parent:t.model,leaf:t.model[n],selected:t.field,select:t.clicked},on:{duplicate:t.duplicateField,injected:t.injectField,deleted:t.deleteField}})})),1),t._v(" "),t.formMode?[i("div",{staticClass:"pseudo-field",class:{active:t.configurePayment&&!t.field},on:{click:function(e){return t.showPaymentOptions()}}},[t._v("Payment Options")])]:t._e()],2)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2",staticStyle:{background:"#fff"}},[i("v-layout",{attrs:{row:""}},[t.formMode?i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(e){return t.addNewTemplate()}}},[t._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):t.componentMode?i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(e){return t.addNewComponentTemplate()}}},[t._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(e){return t.addNewField()}}},[t._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",block:""},on:{click:function(e){return t.addNewField("group")}}},[t._v("\n                                    Add Group\n                                    "),i("fluro-icon",{attrs:{icon:"folder",right:""}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),t.showPreview?i("flex-column",{staticClass:"preview"},[t.resetting?i("fluro-page-preloader",{attrs:{contain:""}}):t._e(),t._v(" "),i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[t._v(t._s(t.formMode?"Form":"")+" Preview")])]),t._v(" "),i("v-spacer"),t._v(" "),t.formMode?i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("span",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"state-link",attrs:{content:"Change Preview State"}},n),[t._v("\n                                        State: "+t._s(t.readablePreviewState)+"\n                                        "),i("fluro-icon",{attrs:{icon:"angle-down"}})],1)]}}],null,!1,3912712809)},[t._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(e){t.previewState="ready"}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Ready for input\n                                                ")])],1)],1),t._v(" "),i("v-list-tile",{on:{click:function(e){t.previewState="success"}}},[i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n                                                    Success / Thank you message\n                                                ")])],1)],1)],1)],1)],1)],1):t._e(),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(e){return t.resetPreview()}}},[t._v("\n                                Reset "+t._s(t.formMode?"Form":"Preview")+"\n                                "),i("fluro-icon",{attrs:{icon:"undo"}})],1)])],1)],1)]),t._v(" "),i("flex-column-body",[t.resetting?i("v-container",[i("fluro-page-preloader",{attrs:{contain:""}})],1):[t.formMode?[t.image?i("div",{staticClass:"form-image"},[i("fluro-image",{attrs:{cover:"",from:t.item,imageWidth:1e3,imageHeight:300,spinner:!0,item:t.image}})],1):t._e(),t._v(" "),i("v-container",{attrs:{fluid:""}},[i("wrapper",{attrs:{sm:""}},[i("constrain",{attrs:{sm:""}},[i("fluro-interaction-form",{ref:"previewForm",attrs:{contextField:t.contextField,defaultState:t.previewState,context:"builder",prefill:!1,title:t.item.title,definition:t.fauxDefinition,paymentIntegration:t.paymentIntegration,debugMode:!0,fields:t.model},on:{state:t.stateChanged,debug:t.debugField},scopedSlots:t._u([{key:"info",fn:function(){return[t.hideDisplayTitle?t._e():i("h1",{attrs:{margin:""}},[t._v(t._s(t.displayTitle))]),t._v(" "),i("fluro-compile-html",{staticClass:"form-body",attrs:{template:t.publicData.body,context:t.item}})]},proxy:!0},t.publicData.thankyou?{key:"success",fn:function(){return[i("fluro-compile-html",{staticClass:"form-thankyou",attrs:{template:t.publicData.thankyou,context:t.item}})]},proxy:!0}:null],null,!0),model:{value:t.previewModel,callback:function(e){t.previewModel=e},expression:"previewModel"}})],1)],1)],1)]:i("v-container",[i("constrain",{attrs:{sm:""}},[i("fluro-content-form",{ref:"previewForm",attrs:{context:"builder",recursiveClick:t.debugComponent,debugMode:!0,contextField:t.contextField,fields:t.model},model:{value:t.previewModel,callback:function(e){t.previewModel=e},expression:"previewModel"}})],1)],1)]],2),t._v(" "),t._e()],1):t._e(),t._v(" "),i("flex-column",{staticClass:"field-options"},[t.field?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("strong",{attrs:{label:""}},[t._v(t._s(t.field.title||"Untitled field"))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(e){return t.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),t._v(" "),i("fluro-field-edit",{attrs:{item:t.item,expressionFields:t.model},on:{reset:function(e){return t.resetPreview()},deleted:t.deleteSelectedField},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}})]:t.configurePayment?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[t._v("Payment Settings")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(e){return t.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),t._v(" "),i("flex-column-body",[t._t("payment")],2)]:t.configureDefaults?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[t._v("Form Configuration")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(e){return t.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),t._v(" "),i("flex-column-body",[t._t("form")],2)]:[i("flex-column",{staticClass:"placeholder",attrs:{center:""}},[i("v-container",{staticClass:"text-xs-center",staticStyle:{flex:"none"},attrs:{fluid:""}},[i("p",{staticClass:"muted"},[t._v("Select a field on the left to edit configuration")])])],1)]],2)],1)],1)};n._withStripped=!0;i(84),i(27);var r=i(373),a=[];a.push({title:"Basic Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:""}}),a.push({title:"Button",description:"Add a set of buttons/links",field:{title:"Button",minimum:0,maximum:0,askCount:1,asObject:!0,type:"group",key:"button",fields:[{title:"Text",minimum:1,maximum:1,type:"string",key:"text",defaultValues:["Find Out More"]},{title:"Link to",minimum:1,maximum:1,type:"string",key:"type",directive:"select",options:[{title:"Page",value:"page"},{title:"External URL",value:"url"}],defaultValues:["page"]},{title:"Page",minimum:1,maximum:1,type:"string",key:"page",directive:"app-page-select",expressions:{hide:"model.type != 'page'"}},{title:"URL",minimum:1,maximum:1,type:"url",key:"url",expressions:{hide:"model.type != 'url'"}},{title:"Open in",minimum:0,maximum:1,type:"string",key:"window",directive:"select",options:[{title:"Same Window",value:""},{title:"New Window",value:"_blank"}],expressions:{hide:"model.type != 'url'"}}]}});var o=a,s={components:{draggable:function(){return Promise.resolve().then(i.t.bind(null,805,7))},FluroFieldEditorItem:function(){return i.e(53).then(i.bind(null,1072))},FluroFieldEdit:function(){return i.e(52).then(i.bind(null,1073))},FluroContentForm:function(){return Promise.resolve().then(i.bind(null,40))},FluroInteractionForm:function(){return Promise.resolve().then(i.bind(null,403))},FluroCompileHtml:function(){return Promise.resolve().then(i.bind(null,397))}},props:{value:{type:Array,default:function(){return[]}},item:{type:Object}},created:function(){this.recursiveGUID(this.model)},computed:{allFields:function(){var t=[];return function e(i){_.each(i,(function(i){t.push(i),e(i.fields)}))}(this.model),t},readablePreviewState:function(){switch(this.previewState){case"ready":return"Ready for input";case"success":return"Thank you";default:return""}},image:function(){var t=_.get(this.publicData,"mainImage");if(t&&(t._id||t.length))return t},noImage:function(){return!this.image},hideDisplayTitle:function(){return this.publicData.hideDisplayTitle},displayTitle:function(){return this.publicData.title||this.item.title},componentMode:function(){return"component"==this.item._type},formMode:function(){return"form"==this.item.definition||"interaction"==this.item.parentType},showPreview:function(){return this.$vuetify.breakpoint.mdAndUp},formOptions:function(){return this.item&&this.item.data||{}},identifier:function(){return this.formOptions.identifier},allowAnonymous:function(){return this.formOptions.allowAnonymous||!1},disableDefaultFields:function(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields:function(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName:function(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName:function(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender:function(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB:function(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail:function(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone:function(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName:function(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName:function(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender:function(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB:function(){return this.formOptions.requireDOB},requireEmail:function(){if(this.formOptions.requireEmail)return!0;switch(this.identifier){case"both":case"email":case"either":return!0}},requirePhone:function(){if(this.formOptions.requirePhone)return!0;switch(this.identifier){case"both":case"phone":case"either":return!0}},fauxDefinition:function(){return Object.assign({},this.item,{fields:this.model})},publicData:function(){return this.item&&this.item.data?this.item.data.publicData:{}},paymentIntegration:function(){if(this.publicData.paymentGateways&&this.publicData.paymentGateways.length)return _.first(this.publicData.paymentGateways)}},methods:{fieldPath:function(){},deselectAll:function(){this.configurePayment=this.configureDefaults=this.field=null},sorted:function(t){this.$emit("input",this.model)},expandAll:function(){var t=this;_.each(t.allFields,(function(e){"embedded"!=e.directive&&"group"!=e.type||t.$set(e,"collapsed",!1)}))},collapseAll:function(){var t=this;_.each(t.allFields,(function(e){"embedded"!=e.directive&&"group"!=e.type||t.$set(e,"collapsed",!0)}))},stateChanged:function(t){this.previewState=t},deleteSelectedField:function(){var t=this,e=t.field;t.$fluro.confirm("Delete Field","Are you sure you want to delete '".concat(e.title,"'?"),{confirmColor:"error",confirmText:"Confirm Delete"}).then((function(e){var i=t.findSelectedParent(),n=i.parent;i.index;t.deleteField(t.field,n)}))},recursiveGUID:function(t){var e=this;_.each(t,(function(t){t.guid||(t.guid=e.$fluro.utils.guid()),e.recursiveGUID(t.fields)}))},showDefaultFieldOptions:function(){this.field=null,this.configurePayment=!1,this.configureDefaults=!0},showPaymentOptions:function(){this.field=null,this.configureDefaults=!1,this.configurePayment=!0},debugComponent:function(t){this.debugField(t.field)},debugField:function(t){var e=this.findField(t);e&&e.parent?this.field=t:console.log("NOT FOUND",t)},toggleDefaultFields:function(){this.item.data.allowAnonymous=!0},deselectField:function(){this.field=null},resetPreview:function(){var t=this;t.resetting=!0,setTimeout((function(){t.previewModel={},t.resetting=!1}),10)},getFieldTemplate:function(t){var e=this;return new Promise((function(t,i){var n=r.a;e.componentMode&&(n=o),e.$fluro.options(n,"Add a field").then((function(i){var n=JSON.parse(JSON.stringify(i.field));n.guid=e.$fluro.utils.guid(),e.recursiveGUID(n.fields),t(n)})).catch(i)}))},getNewField:function(t){var e;switch(t){case"group":e={title:"",key:"",type:"group",fields:[],minimum:1,maximum:1,askCount:1,asObject:!1};break;default:e={title:"",key:"",type:"string",directive:"input",minimum:0,maximum:1,params:{},defaultValues:[],defaultReferences:[]}}return e.guid=this.$fluro.utils.guid(),e},addNewComponentTemplate:function(){var t=this;t.getFieldTemplate("component").then((function(e){t.addNewField(null,e)}))},addNewTemplate:function(){var t=this;t.getFieldTemplate("form").then((function(e){t.addNewField(null,e)}))},addNewField:function(t,e){if(e||(e=this.getNewField(t)),e.isNew=!0,!this.field)return this.configureDefaults?this.model.unshift(e):this.model.push(e),void(this.field=e);if("embedded"==e.directive&&"embedded"==this.field.directive);else if("group"==this.field.type)return this.field.fields||this.$set(this.field,"fields",[]),this.field.fields.push(e),void(this.field=e);console.log("CHECK TO GET PARENT?");var i=this.findSelectedParent(),n=i.parent,r=i.index;console.log("GOT PARENT?",n),n||(n=this.model),-1==r?n.push(e):n.splice(r+1,0,e),this.field=e},injectField:function(t,e){var i=this.getNewField(),n=e.indexOf(t);console.log("Inject at",n,e),e.splice(n+1,0,i),this.field=i},clicked:function(t){this.field=t},mouseover:function(t){this.contextField=t},mouseleave:function(t){this.contextField==t&&(this.contextField=null)},findSelectedParent:function(){var t=this.field;return this.findField(t)},findField:function(t){var e,i=-1,n=_.findIndex(this.model,{guid:t.guid});if(-1!=n)return{parent:this.model,index:n};return _.each(this.model,(function n(r){var a=_.findIndex(r.fields,{guid:t.guid});-1!=a?(i=a,e=r.fields):_.each(r.fields,n)})),{parent:e,index:i}},duplicateField:function(t,e){if(e){var i=e.indexOf(t),n=JSON.parse(JSON.stringify(t));n.guid=this.$fluro.utils.guid(),n.title="",n.key="",e.splice(i+1,0,n),this.field=n}},deleteField:function(t,e){if(this.field=null,e){var i=e.indexOf(t);e.splice(i,1)}}},data:function(){return{treeOptions:{animation:1,group:"fields",ghostClass:"ghost"},previewState:"ready",configurePayment:!1,configureDefaults:!1,model:this.value,resetting:!1,previewModel:{},field:null,contextField:null}}},l=(i(453),i(0)),c=Object(l.a)(s,n,[],!1,null,"748156d1",null);c.options.__file="src/components/fields/FluroFieldEditor.vue";e.a=c.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"fluro-avatar-update",class:{processing:t.processing},style:t.style},[i("input",{ref:"file",attrs:{type:"file"},on:{change:function(e){return t.fileSelected(e.target.files)}}}),t._v(" "),i("div",{staticClass:"overlay"},[t.processing?[i("v-progress-circular",{attrs:{value:t.progress}})]:[t._v("Click to upload new photo")]],2)])};n._withStripped=!0;i(15);var r={components:{FluroAvatar:i(140).default},data:function(){return{processing:!1,progress:0,bytesLoaded:0,bytesTotal:0,cacheBuster:0}},props:{id:{type:[String,Object]},type:{default:"persona",type:String}},computed:{style:function(){return{backgroundImage:'url("'.concat(this.$fluro.asset.avatarUrl(this.id,this.type,{w:this.width||100,cacheBuster:this.cacheBuster}),'")')}}},methods:{reset:function(){this.processing=!1,this.progress=0,this.bytesLoaded=0,this.bytesTotal=0},fileSelected:function(t){var e=this;e.processing=!0;var i=_.first(t);console.log("file selected!",i);var n=new FormData;n.append("file",i,i.name);var r=e.$fluro.utils.getStringID(e.id),a={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){var i=Math.floor(100*t.loaded/t.total);e.progress=i,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,e.$forceUpdate()}};return e.$fluro.api.post("/".concat(e.type,"/").concat(r,"/image"),n,a).then((function(t){e.cacheBuster+=1,e.reset()})).catch((function(t){e.reset()}))}}},a=(i(451),i(0)),o=Object(a.a)(r,n,[],!1,null,"a8db34e4",null);o.options.__file="src/components/FluroAvatarUpdate.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-academic-select"},[i("v-input",{staticClass:"no-flex",attrs:{label:t.label,required:t.required,"error-messages":t.errorMessages,hint:t.hint}},[i("v-layout",{staticClass:"fluro-academic-field",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-select",{attrs:{outline:t.showOutline,success:t.success,required:t.required,label:"School / Institution","no-data-text":"No options available","item-text":"title","item-value":"_id",items:t.calendars,"return-object":!0,"error-messages":t.errorMessages},on:{input:t.calendarChanged},model:{value:t.model.academicCalendar,callback:function(e){t.$set(t.model,"academicCalendar",e)},expression:"model.academicCalendar"}})],1),t._v(" "),t.model.academicCalendar?i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-autocomplete",{attrs:{outline:t.showOutline,success:t.success,required:t.required,label:"Grade / Year Level","persistent-hint":!0,hint:t.gradeHint,"no-data-text":"No options available","item-text":"title","item-value":"key",items:t.grades,"error-messages":t.errorMessages},on:{input:t.gradeChanged},model:{value:t.model.academicGrade,callback:function(e){t.$set(t.model,"academicGrade",e)},expression:"model.academicGrade"}})],1):t._e()],1)],1)],1)};n._withStripped=!0;i(27),i(17);var r={props:{outline:{type:Boolean},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:Object},success:{type:Boolean},options:{default:function(){return{}},type:Object},formFields:{type:Array}},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t,this.createVariables(t)},"model.academicCalendar":function(){this.$emit("calendar",this.model.academicCalendar)},"model.academicGrade":function(){this.$emit("grade",this.model.academicGrade)}},computed:{errorMessages:function(){return[]},gradeHint:function(){return"(As of ".concat((new Date).getFullYear(),")")},showOutline:function(){return this.outline||this.options.outline},grades:function(){return this.model.academicCalendar?this.model.academicCalendar.grades:[]}},created:function(){this.formFields&&this.$set(this.formFields,this.formFields.length,this),this.createVariables(),this.$emit("created",this)},beforeDestroy:function(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},methods:{gradeChanged:function(t){this.$set(this.model,"academicGrade",t),this.valueChanged()},calendarChanged:function(t){this.$set(this.model,"academicCalendar",t),this.valueChanged()},createVariables:function(){this.model.academicCalendar||this.$set(this.model,"academicCalendar",void 0),this.model.academicGrade||this.$set(this.model,"academicGrade",void 0)},valueChanged:function(){this.$emit("value",this.model)},reset:function(){}},asyncComputed:{calendars:{default:[],get:function(){var t=this;return new Promise((function(e,i){t.$fluro.api.get("/contact/schools",{searchInheritable:!0,allDefinitions:!0}).then((function(t){var i=t.data;i.unshift({title:"None",_id:""}),e(i),console.log("GET GRADES")}),i)}))}}}},a=(i(722),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/form/FluroAcademicSelect.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",[t.preflightProcessing?i("fluro-page-preloader",{attrs:{contain:""}}):i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},["scheduled"==t.item.state?[i("h2",[t._v("Sending in "+t._s(t.countdown))]),t._v(" "),t.item.publishDate?i("strong",[t._v(t._s(t._f("formatDate")(t.item.publishDate,"h:mma - dddd D MMM YYYY")))]):t._e()]:[i("h2",[t._v("Preflight check")])],t._v(" "),t.preflightContacts.length?i("div",[i("p",{staticClass:"lead"},[t._v("\n                            Sending to "+t._s(t.validContacts.length)+" of "+t._s(t.preflightContacts.length)+" selected contacts\n                        ")])]):i("div",[i("p",{staticClass:"lead"},[t._v("\n                            No contacts were retrieved from selected sources, Edit this mailout and select sources so that you can publish the mailout\n                        ")])])],2),t._v(" "),t.preflightContacts.length?i("wrapper",{attrs:{xs:""}},[t.invalidContacts.length?i("v-alert",{attrs:{value:!0,type:"warning",outline:""}},[i("div",{on:{click:function(e){t.expanded.invalid=!t.expanded.invalid}}},[i("h5",[t._v(t._s(t.invalidContacts.length)+" selected contacts do not have an email address")])]),t._v(" "),t.expanded.invalid?i("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.invalidSummary,(function(e){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),t._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[t._v("\n                                    Does not have an email address\n                                ")])],1)})),t._v(" "),t.invalidContacts.length>10?i("div",[i("br"),t._v(" "),i("em",[t._v("And "+t._s(t.invalidContacts.length-10)+" more...")])]):t._e()],2):t._e()]):t._e(),t._v(" "),t.validContacts.length?i("v-alert",{attrs:{value:!0,type:"success",outline:""}},[i("div",{on:{click:function(e){t.expanded.valid=!t.expanded.valid}}},[i("h5",[t._v(t._s(t.validContacts.length)+" contact will receive this email")])]),t._v(" "),t.expanded.valid?i("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.validSummary,(function(e){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),t._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[i("span",{},[t._v("From selected "+t._s(t._f("comma")(e.sources)))])])],1)})),t._v(" "),t.validContacts.length>10?i("div",[i("br"),t._v(" "),i("em",[t._v("And "+t._s(t.validContacts.length-10)+" more...")])]):t._e()],2):t._e()]):t._e(),t._v(" "),t.unsubscribedContacts.length?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[i("div",{on:{click:function(e){t.expanded.unsubscribed=!t.expanded.unsubscribed}}},[i("h5",[i("em",[t._v(t._s(t.unsubscribedContacts.length)+" selected contacts have unsubscribed from mail of this type ")])])]),t._v(" "),t.expanded.unsubscribed?i("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.unsubscribedSummary,(function(e){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),t._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[i("span",{},[t._v("From selected "+t._s(t._f("comma")(e.sources)))])])],1)})),t._v(" "),t.unsubscribedContacts.length>10?i("div",[i("br"),t._v(" "),i("em",[t._v("And "+t._s(t.unsubscribedContacts.length-10)+" more...")])]):t._e()],2):t._e()]):t._e()],1):t._e(),t._v(" "),"scheduled"==t.item.state?[i("v-btn",{staticClass:"mx-0",attrs:{color:"error",loading:t.abortProcessing,large:""},on:{click:function(e){return t.abort()}}},[i("strong",[t._v("Stop / Cancel")]),t._v(" "),i("fluro-icon",{attrs:{icon:"times",right:""}})],1)]:[t.validContacts.length?i("div",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("fluro-content-form-field",{attrs:{field:t.publishDateField,"persistent-hint":!0},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",[i("v-btn",{staticClass:"ma-0",attrs:{block:"",color:"success",loading:t.publishProcessing,large:""},on:{click:function(e){return t.publish()}}},[t.item.publishDate?[t._v("\n                                        Send "+t._s(t._f("timeago")(t.item.publishDate))+"\n                                        "),t._v(" "),i("fluro-icon",{attrs:{icon:"angle-right",right:""}})]:[t._v("\n                                        Publish and send now\n                                        "),i("fluro-icon",{attrs:{icon:"angle-right",right:""}})]],2)],1)],1)],1):t._e()]],2)],1)],1)],1)};n._withStripped=!0;var r={components:{FluroContentFormField:i(60).default},props:{value:{type:Object,required:!0}},methods:{publish:function(){var t=this,e=this.item.publishDate?new Date(this.item.publishDate):null;t.publishProcessing=!0,t.$fluro.api.get("/mailout/".concat(t.item._id,"/publish"),{params:{date:e}}).then((function(e){switch(t.item.state=e.data.state,t.item.publishDate=e.data.publishDate,t.publishProcessing=!1,t.checkIfCountdownIsNeeded(),e.data.state){case"scheduled":t.$fluro.notify("Your mailout has been scheduled successfully");break;case"sent":t.$fluro.notify("Your mailout has been published")}})).catch((function(e){t.$fluro.error(e),t.publishProcessing=!1}))},abort:function(){var t=this;t.abortProcessing=!0,t.$fluro.api.get("/mailout/".concat(t.item._id,"/abort")).then((function(e){var i=e.data;t.$fluro.notify("Mailout schedule cancelled"),t.abortProcessing=!1,t.item.state=i.state,t.item.publishDate=i.publishDate,t.checkIfCountdownIsNeeded()})).catch((function(e){t.$fluro.error(e),t.abortProcessing=!1}))},preflight:function(){var t=this;t.preflightProcessing=!0,t.$fluro.api.get("/mailout/".concat(this.item._id,"/preflight"),{cache:!1}).then((function(e){t.preflightContacts=e.data,t.preflightProcessing=!1,t.validContacts=[],t.invalidContacts=[],t.unsubscribedContacts=[],_.each(e.data,(function(e){return e.emails&&e.emails.length?e.unsubscribed?t.unsubscribedContacts.push(e):t.validContacts.push(e):t.invalidContacts.push(e)}))})).catch((function(e){t.preflightProcessing=!1}))},checkIfCountdownIsNeeded:function(){"scheduled"==this.item.state?this.startCountdown():(this.stopCountdown(),this.duration=0)},stopCountdown:function(){this.timer&&clearInterval(this.timer)},startCountdown:function(){this.stopCountdown(),this.updateCountdown(),this.timer=setInterval(this.updateCountdown,1e3)},updateCountdown:function(){var t=(new Date).getTime(),e=new Date(this.item.publishDate).getTime()-t;this.duration=e}},watch:{"item.state":function(){this.checkIfCountdownIsNeeded()}},created:function(){this.preflight()},mounted:function(){this.checkIfCountdownIsNeeded()},activated:function(){this.checkIfCountdownIsNeeded()},deactivated:function(){this.stopCountdown()},beforeDestroy:function(){this.stopCountdown()},computed:{publishDateField:function(){return{key:"publishDate",type:"date",minimum:0,maximum:1,directive:"datetimepicker",placeholder:"Send Immediately"}},publishDateHint:function(){return this.item.publishDate?"This email will be sent ".concat(this.$fluro.date.timeago(this.item.publishDate)):"This email will be sent immediately"},validSummary:function(){return this.validContacts.slice(0,10)},unsubscribedSummary:function(){return this.unsubscribedContacts.slice(0,10)},invalidSummary:function(){return this.invalidContacts.slice(0,10)},countdown:function(){return this.$fluro.video.readableMilliseconds(this.duration)}},data:function(){return{duration:0,preflightContacts:[],invalidContacts:[],unsubscribedContacts:[],validContacts:[],publishProcessing:!1,abortProcessing:!1,preflightProcessing:!1,expanded:{invalid:!1,unsubscribed:!1,valid:!1},item:this.value}}},a=i(0),o=Object(a.a)(r,n,[],!1,null,"8f3315a0",null);o.options.__file="src/components/mailout/MailoutPreflightPanel.vue";e.a=o.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-task-list"},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",{staticStyle:{padding:"5px"}},[i("h5",[i("fluro-inline-edit",{scopedSlots:t._u([{key:"default",fn:function(){return[t._v("\n                        "+t._s(t.model.title)+"\n                    ")]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur,r=e.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.title,expression:"model.title"}],attrs:{block:""},domProps:{value:t.model.title},on:{input:[function(e){e.target.composing||t.$set(t.model,"title",e.target.value)},t.update],focus:function(t){return r(t)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n(e)},blur:n}})]}}])})],1),t._v(" "),t.requiredMessage?i("p",{staticClass:"help-block",domProps:{innerHTML:t._s(t.requiredMessage)}}):t._e()]),t._v(" "),i("v-flex",{staticClass:"hover",attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{content:"More Options",icon:"",flat:""}},n),[t.actionsOpen?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}]),model:{value:t.actionsOpen,callback:function(e){t.actionsOpen=e},expression:"actionsOpen"}},[t._v(" "),i("v-list",{attrs:{dense:""}},[t._l(t.states,(function(e){return i("v-list-tile",{on:{click:function(i){return t.selectState(e.key)}}},[i("v-list-tile-content",[t._v("Mark as required to complete '"+t._s(e.title)+"'")])],1)})),t._v(" "),i("v-list-tile",{on:{click:function(e){return t.selectState(null)}}},[i("v-list-tile-content",[t._v("Disconnect from process")])],1),t._v(" "),i("v-divider"),t._v(" "),i("v-list-tile",{on:{click:function(e){return t.remove()}}},[i("v-list-tile-content",[t._v("Delete '"+t._s(t.model.title)+"'")])],1)],2)],1)],1)],1),t._v(" "),i("draggable",{staticClass:"task-list-items",attrs:{list:t.model.tasks,options:t.dragOptions},on:{start:t.dragStart,change:t.onChange,end:t.dragEnd}},t._l(t.model.tasks,(function(e,n){return i("fluro-task-item",{key:e.guid,attrs:{state:t.state,definition:t.definition,card:t.card},on:{input:t.update},model:{value:t.model.tasks[n],callback:function(e){t.$set(t.model.tasks,n,e)},expression:"model.tasks[index]"}})})),1),t._v(" "),[i("fluro-inline-edit",{attrs:{autofocus:t.value.autofocus},scopedSlots:t._u([{key:"default",fn:function(){return[i("v-btn",{staticClass:"ml-0",attrs:{small:""}},[t._v("\n                    Add task\n                    "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur;e.focus;return[i("v-layout",{attrs:{row:""}},[i("v-flex",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.proposedTaskName,expression:"proposedTaskName"}],attrs:{block:"",placeholder:"Type a title for this task and then press enter"},domProps:{value:t.proposedTaskName},on:{blur:n,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pushProposedTask()},input:function(e){e.target.composing||(t.proposedTaskName=e.target.value)}}})]),t._v(" "),t.proposedTaskName.length?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{icon:""},on:{mousedown:function(e){return t.newTaskMore()}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1):t._e()],1)]}}])})]],2)};n._withStripped=!0;i(52);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-task-item",class:[t.model.status,{hover:t.over}],on:{mouseover:function(e){t.over=!0},mouseout:function(e){t.over=!1},click:function(e){return t.clicked()}}},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.prompt()}}},[i("v-btn",{staticClass:"ma-0 mr-2",attrs:{icon:""}},[i("span",{staticClass:"checkbox-outer",class:t.model.status},["pending"==t.model.status?i("fluro-icon",{attrs:{library:"fas",icon:"minus"}}):"failed"==t.model.status?i("fluro-icon",{attrs:{library:"fas",icon:"exclamation"}}):i("fluro-icon",{attrs:{library:"fas",icon:"check"}})],1)])],1)]),t._v(" "),i("v-flex",[i("fluro-inline-edit",{scopedSlots:t._u([{key:"default",fn:function(){return[i("strong",[t._v(t._s(t.model.name))])]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur,r=e.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"input",domProps:{value:t.model.name},on:{focus:function(t){return r(t)},input:[function(e){e.target.composing||t.$set(t.model,"name",e.target.value)},t.update],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n(e)},blur:n}})]}}])}),t._v(" "),i("div",{staticClass:"wrap"},[i("fluro-inline-edit",{scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"sm muted",domProps:{innerHTML:t._s(t.model.description)}}),t._v(" "),i("div",{staticClass:"detail-placeholder"},[t.model.description&&t.model.description.length?t._e():i("div",{staticClass:"sm muted"},[t._v("Click here to add more description")])])]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur,r=e.focus;return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"}],staticClass:"input",attrs:{placeholder:"Add more details to this task"},domProps:{value:t.model.description},on:{focus:function(t){return r(t)},input:[function(e){e.target.composing||t.$set(t.model,"description",e.target.value)},t.update],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n(e)},blur:n}})]}}])})],1)],1),t._v(" "),i("v-flex",{staticClass:"edit-button",attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.edit(e)}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)};r._withStripped=!0;i(15),i(13);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-task-modal"},[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[i("h3",{attrs:{margin:""}},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"introduction",domProps:{innerHTML:t._s(t.description)}})])],1),t._v(" "),i("flex-column-body",[i("div",{staticClass:"task-options border-top border-bottom"},[i("div",{staticClass:"task-option-item complete",class:{active:"complete"==t.task.status},on:{click:function(e){return t.select("complete")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[t._v(t._s(t.completeLabel))]),t._v(" "),t.completeDescription?i("div",{staticClass:"sm muted"},[t._v(t._s(t.completeDescription))]):t._e()]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"thumbs-up"}})],1)])],1)],1),t._v(" "),t.pendingEnabled?i("div",{staticClass:"task-option-item pending",class:{active:"pending"==t.task.status},on:{click:function(e){return t.select("pending")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[t._v(t._s(t.pendingLabel))]),t._v(" "),t.pendingDescription?i("div",{staticClass:"sm muted"},[t._v(t._s(t.pendingDescription))]):t._e()]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"tasks"}})],1)])],1)],1):t._e(),t._v(" "),t.failedEnabled?i("div",{staticClass:"task-option-item failed",class:{active:"failed"==t.task.status},on:{click:function(e){return t.select("failed")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[t._v(t._s(t.failedLabel))]),t._v(" "),t.failedDescription?i("div",{staticClass:"sm muted"},[t._v(t._s(t.failedDescription))]):t._e()]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"thumbs-down"}})],1)])],1)],1):t._e(),t._v(" "),"incomplete"!=t.task.status?i("div",{staticClass:"task-option-item",on:{click:function(e){return t.select("incomplete")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[t._v("Incomplete")]),t._v(" "),i("div",{staticClass:"sm muted"},[t._v("Reset this task back to it's untouched state")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"circle"}})],1)])],1)],1):t._e()])]),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                Cancel\n            ")])],1)],1)],1)};a._withStripped=!0;var o=i(28),s=i(141),l=(i(288),{props:{options:{type:Object}},mixins:[o.a],data:function(){return{flipped:!1}},computed:{instructions:function(){return this.task.instructions||{}},pendingEnabled:function(){return!this.instructions.pendingDisabled},failedEnabled:function(){return!this.instructions.failedDisabled},completeLabel:function(){return this.instructions.completeLabel&&this.instructions.completeLabel.length?this.instructions.completeLabel:"Complete"},pendingLabel:function(){return this.instructions.pendingLabel&&this.instructions.pendingLabel.length?this.instructions.pendingLabel:"In Progress"},failedLabel:function(){return this.instructions.failedLabel&&this.instructions.failedLabel.length?this.instructions.failedLabel:"Failed"},completeDescription:function(){return this.instructions.completeDescription&&this.instructions.completeDescription.length?this.instructions.completeDescription:""},pendingDescription:function(){return this.instructions.pendingDescription&&this.instructions.pendingDescription.length?this.instructions.pendingDescription:""},failedDescription:function(){return this.instructions.failedDescription&&this.instructions.failedDescription.length?this.instructions.failedDescription:""},task:function(){return this.options.task},card:function(){return this.options.card},title:function(){return this.task.name},description:function(){return this.task.description}},methods:{select:function(t){var e,i=this;switch(i.task.status=t,t){case"complete":e=i.task.postComplete;break;case"pending":e=i.task.postPending;break;case"failed":e=i.task.postFailed}if(!e)return i.close(t);console.log("Do a task",i.card.item,i.card);i.$fluro.modal({component:s.default,options:{definitionName:e,skip:!0,item:i.card.item||i.card}}).then((function(e){return i.close(t)})).catch((function(e){return e?i.$fluro.error(e):i.close(t)}))}}}),c=(i(671),i(0)),u=Object(c.a)(l,a,[],!1,null,null,null);u.options.__file="src/components/form/tasklist/FluroTaskModal.vue";var d=u.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-task-edit-modal"},[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"pa-2":""}},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",[i("h4",[i("fluro-icon",{attrs:{icon:"square-pencil"}}),t._v(" "+t._s(t.model.name))],1)]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",color:"primary"},on:{click:function(e){return t.dismiss()}}},[t._v("\n                        Done\n                    ")])],1)],1)],1)],1),t._v(" "),i("fluro-tabset",{attrs:{justified:!0}},[i("fluro-tab",{attrs:{heading:"Description"}},[i("flex-column-body",[i("v-container",[i("fluro-content-form",{attrs:{fields:t.fields},on:{input:t.update},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1),t._v(" "),i("fluro-tab",{attrs:{heading:t.completeLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:t.completeFields},on:{input:t.update},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1),t._v(" "),i("fluro-tab",{attrs:{heading:t.pendingLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:t.pendingFields},on:{input:t.update},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1),t._v(" "),i("fluro-tab",{attrs:{heading:t.failedLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:t.failedFields},on:{input:t.update},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                Cancel\n            ")])],1)],1)],1)};f._withStripped=!0;var p=i(40),m=i(63),h=i(64),v={components:{FluroContentForm:p.default,FluroTabset:m.a,FluroTab:h.a},props:{options:{type:Object}},mixins:[o.a],data:function(){var t=JSON.parse(JSON.stringify(this.options.task));return t.instructions||(t.instructions={}),{model:t,fields:[{title:"Task name",key:"name",type:"string",minimum:0,maximum:1},{title:"Description",description:"Optional extra detail for how to complete this task",placeholder:"Optional extra detail for how to complete this task",key:"description",type:"string",directive:"textarea",minimum:0,maximum:1}]}},methods:{update:function(){console.log("Update occurred!"),this.options.callback(this.model)}},asyncComputed:{postTypes:{default:[],get:function(){return this.$fluro.types.subTypes("post")}}},computed:{postOptions:function(){return _.chain(this.postTypes).map((function(t){return{name:t.title,value:t.definitionName}})).orderBy((function(t){return t.name})).value()},completeFields:function(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",fields:[{title:"Complete Label",description:"Set what label should be used when referring to this task being complete",key:"completeLabel",type:"string",minimum:0,maximum:1,params:{persistentDescription:!0}},{title:"Instructions",description:"Add extra detail about what this task means when it is marked as complete",key:"completeDescription",type:"string",directive:"textarea",minimum:0,maximum:1,params:{persistentDescription:!0}}]},{title:"Complete Post Type",description:"Ask for a post to be created for extra details when this task is marked as complete",params:{persistentDescription:!0},key:"postComplete",type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions}]},pendingFields:function(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",className:"form-group",fields:[{title:"Disable '".concat(this.pendingLabel,"' Option"),description:"Disable the ability for this task to be marked as '".concat(this.pendingLabel,"'"),key:"pendingDisabled",type:"boolean",minimum:0,maximum:1},{type:"group",expressions:{hide:"model.pendingDisabled"},fields:[{title:"Pending Label",description:"Set what label should be used when referring to this task being in progress or",key:"pendingLabel",params:{persistentDescription:!0},type:"string",minimum:0,maximum:1},{title:"Instructions",description:"Add extra detail about what this task means when it is marked as pending",key:"pendingDescription",params:{persistentDescription:!0},type:"string",directive:"textarea",minimum:0,maximum:1}]}]},{title:"Pending Post Type",description:"Ask for a post to be created for extra details when this task is marked as pending",key:"postPending",params:{persistentDescription:!0},type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions,expressions:{hide:"data.instructions.pendingDisabled"}}]},failedFields:function(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",fields:[{title:"Disable '".concat(this.failedLabel,"' Option"),description:"Disable the ability for this task to be marked as '".concat(this.failedLabel,"'"),key:"failedDisabled",type:"boolean",minimum:0,maximum:1},{type:"group",expressions:{hide:"model.failedDisabled"},fields:[{title:"Label",description:"Set what label should be used when referring to this task being '".concat(this.failedLabel,"'"),key:"failedLabel",type:"string",params:{persistentDescription:!0},minimum:0,maximum:1},{title:"Instructions",description:"Add extra detail about what this task means when it is marked as '".concat(this.failedLabel,"'"),key:"failedDescription",type:"string",params:{persistentDescription:!0},directive:"textarea",minimum:0,maximum:1}]}]},{title:"Failed Post Type",description:"Ask for a post to be created for extra details when this task is marked as '".concat(this.failedLabel,"'"),params:{persistentDescription:!0},key:"postFailed",expressions:{hide:"data.instructions.failedDisabled"},type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions}]},instructions:function(){return this.model.instructions||{}},completeLabel:function(){return this.instructions.completeLabel||"Complete"},pendingLabel:function(){return this.instructions.pendingLabel||"Pending"},failedLabel:function(){return this.instructions.failedLabel||"Failed"}}},g=(i(673),Object(c.a)(v,f,[],!1,null,null,null));g.options.__file="src/components/form/tasklist/FluroTaskEditModal.vue";var b=g.exports,y=i(91),x=i(149),k={components:{FluroInlineEdit:y.default,FluroEditor:x.default},props:{value:{type:Object,required:!0},state:{type:String},definition:{type:Object},card:{type:Object}},mounted:function(){this.value.immediateModal&&this.edit()},data:function(){var t=JSON.parse(JSON.stringify(this.value));return t.autofocus&&delete t.autofocus,t.immediateModal&&(console.log("Immediate Modal!",this.value),delete t.immediateModal),{over:!1,checked:!1,model:t}},watch:{value:function(t){this.model=t}},methods:{clicked:function(){switch(this.mode){case"edit":this.edit();break;case"do":this.prompt()}},edit:function(){var t=this;return t.$fluro.modal({component:b,options:{task:t.model,card:t.card,definition:t.definition,callback:function(e){t.model=e,t.update()}}}).then((function(e){t.model=e,t.update()})).catch((function(t){}))},update:function(){this.$emit("input",this.model)},prompt:function(){var t=this,e=this.model,i=_.chain(t.definition).get("data.states").find((function(e){return e.key==t.card.state})).value().taskLists||[],n=_.chain(i).map("tasks").flatten().find((function(t){return t.name==e.name})).value();return t.$fluro.modal({component:d,options:{task:n||t.model,card:t.card}}).then((function(e){t.model.status=e,t.update()})).catch((function(t){}))}}},w=(i(690),Object(c.a)(k,r,[],!1,null,null,null));w.options.__file="src/components/form/tasklist/FluroTaskItem.vue";var C={components:{draggable:function(){return Promise.resolve().then(i.t.bind(null,805,7))},FluroTaskItem:w.exports,FluroInlineEdit:y.default},props:{card:{type:Object},editMode:{type:Boolean},value:{type:Object,required:!0},state:{type:String,required:!0},definition:{type:Object,required:!0}},data:function(){var t=JSON.parse(JSON.stringify(this.value));return delete t.autofocus,{over:!1,actionsOpen:!1,model:t,proposedTaskName:""}},watch:{value:function(){this.model=JSON.parse(JSON.stringify(this.value))}},methods:{newTaskMore:function(){this.model.tasks.push({immediateModal:!0,name:this.proposedTaskName,required:!0,state:this.state,status:"incomplete"}),this.proposedTaskName="",this.update()},pushProposedTask:function(t){this.proposedTaskName&&this.proposedTaskName.length&&(this.model.tasks.push({autofocus:!0,name:String(this.proposedTaskName),required:!0,state:this.state}),this.update()),this.proposedTaskName="",t&&t()},addTask:function(){this.model.tasks.push({name:"New task",required:!0,state:this.state,status:"incomplete"}),this.update()},selectState:function(t){this.model.state=t,this.update()},dragStart:function(){},dragEnd:function(){this.update()},onChange:function(){this.update()},update:function(){this.$emit("input",this.model)},remove:function(){this.update(),this.$emit("remove",this.model)}},computed:{dragOptions:function(){return{group:"tasks",animation:150}},requiredMessage:function(){var t=this.model.state;if(t){var e=_.find(this.states,{key:t});if(e)return"Required to complete <strong>".concat(e.title,"</strong>")}},states:function(){return _.get(this.definition,"data.states")},availableActions:function(){return[{title:"Edit '".concat(this.model.title,"'"),click:function(){}}]}}},S=(i(692),Object(c.a)(C,n,[],!1,null,null,null));S.options.__file="src/components/form/tasklist/FluroTaskList.vue";e.a=S.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-timeline"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("fluro-timeline",{scopedSlots:t._u([{key:"card",fn:function(e){var n=e.entry;return[n.grouped?t._l(n.entries,(function(t){return i("log-card",{key:t._id,attrs:{item:t}})})):n._type?["mailout"==n._type?[i("mailout-card",{attrs:{item:n}})]:"post"==n._type?[i("post-card",{attrs:{item:n}})]:"interaction"==n._type?[i("interaction-card",{attrs:{item:n}})]:"checkin"==n._type?[i("checkin-card",{attrs:{item:n}})]:"assignment"==n._type?[i("roster-card",{attrs:{item:n}})]:"sms"==n._type?[i("text-message-card",{attrs:{item:n}})]:[i("div",{staticClass:"timeline-card"},[i("pre",[t._v(t._s(n))])])]]:[i("log-card",{attrs:{item:n}})]]}}]),model:{value:t.array,callback:function(e){t.array=e},expression:"array"}})]],2)};n._withStripped=!0;var r={props:{items:{type:Array},value:{type:Object}},components:{FluroTimeline:function(){return Promise.resolve().then(i.bind(null,398))},MailoutCard:function(){return i.e(2).then(i.bind(null,1075))},PostCard:function(){return i.e(3).then(i.bind(null,1076))},InteractionCard:function(){return i.e(48).then(i.bind(null,1077))},CheckinCard:function(){return i.e(47).then(i.bind(null,1078))},LogCard:function(){return i.e(49).then(i.bind(null,1079))},RosterCard:function(){return i.e(50).then(i.bind(null,1080))},TextMessageCard:function(){return i.e(4).then(i.bind(null,1081))},GroupedCard:function(){return i.e(66).then(i.bind(null,1082))}},data:function(){return{loading:!1,model:this.value}},asyncComputed:{array:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.model);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/contact/".concat(e,"/timeline")).then((function(e){i(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},a=(i(536),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/content/contact/timeline/ContactTimeline.vue";e.a=o.exports},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=[];n.push({title:"Basic Text Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:""}}),n.push({title:"Multiple Choice",description:"Add a select dropdown where the user can choose an option from a list",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:"",directive:"select",allowedValues:["Option One","Option Two","Option Three","Option Four"]}}),n.push({title:"Person",key:"person",description:"Add a new Contact Reference Field including the basic details (First Name, Last Name etc..)",field:{title:"",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"",params:{restrictType:"contact"},fields:[{title:"Names",type:"group",key:"names",sameLine:!0,fields:[{title:"First Name",minimum:1,maximum:1,key:"firstName",type:"string"},{title:"Last Name",minimum:1,maximum:1,key:"lastName",type:"string"}]},{title:"Gender",minimum:1,maximum:1,key:"gender",type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"I'd prefer not to say",value:"unknown"}]},{title:"Date of Birth",minimum:1,maximum:1,key:"dob",type:"date",directive:"date-select"},{title:"Email / Phone",key:"contactoptions",type:"group",sameLine:!0,fields:[{title:"Email Address",minimum:1,maximum:1,key:"email",type:"email"},{title:"Phone Number",minimum:1,maximum:1,key:"phoneNumber",type:"string"}]}]}}),n.push({title:"Family Household / Address",description:"Add a new Family Household Reference Field including address, suburb etc",field:{title:"Family Household / Address",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"family",params:{restrictType:"family"},fields:[{title:"Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"address",fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]},{key:"samePostal",title:"Postal Address is the same",minimum:0,maximum:1,type:"boolean",defaultValues:[!0]},{title:"Postal Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"postalAddress",expressions:{hide:"model.samePostal"},fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Postal Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]}]}}),n.push({title:"Heading",description:"Add a custom heading or html markup",field:{title:"My Heading",description:"This is the description",minimum:1,maximum:1,type:"void",directive:"custom",key:"heading",template:"<h3>{{field.title}}</h3>\n<p>{{field.description}}</p>"},params:{}}),n.push({title:"Video",description:"Add a video embed",field:{title:"My Video",description:"This is a video",minimum:1,maximum:1,type:"void",directive:"custom",key:"videoItem",template:'<h3>{{field.title}}</h3>\n\n                    <p>{{field.description}}</p>\n\n                    <div style="width:100%; position:relative; height:0; padding-bottom:56.25%;">\n<iframe style="width:100%; height:100%; position: absolute; top:0; right:0; bottom:0; left:0; " src="https://www.youtube.com/embed/iJ1ynQ46984" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n</div>\n\n                    '},params:{}}),n.push({title:"Signature",description:"Request the user to write their signature",field:{title:"Signature",description:"Please sign your name",minimum:1,maximum:1,type:"string",directive:"signature",key:"signature"},params:{}}),n.push({title:"File Upload",description:"Add a video, asset, or image upload field",field:{title:"Upload Image",description:"Select your image/s to upload",minimum:0,maximum:0,type:"reference",directive:"upload",params:{restrictType:"image"},key:"upload"},params:{}}),n.push({title:"Website link",description:"Add a link to an external URL",field:{title:"External Link",minimum:1,maximum:1,type:"void",directive:"custom",key:"link",template:'<a target="_blank" href="https://www.fluro.io">Click here to view the link</a>'},params:{}}),e.a=n},,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=brace/mode/javascript},,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)(this.component,{tag:"component"})};n._withStripped=!0;var r=i(25),a=i.n(r),o={props:{template:{type:String,default:function(){return""}},context:{type:Object,default:function(){return{}}}},data:function(){return{component:null}},watch:{template:function(t){this.render()},context:function(t){this.render()}},mounted:function(){this.render()},created:function(){this.render()},methods:{render:function(){var t=this;if(t.template&&t.template.length){var e=a.a.extend({template:"<div>".concat(t.template,"</div>"),data:function(){return t.context||{}}});t.component=e}else t.component=null}}},s=i(0),l=Object(s.a)(o,n,[],!1,null,"7045e522",null);l.options.__file="src/components/FluroCompileHtml.vue";e.default=l.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column-body",{attrs:{"scroll-parent":""}},[i("div",{staticClass:"timeline-wrapper"},[t.massive?[i("fluro-infinite-scroll",{attrs:{perPage:1,startPage:1,buffer:2,items:t.months},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"year"},t._l(e.page,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(e.title)+" "+t._s(e.year))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"entries"},[t._l(e.entries,(function(e){return t._t("card",null,{entry:e})}))],2)])}))],2)})),0)]}}],null,!0)})]:[i("fluro-infinite-scroll",{attrs:{perPage:1,startPage:1,buffer:2,items:t.years},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.page,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"entries"},[t._l(e.entries,(function(e){return t._t("card",null,{entry:e})}))],2)])}))],2)}))],2)}))}}],null,!0)})]],2)])};n._withStripped=!0;i(31),i(12),i(13);var r={components:{FluroInfiniteScroll:i(283).a},props:{value:{type:Array,required:!0}},data:function(){return{array:this.value}},computed:{massive:function(){return this.array.length>400},entries:function(){var t=_.chain(this.array).map((function(t){return t.date=new Date(t.date),t})).orderBy((function(t){return-1*t.date})).value();return this.massive?_.chain(t).reduce((function(t,e){var i="".concat(e.type||e._type,"-").concat(e.date),n=t[i];return n||(n=t[i]={type:e._type,grouped:!0,entries:[],date:e.date}),n.entries.push(e),t}),{}).values().map((function(t){return t.entries.length<3?t.entries:t})).flatten().value():t},months:function(){var t=this;return _.chain(this.entries).reduce((function(e,i){var n=i.date,r=t.$fluro.date.formatDate(i.date,"D MMM YYYY"),a=t.$fluro.date.formatDate(i.date,"D MMM"),o=e[r];return o||(o=e[r]={title:a,key:r,date:n,entries:[]}),o.entries.push(i),e}),{}).values().orderBy((function(t){return-t.date})).reduce((function(e,i){var n=i.date,r=t.$fluro.date.formatDate(i.date,"MMM YYYY"),a=t.$fluro.date.formatDate(i.date,"MMM"),o=t.$fluro.date.formatDate(i.date,"YYYY"),s=e[r];return s||(s=e[r]={title:a,key:r,date:n,year:o,days:[]}),s.days.push(i),e}),{}).values().orderBy((function(t){return-t.date})).value()},years:function(){var t=this;return _.chain(t.months).reduce((function(e,i){var n=i.date,r=t.$fluro.date.formatDate(i.date,"YYYY"),a=t.$fluro.date.formatDate(i.date,"YYYY"),o=e[r];return o||(o=e[r]={title:a,key:r,date:n,months:[]}),o.months.push(i),e}),{}).values().orderBy((function(t){return-t.date})).value()}}},a=(i(614),i(0)),o=Object(a.a)(r,n,[],!1,null,"60c1fbfc",null);o.options.__file="src/components/ui/FluroTimeline.vue";e.default=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-content-select",class:{outlined:t.showOutline}},[t.model.length?[t.model.length<=t.listLimit?i("div",{staticClass:"fluro-content-list"},[i("list-group",[i("draggable",t._b({on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},"draggable",t.dragOptions,!1),t._l(t.model,(function(e,n){return i("list-group-item",{attrs:{item:e},on:{click:function(i){return t.$fluro.global.view(e,!0)}},scopedSlots:t._u([{key:"right",fn:function(){return[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},r),[t.actionIndexes[n]?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:t.actionIndexes[n],callback:function(e){t.$set(t.actionIndexes,n,e)},expression:"actionIndexes[index]"}},[t._v(" "),i("v-list",{attrs:{dense:""}},[t.editInPlaceEnabled(e)?i("v-list-tile",{on:{click:function(i){return t.editInPlace(e)}}},[i("v-list-tile-content",[t._v("Edit")])],1):t._e(),t._v(" "),i("v-list-tile",{on:{click:function(i){return t.deselect(e)}}},[i("v-list-tile-content",[t._v("Deselect")])],1),t._v(" "),i("v-list-tile",{on:{click:function(i){return t.$actions.open([e])}}},[i("v-list-tile-content",[t._v("More Actions")])],1)],1)],1)]},proxy:!0}],null,!0)})})),1)],1)],1):i("div",{staticClass:"fluro-content-list"},[i("list-group",t._l(t.limited,(function(e,n){return i("list-group-item",{attrs:{item:e},scopedSlots:t._u([{key:"right",fn:function(){return[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},r),[t.actionIndexes[n]?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:t.actionIndexes[n],callback:function(e){t.$set(t.actionIndexes,n,e)},expression:"actionIndexes[index]"}},[t._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.$actions.open([e])}}},[i("v-list-tile-content",[t._v("Actions")])],1),t._v(" "),i("v-list-tile",{on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.deselect(e)}}},[i("v-list-tile-content",[t._v("Deselect")])],1)],1)],1)]},proxy:!0}],null,!0)})})),1)],1)]:t._e(),t._v(" "),t.canAddValue?i("div",{staticClass:"content-select-search-bar"},[i("div",{staticClass:"content-select-search"},[i("v-autocomplete",{attrs:{outline:t.showOutline,success:t.success,required:t.required,"error-messages":t.errorMessages,hint:t.hint,"hide-selected":!0,"append-icon":"","persistent-hint":!0,placeholder:t.textPlaceholder,"return-object":!0,"item-text":"title",multiple:!0,loading:t.loading,items:t.results,"search-input":t.search,flat:"","hide-no-data":""},on:{focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")},change:function(e){return t.selected()},"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("v-list-tile-avatar",{staticClass:"text-sm-center"},["persona"==n._type?[i("fluro-avatar",{attrs:{id:n._id,type:"persona"}})]:"contact"==n._type?[i("fluro-avatar",{attrs:{id:n._id,type:"contact"}})]:"image"==n._type?[i("fluro-image",{attrs:{item:n,spinner:!0,width:40,height:40}})]:[i("fluro-icon",{attrs:{type:n._type}})]],2),t._v(" "),i("v-list-tile-content",["event"==n._type?[i("v-list-tile-title",{domProps:{textContent:t._s(n.title)}}),t._v(" "),i("div",{staticClass:"muted"},[t._v(t._s(t._f("readableEventDate")(n)))])]:[i("v-list-tile-title",{domProps:{textContent:t._s(n.title)}})]],2)]}}],null,!1,1067703648),model:{value:t.candidates,callback:function(e){t.candidates=e},expression:"candidates"}})],1),t._v(" "),i("div",{staticClass:"content-select-search-buttons"},[t.canCreate?i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0 mr-1",attrs:{small:"",content:"Create new "+t.readableSingle,color:"primary",icon:""},on:{click:function(e){return t.create()}}},[i("fluro-icon",{attrs:{icon:"plus"}})],1):t._e(),t._v(" "),i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",content:"Browse for "+t.readablePlural,icon:""},on:{click:t.showModal}},[i("fluro-icon",{attrs:{icon:"search"}})],1)],1)]):t._e()],2)};n._withStripped=!0;i(107),i(17);var r=i(76),a=i(109),o={components:{draggable:function(){return Promise.resolve().then(i.t.bind(null,805,7))}},mixins:[r.a],props:{template:{type:Object},success:{type:Boolean},required:{type:Boolean},errorMessages:{type:Array},label:{type:String},hint:{default:"",type:String},placeholder:{type:String},value:{type:[Array,Object],default:function(){return[]}},type:{type:String},types:{type:Array},minimum:{type:Number,default:0},maximum:{type:Number,default:0},outline:{type:Boolean},options:{default:function(){return{}},type:Object},searchInheritable:{type:Boolean,default:!0},allDefinitions:{type:Boolean,default:!0},lockFilter:{type:Object}},created:function(){this.setInitialValue(this.value)},computed:{readableSingle:function(){return this.$fluro.types.readable(this.type)},readablePlural:function(){return this.$fluro.types.readable(this.type,!0)},canCreate:function(){var t=this.type;if(t)switch(t){case"node":break;default:return this.$fluro.access.can("create",t,this.$fluro.types.parentType(t))}},textPlaceholder:function(){var t=this.type?this.$fluro.types.readable(this.type,!0):"items";return this.placeholder||"Search for ".concat(t)},showOutline:function(){return this.outline||this.options.outline},limited:function(){return this.model.slice(0,this.listLimit)},model:{get:function(){return this.selection},set:function(t){this.selection=t}},multiple:function(){return 1!=this.maximum},total:function(){return this.model.length},canAddValue:function(){return!this.maximum||this.total<this.maximum},dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},search:{get:function(){return this.terms},set:_.debounce((function(t){this.terms=t}),500)}},methods:{editInPlaceEnabled:function(t){return this.$fluro.access.canEditItem(t)&&this.$fluro.global.edit},editInPlace:function(t){this.$fluro.global.edit&&this.$fluro.global.edit(t,!0).then((function(e){_.assign(t,e),console.log("Updated!",t)}))},setInitialValue:function(t){this.selectionMinimum=this.minimum,this.selectionMaximum=this.maximum,t&&(_.isArray(t)&&t.length?this.setSelection(t):(t._id||t.length)&&this.setSelection([t]))},create:function(){var t=this;t.$fluro.global.create(t.type,{disableCacheClearOnSave:!0,template:JSON.parse(JSON.stringify(t.template||{}))},!0).then((function(e){t.select(e)}))},showModal:function(){console.log("SHOW MODAL",t);var t=this;t.$fluro.modal({component:a.a,options:{selector:t,type:t.type,minimum:t.minimum,maximum:t.maximum,allDefinitions:t.allDefinitions,searchInheritable:t.searchInheritable,lockFilter:t.lockFilter}})},closeModal:function(){this.dialog=!1},selected:function(){var t=this,e=t.candidates;if(t.canAddValue){if(t.maximum){var i=t.maximum-t.total;e=e.slice(0,i)}e.length&&_.each(e,(function(e){t.select(e)}))}t.terms="",t.candidates=[]},getActions:function(t){var e=this,i=[];return i.push({title:"Deselect",click:function(){return e.deselect(t)}}),i}},watch:{value:function(t){this.setInitialValue(t)},terms:function(t){var e=this;if(e.results=[],t&&t.length){e.loading=!0;var i={allDefinitions:!0};e.type&&(i.types=e.type),e.$fluro.content.search(t,i).then((function(t){e.results=t,e.loading=!1})).catch((function(t){e.loading=!1,e.results=[]}))}},model:function(){this.multiple?this.$emit("input",this.model):this.$emit("input",_.first(this.model))},minimum:function(t){console.log("CHANGESSS",t);this.selectionMinimum=t},maximum:function(t){console.log("CHANGESSS",t);this.selectionMaximum=t}},data:function(){return{listLimit:50,actionIndexes:{},candidates:[],results:[],terms:"",loading:!1,dialog:!1,drag:!1}}},s=(i(712),i(0)),l=Object(s.a)(o,n,[],!1,null,null,null);l.options.__file="src/components/form/FluroContentSelect.vue";e.default=l.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-expression-editor"},[i("code-editor",{attrs:{lang:"javascript",height:30},on:{init:t.editorInit},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)};n._withStripped=!0;i(26),i(146);var r={props:{value:{type:String,default:""},readonly:{type:Boolean}},data:function(){return{editor:null,model:this.value}},methods:{editorInit:function(t){i(395),this.editor=t,t.on("paste",(function(t){t.text=t.text.replace(/[\r\n]+/g," ")})),t.renderer.screenToTextCoordinates=function(t,e){var i=this.pixelToScreenCoordinates(t,e);return this.session.screenToDocumentPosition(Math.min(this.session.getScreenLength()-1,Math.max(i.row,0)),Math.max(i.column,0))},t.commands.bindKey("Enter|Shift-Enter","null"),t.renderer.setShowGutter(!1),this.readonly&&t.setReadOnly(!0)}},components:{CodeEditor:function(){return Promise.resolve().then(i.t.bind(null,413,7))}},watch:{value:function(t){t!==this.model&&this.editor.session.setValue(t)},model:function(t){t!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},a=(i(714),i(0)),o=Object(a.a)(r,n,[],!1,null,null,null);o.options.__file="src/components/form/FluroExpressionEditor.vue";e.default=o.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{lazy:"","full-width":"",width:t.width,disabled:t.disabled},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[i("v-input",{staticClass:"no-flex",attrs:{slot:"activator",label:t.label,hint:t.hint,"persistent-hint":!0,disabled:t.disabled,loading:t.loading,"error-messages":t.errorMessages,"error-count":t.errorCount,error:t.error,"hide-details":t.hideDetails},slot:"activator"},[i("v-btn",{staticClass:"mx-0",attrs:{block:"",large:"",color:"#e0e0e0"}},[i("fluro-icon",{attrs:{left:"",icon:"calendar-alt"}}),t._v(t._s(t.readable)+"\n            ")],1)],1),t._v(" "),i("flex-column",[i("fluro-tabset",{attrs:{justified:!0},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("fluro-tab",{attrs:{heading:"Date"}},[i("v-date-picker",{staticClass:"elevation-0",attrs:{attach:"",min:t.minDateString,max:t.maxDateString,"full-width":"",scrollable:"",locale:t.locale,actions:""},model:{value:t.datePart,callback:function(e){t.datePart=e},expression:"datePart"}})],1),t._v(" "),i("fluro-tab",{attrs:{heading:"Time"}},[i("v-time-picker",{ref:"timer",staticClass:"v-time-picker-custom elevation-0",attrs:{attach:"","full-width":"",scrollable:"",format:t.timePickerFormat,actions:""},model:{value:t.timePart,callback:function(e){t.timePart=e},expression:"timePart"}})],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),t._t("actions",[i("v-btn",{attrs:{color:"",flat:""},nativeOn:{click:function(e){return t.clearHandler(e)}}},[t._v(t._s(t.clearText))]),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:t.okHandler}},[t._v(t._s(t.okText))])],{parent:this})],2)],1)],1)};n._withStripped=!0;i(17);var r=i(64),a=i(63),o={name:"datetime-picker",model:{prop:"datetime",event:"input"},components:{FluroTab:r.a,FluroTabset:a.a},props:{datetime:{type:[Date,String],default:null},label:{type:String,default:""},hint:{type:String,default:""},placeholder:{type:String,default:"Select a date"},min:{type:Date},max:{type:Date},outline:{type:Boolean},width:{type:Number,default:320},format:{type:String,default:"YYYY-MM-DD HH:mm:ss"},timePickerFormat:{type:String,default:"24hr"},locale:{type:String,default:"en-us"},clearText:{type:String,default:"CLEAR"},okText:{type:String,default:"OK"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},errorCount:{type:[Number,String],default:1},error:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appendIcon:{type:String},prependIcon:{type:String}},data:function(){return{display:!1,dateSelected:!1,timeSelected:!1,activeTab:0,selectedDatetime:null}},created:function(){this.datetime&&(this.datetime instanceof Date?this.selectedDatetime=this.datetime:("string"==typeof this.datetime||this.datetime instanceof String)&&(this.selectedDatetime=this.$fluro.date.moment(new Date(this.datetime),this.format)))},computed:{minDateString:function(){return this.min?this.$fluro.date.moment(this.min).format("YYYY-MM-DD"):null},maxDateString:function(){return this.max?this.$fluro.date.moment(this.max).format("YYYY-MM-DD"):null},readable:function(){return this.datetime?this.formattedDatetime:this.placeholder},datePart:{get:function(){return this.selectedDatetime?this.$fluro.date.moment(this.selectedDatetime).format("YYYY-MM-DD"):""},set:function(t){this.dateSelected=!0,this.activeTab=1;var e=this.$fluro.date.moment,i=e(t,"YYYY-MM-DD"),n=this.selectedDatetime?e(this.selectedDatetime).hour():0,r=this.selectedDatetime?e(this.selectedDatetime).minute():0,a=e().year(i.year()).month(i.month()).date(i.date()).hour(n).minute(r).second(0);this.selectedDatetime=a.toDate()}},timePart:{get:function(){return this.selectedDatetime?this.$fluro.date.moment(this.selectedDatetime).format("HH:mm"):"00:00"},set:function(t){this.timeSelected=!0;var e=this.$fluro.date.moment(t,"HH:mm"),i=this.$fluro.date.moment(this.selectedDatetime).hour(e.hour()).minute(e.minute()).second(0);this.selectedDatetime=i.toDate()}},formattedDatetime:function(){return this.datetime?this.$fluro.date.moment(this.datetime).format(this.format):""}},methods:{okHandler:function(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",this.selectedDatetime)},clearHandler:function(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",null)}}},s=i(0),l=Object(s.a)(o,n,[],!1,null,null,null);l.options.__file="src/components/form/FluroDateTimePicker.vue";e.default=l.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-signature-field"},[i("v-input",{staticClass:"no-flex",attrs:{label:t.label,"persistent-hint":!0,required:t.required,"error-messages":t.errorMessages,hint:t.hint}},[i("div",{staticClass:"signature-pad-wrap"},[i("canvas",{ref:"canvas",staticClass:"signature-pad",attrs:{id:"signature-pad"}}),t._v(" "),i("v-btn",{staticClass:"clear",on:{click:function(e){return t.clear()}}},[t._v("\n                Clear "),i("fluro-icon",{attrs:{right:"",icon:"times"}})],1)],1)])],1)};n._withStripped=!0;i(17);var r=i(418),a=i.n(r),o={props:{errorMessages:{type:Array},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:String},width:{default:"100%",type:[String,Number]},height:{default:"300px",type:[String,Number]},readonly:{type:Boolean}},mounted:function(){var t=this.$refs.canvas;this.pad=new a.a(t,{dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7}),this.pad.onBegin=function(){console.log("Begin!")},this.pad.onEnd=function(){console.log("End!")},console.log("Mounted",t,this.pad),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas()},data:function(){return{model:this.value,pad:null}},methods:{resizeCanvas:function(){var t=Math.max(window.devicePixelRatio||1,1),e=this.$refs.canvas;e.width=e.offsetWidth*t,e.height=e.offsetHeight*t,e.getContext("2d").scale(t,t),this.pad.clear()},clear:function(){return this.pad.clear()},save:function(){this.$emit("input",this.model)}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCanvas)}},s=(i(718),i(720),i(0)),l=Object(s.a)(o,n,[],!1,null,"9d24245a",null);l.options.__file="src/components/form/FluroSignatureField.vue";e.default=l.exports},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-interaction-form"},[t.definition?[t.allowed?t._e():[t.user?[t._t("authenticated",[t._v("\n                    You do not have permission to submit this form\n                ")])]:t._e(),t._v(" "),t.user?t._e():[t._t("unauthenticated",[t._v("\n                    You must be signed in to submit this form\n                ")])]],t._v(" "),t.allowed?["success"==t.state?t._t("success",[i("div",{staticClass:"text-xs-center"},[i("h3",[t._v("Submission Successful")]),t._v(" "),i("div",[t._v("Thank you for your submission")]),t._v(" "),i("v-btn",{staticClass:"mx-0",on:{click:function(e){return t.reset()}}},[t._v("\n                        Back to form\n                    ")])],1)],{reset:t.reset,result:t.result}):[t._t("info"),t._v(" "),i("form",{attrs:{disabled:"processing"==t.state},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("fluro-content-form",{ref:"form",attrs:{context:t.context,debugMode:t.debugMode,contextField:t.contextField,recursiveClick:t.recursiveClick,options:t.options,fields:t.fields},on:{errorMessages:t.validate,input:t.modelChanged},model:{value:t.dataModel,callback:function(e){t.dataModel=e},expression:"dataModel"}}),t._v(" "),t.showPaymentForm?i("div",{staticClass:"payment"},[i("v-container",[i("h2",[t._v("Payment Summary")]),t._v(" "),i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"modifier-title"},[i("strong",[t._v("Amount")])]),t._v(" "),t.baseAmount?i("v-flex",{attrs:{shrink:""}},[i("strong",[t._v(t._s(t.formattedBaseAmount))])]):t._e()],1),t._v(" "),t._l(t.activeModifiers,(function(e){return i("div",{staticClass:"modifier"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"modifier-title"},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[t._v("\n                                        "+t._s(e.description)+"\n                                    ")]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[t._v("\n                                        "+t._s(e.formattedTotal)+"\n                                    ")])],1)],1)})),t._v(" "),i("div",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("h3",[t._v("Total")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("h3",[t._v("\n                                            "+t._s(t.formattedTotal)+"\n                                            "),i("span",{staticClass:"muted"},[t._v(t._s(t.currency.toUpperCase()))])])])],1)],1)],2),t._v(" "),i("v-container",{staticClass:"border-top",staticStyle:{background:"#fafafa"}},[i("h4",[t._v("Card Details")]),t._v(" "),i("fluro-content-form",{ref:"payment",attrs:{options:t.options,fields:t.paymentFields},on:{errorMessages:t.validate,input:t.modelChanged},model:{value:t.dataModel,callback:function(e){t.dataModel=e},expression:"dataModel"}})],1),t._v(" "),t.definition.data.enableReceipt?i("v-container",{staticClass:"border-top",staticStyle:{background:"#fafafa"}},[i("fluro-content-form-field",{attrs:{options:t.options,field:t.receiptInput},on:{input:t.modelChanged},model:{value:t.dataModel,callback:function(e){t.dataModel=e},expression:"dataModel"}})],1):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"actions"},["processing"==t.state?[i("v-btn",{staticClass:"mx-0",attrs:{block:t.mobile,large:t.mobile,disabled:!0}},[t._v("\n                                Processing\n                                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==t.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                                "+t._s(t.serverErrors)+"\n                            ")]),t._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{block:t.mobile,large:t.mobile},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v("\n                                Try Again\n                            ")])]:[t.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                                Please check the following issues before\n                                submitting\n                                "),t._l(t.errorMessages,(function(e){return i("div",[i("strong",[t._v(t._s(e.title))]),t._v(": "+t._s(e.messages[0])+"\n                                ")])}))],2):t._e(),t._v(" "),i("v-layout",[i("v-btn",{staticClass:"mx-0",attrs:{block:t.mobile,large:t.mobile,disabled:t.hasErrors,type:"submit",color:"primary"}},[t._v("\n                                    Submit\n                                ")]),t._v(" "),i("v-spacer"),t._v(" "),t._t("submit")],2)]],2)],1)]]:t._e()]:t._e()],2)};n._withStripped=!0;var r,a=i(9),o=(i(17),i(13),i(154),i(40)),s=i(60),l=i(3),c=i.n(l),u=i(25),d=i.n(u),f=i(120),p=(i(142),{});function m(t,e){if(p[t])return e();p[t]=!0;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.onload=e,i.src=t,document.getElementsByTagName("head")[0].appendChild(i),console.log("Appended script dependency",t)}var h={props:{contextField:{type:Object},title:{type:String},prefill:{type:Boolean,default:function(){return!0}},context:{type:String,default:function(){return this.$fluro.global.defaultFormContext}},definition:{type:Object,required:!0},paymentIntegration:{type:Object},linkedProcess:{type:[Object,String]},linkedEvent:{type:[Object,String]},debugMode:{type:Boolean},submissionConfig:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{data:{}}}},defaultState:{type:String,default:function(){return"ready"}},options:{default:function(){return{validateSuccess:!0,backupUploadRealm:c.a.chain(this.definition).get("realms").first().value()}},type:Object}},data:function(){return{paymentReady:!1,dataModel:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:this.defaultState}},created:function(){this.reset()},mounted:function(){this.validate(),this.initializePayment()},watch:{state:function(t){this.$emit("state",t)},defaultState:function(t){this.state=t},paymentIntegration:"initializePayment"},computed:{recursiveClick:function(){var t=this;if(t.debugMode)return function(e){t.$emit("debug",e.field)}},mobile:function(){return this.$vuetify.breakpoint.xsOnly},receiptInput:function(){return{title:"Where should we send the receipt?",placeholder:"Eg. me@website.com",key:"receiptEmail",type:"email",minimum:0,maximum:1}},activeModifiers:function(){var t=this,e=t.baseAmount||0,i=Date.now(),n=t.paymentDetails.modifiers;if(!n||!n.length)return console.log("No modifiers"),[];var r=c.a.chain(n).map((function(n){var r,o=(r={date:i,calculatedTotal:e,model:t.dataModel,data:t.dataModel,matchInArray:t.$fluro.utils.matchInArray,getAge:t.$fluro.utils.getAge,Date:Date,Math:Math,String:String},Object(a.a)(r,"Date",Date),Object(a.a)(r,"parseInt",parseInt),Object(a.a)(r,"parseFloat",parseFloat),Object(a.a)(r,"Boolean",Boolean),Object(a.a)(r,"Number",Number),r),s=t.evaluate(n.expression,o);if(s=Number(s),!isNaN(s)){var l=!0;if(n.condition&&String(n.condition).length&&(l=t.evaluate(n.condition,o)),l){var c="",u=t.$fluro.utils.formatCurrency(s,t.currency);switch(n.operation){case"add":c="+",e+=s;break;case"subtract":c="-",e-=s;break;case"divide":c="/",u=s,e/=s;break;case"multiply":c="x",u=s,e*=s;break;case"set":e=s}var d="".concat(c," ").concat(u);return s||(d=""),{title:n.title,total:Number(parseFloat(e).toFixed(2)),description:d,operation:n.operation}}}})).compact().value();if(!r||!r.length)return[];var o=c.a.findLastIndex(r,(function(t){return"set"==t.operation}));return o&&-1!=o&&(r=c.a.slice(r,o)),r},currency:function(){return this.paymentDetails.currency||""},symbol:function(){return this.$fluro.utils.currencySymbol(self.currency)},baseAmount:function(){return this.paymentDetails.amount},formattedBaseAmount:function(){return this.$fluro.utils.formatCurrency(this.baseAmount,this.currency)},total:function(){var t=this.baseAmount;return this.activeModifiers&&this.activeModifiers.length&&(t=c.a.last(this.activeModifiers).total),(!t||isNaN(t)||t<0)&&(t=0),t},formattedTotal:function(){return this.$fluro.utils.formatCurrency(this.total,this.currency)},paymentDetails:function(){return this.definition.paymentDetails||{}},showPaymentForm:function(){if(this.requirePayment||this.allowPayment)return this.total&&parseInt(this.total)>0},requirePayment:function(){return this.paymentDetails.required},allowPayment:function(){if(!this.requirePayment)return this.paymentDetails.allow},formErrors:function(){},hasErrors:function(){return!!this.errorMessages.length},formOptions:function(){return this.definition.data},paymentFields:function(){var t,e,i,n,r,a=[];this.debugMode&&(t="John Appleseed",e="4242424242424242",i="09",n="2025",r="123"),a.push({title:"Name on Card",key:"cardName",type:"string",minimum:1,maximum:1,defaultValues:[t]}),a.push({title:"Card Number",key:"cardNumber",type:"string",minimum:1,maximum:1,defaultValues:[e],params:{mask:"credit-card"}});var o={type:"group",sameLine:!0,fields:[]};return o.fields.push({title:"Expiry Month",key:"cardExpMonth",type:"string",placeholder:"MM",minimum:1,maximum:1,className:"xs4",defaultValues:[i]}),o.fields.push({title:"Expiry Year",key:"cardExpYear",type:"string",placeholder:"YYYY",minimum:1,maximum:1,className:"xs4",defaultValues:[n]}),o.fields.push({title:"CVN",key:"cardCVC",type:"string",minimum:1,maximum:1,className:"xs4",defaultValues:[r]}),a.push(o),a},fields:function(){var t=[],e={key:"_name",type:"group",fields:[],className:"layout row wrap"};this.askFirstName&&e.fields.push({key:"_firstName",minimum:this.requireFirstName?1:0,maximum:1,title:"First Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:this.defaultUserValue("firstName")}),this.askLastName&&e.fields.push({key:"_lastName",minimum:this.requireLastName?1:0,maximum:1,title:"Last Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:this.defaultUserValue("lastName")}),e.fields&&e.fields.length&&t.push(e),this.askGender&&t.push({key:"_gender",minimum:this.requireGender?1:0,maximum:1,title:"Gender",directive:"select",type:"string",options:[{name:"Male",value:"male"},{name:"Female",value:"female"}]}),this.askEmail&&t.push({key:"_email",minimum:this.requireEmail?1:0,maximum:1,title:"Email Address",directive:"input",type:"email",defaultValues:this.defaultUserValue("email")}),this.askPhone&&t.push({key:"_phoneNumber",minimum:this.requirePhone?1:0,maximum:1,title:"Phone Number",directive:"input",type:"string",defaultValues:this.defaultUserValue("phoneNumber")}),this.askDOB&&t.push({key:"_dob",minimum:this.requireDOB?1:0,maximum:1,title:"Date of Birth",directive:"dob-select",type:"date"});var i=this.definition.fields;return t=t.concat(i)},identifier:function(){return this.formOptions.identifier},allowAnonymous:function(){return this.formOptions.allowAnonymous||!1},disableDefaultFields:function(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields:function(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName:function(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName:function(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender:function(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB:function(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail:function(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone:function(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName:function(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName:function(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender:function(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB:function(){return this.formOptions.requireDOB},requireEmail:function(){if(this.formOptions.requireEmail)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"email":return!0;case"either":default:return this.requireDefaultContactFields&&!(this.dataModel._phone&&this.dataModel._phone.length)}},requirePhone:function(){if(this.formOptions.requirePhone)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"phone":return!0;case"either":default:return this.requireDefaultContactFields&&!(this.dataModel._email&&this.dataModel._email.length)}},definedName:function(){return this.definition.definitionName},displayTitle:function(){return this.title?this.title:"".concat(this.definition.title)},allowed:function(){if("public"==this.definition.privacy)return!0;var t=this.$fluro.access.can("create",this.definedName,"interaction"),e=this.$fluro.access.can("submit",this.definedName,"interaction");return t||e},user:function(){return console.log("FIND USER MATCH",d.a.$store),d.a.$store.state.fluro.user},application:function(){return d.a.$store.state.fluro.application}},components:{FluroContentFormField:s.default,FluroContentForm:o.default},methods:{createEwayToken:function(t){this.paymentIntegration.publicDetails.publicKey;var e={};return e.name=this.dataModel.cardName,e.number=this.dataModel.cardNumber,e.cvc=this.dataModel.cardCVC,e.exp_month=String(this.dataModel.cardExpMonth),e.exp_year=String(this.dataModel.cardExpYear).slice(-2),e.exp_month.length<1&&(e.exp_month="0"+e.exp_month),this.debugMode?t({message:"EWay can not be used with sandbox testing keys. Please add an additional testing integration."}):t(null,e)},createStripeToken:function(t){var e,i=this.paymentIntegration.publicDetails.livePublicKey,n=this.paymentIntegration.publicDetails.testPublicKey;if(!(e=this.debugMode?n:i))return t(null,{error:{message:this.debugMode?"Integration Setup Error: No test keys found.":"Integration Setup Error: No live keys found."}});Stripe.setPublishableKey(e);var r={};return r.name=this.dataModel.cardName,r.number=this.dataModel.cardNumber,r.cvc=this.dataModel.cardCVC,r.exp_month=this.dataModel.cardExpMonth,r.exp_year=this.dataModel.cardExpYear,Stripe.card.createToken(r,t)},debugLog:function(){console.log(c.a.map(arguments,(function(t){return t})).join(" "))},evaluate:function(t,e){var i,n;try{i=f.default.parse(t),n=f.default.eval(i,e)}catch(t){}finally{return n}},initializePayment:function(){var t=this,e=t.paymentIntegration;if(t.paymentReady=!1,e)switch(e.module){case"stripe":m("https://js.stripe.com/v2/",(function(){console.log("Stripe has been included on page"),t.paymentReady=!0}));break;case"eway":m("https://secure.ewaypayments.com/scripts/eCrypt.js",(function(){console.log("Eway has been included on page"),t.paymentReady=!0}))}},modelChanged:function(){this.$emit("input",this.dataModel)},validate:function(){var t=this.$refs.form;if(!t)return[];var e=[];if(e=e.concat(t.errorMessages),this.showPaymentForm){var i=this.$refs.payment;i&&i.errorMessages&&(e=e.concat(i.errorMessages))}this.errorMessages=e},validateAllFields:function(){this.$refs.form.touch();var t=this.$refs.payment;t&&t.touch(),this.validate()},defaultUserValue:function(t){if(this.prefill)return this.user?c.a.compact([c.a.get(this.user,t)]):null},reset:function(){r?this.dataModel={}:(r=!0,this.dataModel=JSON.parse(JSON.stringify(this.value))),this.result=null,this.state="ready",this.modelChanged(),this.$emit("reset")},submit:function(){var t=this;if(t.validateAllFields(),!t.hasErrors){t.state="processing";var e,i=JSON.parse(JSON.stringify(t.dataModel));delete i.cardName,delete i.cardNumber,delete i.cardExpYear,delete i.cardExpMonth,delete i.cardCVC,e=i;var n={interaction:i=function t(e){return c.a.forOwn(e,(function(i,n){(c.a.isUndefined(i)||c.a.isNull(i)||c.a.isNaN(i)||c.a.isString(i)&&c.a.isEmpty(i)||c.a.isObject(i)&&c.a.isEmpty(t(i)))&&delete e[n]})),c.a.isArray(e)&&c.a.pull(e,void 0),e}(c.a.cloneDeep(e)),event:t.$fluro.utils.getStringID(t.linkedEvent),process:t.$fluro.utils.getStringID(t.linkedProcess)};if(a("firstName"),a("lastName"),a("email"),a("phoneNumber"),a("dob"),a("gender"),n.title||(n.title=this.definition.title),!t.showPaymentForm)return o();var r={amount:t.total,email:i.receiptEmail,integration:t.$fluro.utils.getStringID(t.paymentIntegration)};switch(t.paymentIntegration.module){case"eway":return window.eCrypt?t.createEwayToken((function(e,i){return e?(t.serverErrors=t.$fluro.utils.errorMessage(e),t.$fluro.error(t.serverErrors),t.state="error",void t.$emit("error",e)):(r.details=i,o(r))})):(t.serverErrors="ERROR: Eway is selected for payment but the eCrypt script has not been included in this application visit https://eway.io/api-v3/#encrypt-function for more information",t.$fluro.error(t.serverErrors),t.state="error",void t.$emit("error",err));case"stripe":return t.createStripeToken((function(e,i){var n=e.error||i.error;if(!n)return console.log("FORM -> Stripe tokenized",e,i),r.details=i,o(r);console.log("FORM -> Stripe token error",e,i),t.serverErrors=n.message,t.$fluro.error(t.serverErrors),t.state="error",t.$emit("error",n)}))}}function a(e){var i=c.a.get(t.dataModel,"_".concat(e));i&&c.a.set(n,"contact.".concat(e),i)}function o(e){e&&(n.payment=e,console.log("SUBMIT REQUEST",n));var i=t.submissionConfig;i.params={definition:t.$fluro.utils.getStringID(t.definition),process:t.$fluro.utils.getStringID(t.linkedProcess)},t.$fluro.content.submitInteraction(t.definedName,n,i).then((function(e){t.state="success",t.dataModel={data:{}},t.result=e,t.$emit("success",e)}),(function(e){var i=t.$fluro.utils.errorMessage(e);t.$fluro.error(e),t.serverErrors=i,t.state="error",t.$emit("error",e),console.log("SWITCH STATE TO",e,t)}))}}}},v=(i(726),i(0)),g=Object(v.a)(h,n,[],!1,null,"719f0f95",null);g.options.__file="src/components/form/FluroInteractionForm.vue";e.default=g.exports},,,,,,function(t,e){t.exports=vue-color},,,,function(t,e){t.exports=vue2-ace-editor},,,,,function(t,e){t.exports=signature_pad},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(177);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".avatar[data-v-662e0ae5]{display:inline-block;width:24px;vertical-align:middle}.avatar[left][data-v-662e0ae5]{margin-right:10px}.avatar[right][data-v-662e0ae5]{margin-left:10px}.avatar[md][data-v-662e0ae5]{width:34px}.avatar[lg][data-v-662e0ae5]{width:48px}.avatar[xl][data-v-662e0ae5]{width:64px}.avatar-inner[data-v-662e0ae5]{max-width:100%;padding-bottom:100%;position:relative;overflow:hidden;height:0;border-radius:50%;background-color:rgba(34,34,34,0.1);background-position:center center;background-size:cover;background-repeat:no-repeat}\n",""])},function(t,e,i){"use strict";var n=i(178);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-avatar-update[data-v-a8db34e4]{background-color:rgba(0,0,0,0.5);background-position:center;background-size:cover;display:block;border-radius:100%;position:relative;width:auto;height:0;padding-bottom:100%;overflow:hidden;text-align:center;border:2px solid #eee}.fluro-avatar-update .overlay[data-v-a8db34e4]{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;background:rgba(0,0,0,0.5);color:#fff;display:flex;justify-content:center;align-items:center;font-weight:bold;opacity:0;text-align:center}.fluro-avatar-update.processing .overlay[data-v-a8db34e4],.fluro-avatar-update:hover .overlay[data-v-a8db34e4]{opacity:1}.fluro-avatar-update input[data-v-a8db34e4]{opacity:0;position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%}\n",""])},function(t,e,i){"use strict";var n=i(179);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-field-editor[data-v-748156d1]{min-height:50vh}.state-link[data-v-748156d1]{margin-left:5px;display:inline-block;border-radius:3px;padding:0 5px;line-height:16px;height:16px;cursor:pointer;letter-spacing:0;text-transform:none}.state-link[data-v-748156d1]:hover{background:rgba(0,0,0,0.1)}.fields-tree[data-v-748156d1]{min-width:300px;background:#eee}.fields-tree label[data-v-748156d1]{text-transform:uppercase;font-weight:500;letter-spacing:0.03em;font-size:0.8em;margin-bottom:5px}.placeholder[data-v-748156d1]{background:#eee}.pseudo-field[data-v-748156d1]{padding:5px;border-radius:3px;background:#fff;border:1px solid rgba(0,0,0,0.1);margin:0 0 4px;cursor:pointer;font-weight:500}.pseudo-field.active[data-v-748156d1]{background:blue;color:#fff}.default-field[data-v-748156d1]{border:1px solid rgba(0,0,0,0.1);padding:5px;margin-bottom:2px;border-radius:3px;background:#eee;font-weight:500;cursor:pointer}.default-field[data-v-748156d1]:hover{background:#fafafa}.palette-title[data-v-748156d1]{text-transform:uppercase;letter-spacing:0.05em;font-weight:500;padding:8px;font-size:10px;background:#eee;color:rgba(0,0,0,0.5)}.mini-switch[data-v-748156d1]{border-radius:100px;line-height:10px;text-transform:uppercase;height:19px;font-size:9px;width:50px;font-weight:500;position:relative;line-height:19px;overflow:hidden;background:#eee;border:1px solid #ddd;color:#ddd;background:rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px rgba(0,0,0,0.1)}.mini-switch .on[data-v-748156d1],.mini-switch .off[data-v-748156d1]{position:absolute;width:100%;height:100%;left:0;top:0;right:0;bottom:0;text-align:center}.mini-switch .on[data-v-748156d1]{transform:translateX(100%)}.mini-switch .off[data-v-748156d1]{transform:translateX(0)}.mini-switch.active[data-v-748156d1]{background:none;box-shadow:none;color:#999;border:1px solid #999}.mini-switch.active .on[data-v-748156d1]{transform:translateX(0)}.mini-switch.active .off[data-v-748156d1]{transform:translateX(100%)}.preview[data-v-748156d1]{order:1;border-left:3px solid #ddd;border-right:3px solid #ddd;background:#fff;flex:2}.sidebar[data-v-748156d1]{min-width:300px;max-width:380px;flex:1;background:#fafafa;border-right:1px solid #ddd;order:0}.field-options[data-v-748156d1]{order:2;min-width:380px;background:#fafafa}.schema-mode[data-v-748156d1]{min-width:40vw}.schema-mode .preview[data-v-748156d1]{order:2}.schema-mode .sidebar[data-v-748156d1]{order:0}.schema-mode .field-options[data-v-748156d1]{order:1;min-width:40vw}\n",""])},function(t,e,i){"use strict";var n=i(180);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fade-enter-active[data-v-53cb0c7f],.fade-leave-active[data-v-53cb0c7f]{transition:opacity .8s}.fade-enter[data-v-53cb0c7f],.fade-leave-to[data-v-53cb0c7f]{opacity:0}.fluro-image[data-v-53cb0c7f]{overflow:hidden;max-width:100%;position:relative;background-size:100% auto;background-repeat:no-repeat;background-position:center center;color:#fff;flex:1 0 auto}.fluro-image .holder[data-v-53cb0c7f]{display:block;position:absolute;left:0;top:0;right:0;bottom:0;opacity:0}.fluro-image .v-progress-circular[data-v-53cb0c7f]{position:absolute;left:50%;top:50%;transform:translate3d(-50%, -50%, 0)}.fluro-image .spacer[data-v-53cb0c7f]{position:relative}.fluro-image .placeholder[data-v-53cb0c7f]{position:absolute;left:0;right:0;top:0;bottom:0;background-size:100% auto;background-repeat:no-repeat;background-position:center center}.fluro-image[contain][data-v-53cb0c7f],.fluro-image[contain] .placeholder[data-v-53cb0c7f]{background-size:contain}.fluro-image[cover][data-v-53cb0c7f],.fluro-image[cover] .placeholder[data-v-53cb0c7f]{background-size:cover}.fluro-image img[data-v-53cb0c7f]{width:100%;display:block}\n",""])},function(t,e,i){"use strict";var n=i(181);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".infinite-scroll-container[data-v-7186edfc]{position:relative}.bottom-spacer[data-v-7186edfc]{pointer-events:none;height:1px;background:#ff0066;position:absolute;bottom:0;left:0;right:0;opacity:0.1}.top-spacer[data-v-7186edfc]{pointer-events:none;height:1px;background:#ff0066;position:absolute;top:0;left:0;right:0;opacity:0.1}\n",""])},function(t,e,i){"use strict";var n=i(182);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".footer-stats[data-v-1086cec5]{padding:5px 10px;font-size:0.9em}.pager[data-v-1086cec5]{text-align:center;padding:15px 0}.pager .v-pagination-item[data-v-1086cec5]{font-weight:700}\n",""])},,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(183);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-video{overflow:hidden;width:100%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.fluro-video .fluro-video-embed{position:absolute;width:100%;height:100%}.fluro-video .fluro-video-embed video,.fluro-video .fluro-video-embed iframe{width:100% !important;height:100% !important;left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;position:absolute !important;display:block !important}.fluro-video img{width:100%;display:block}\n",""])},function(t,e,i){"use strict";var n=i(184);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-video-thumbnail{overflow:hidden;width:100%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.fluro-video-thumbnail img{width:100%;display:block}\n",""])},function(t,e,i){"use strict";var n=i(185);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".modal-outer{position:fixed;display:flex;width:100%;height:100%;left:0;top:0;right:0;bottom:0;z-index:999999;justify-content:center;padding:5%}.modal-outer.center{align-items:center}.modal-outer .blanket{position:absolute;background:rgba(51,55,62,0.5);left:0;right:0;top:0;bottom:0}.modal-outer .modal-inner{display:flex;max-height:100% !important;max-width:100% !important;overflow:hidden;border-radius:5px;box-shadow:0 4px 15px rgba(0,0,0,0.2);background:#fff;z-index:99999999}@media (max-width: 768px){.modal-outer .modal-inner{min-width:0;width:100%}}.modal-outer.fixed{padding:25px;display:flex;justify-content:center}.modal-outer.top{align-items:baseline}@media (min-width: 769px){.modal-outer.modal-size-lg .modal-inner{width:95%}.modal-outer.modal-size-sm .modal-inner{width:25%}}.modal-outer.full{background:#ff0066;padding:0}.modal-outer.full .modal-inner{left:0;right:0;bottom:0;top:0;width:100%;height:100%;border-radius:0}@media (max-width: 768px){.modal-outer{display:flex !important;padding:10px 10px 60px 10px !important}.modal-outer .modal-inner{display:flex !important;flex:1 !important;max-height:100% !important}}\n",""])},function(t,e,i){"use strict";var n=i(186);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-inline-edit .inline-hide{height:0 !important;width:0 !important;overflow:hidden !important;display:block !important}\n",""])},function(t,e,i){"use strict";var n=i(187);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-confirm-button .confirm-hide{height:0 !important;width:0 !important;overflow:hidden !important;display:block !important}\n",""])},,,,function(t,e,i){"use strict";var n=i(188);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".muted[data-v-2add775e]{font-weight:100;opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(189);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".statbox[data-v-471de0f6]{padding:15px}label[data-v-471de0f6]{font-weight:bold;margin-bottom:10px;display:block}.value[data-v-471de0f6]{font-size:3em;font-weight:800;line-height:1em}.value sup[data-v-471de0f6]{font-weight:normal;opacity:0.5;font-size:0.3em}.subtitle[data-v-471de0f6]{font-size:0.9em}\n",""])},function(t,e,i){"use strict";var n=i(190);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".chart-widget .chart-header[data-v-ae64df28]{padding:10px 15px;background:#f5f5f5;border-bottom:1px solid rgba(0,0,0,0.1)}.chart-widget .chart-header .chart-title[data-v-ae64df28]{font-weight:500;line-height:36px;font-size:1.2em;display:flex;align-items:center}.chart-widget .chart-header .v-btn[data-v-ae64df28]{margin:10px}.chart-widget .chart-header .v-btn[data-v-ae64df28] .v-btn__content{padding:10px 0;height:36px}.chart-widget .chart-wrapper-outer[data-v-ae64df28]{background:#eee;position:relative;border-bottom:1px solid #ddd}.chart-widget .chart-wrapper-outer .chart-wrapper-empty[data-v-ae64df28]{display:none;position:absolute;left:0;top:0;right:0;bottom:0;flex:1;text-align:center;color:rgba(0,0,0,0.5);justify-content:center;align-items:center}.chart-widget .chart-wrapper-outer .chart-wrapper-inner[data-v-ae64df28]{background:#fff}.chart-widget .chart-wrapper-outer.empty .chart-wrapper-empty[data-v-ae64df28]{display:flex}.chart-widget .chart-wrapper-outer.empty .chart-wrapper-inner[data-v-ae64df28]{opacity:0}.chart-widget[data-v-ae64df28] tr.inactive td{background:#efefef;color:#999;font-style:italic;text-decoration:line-through;font-size:0.8em;padding-top:0px;padding-bottom:0px}.chart-widget[data-v-ae64df28] .v-toolbar{height:auto !important}.chart-widget[data-v-ae64df28] .v-toolbar .v-toolbar__content{height:auto !important;padding:5px 15px}.chart-widget[data-v-ae64df28] .chart-tooltip{padding:15px}\n",""])},,function(t,e,i){"use strict";var n=i(191);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".v-btn .checkbox-outer[data-v-37aa2a9d]{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:18px;height:18px;display:inline-block;padding:0;margin:0;line-height:18px;text-align:center;font-size:12px}.v-btn .checkbox-outer svg[data-v-37aa2a9d]{opacity:0}.v-btn .checkbox-outer.some[data-v-37aa2a9d]{color:#f0974e}.v-btn .checkbox-outer.some svg[data-v-37aa2a9d]{opacity:1}.v-btn .checkbox-outer.active[data-v-37aa2a9d]{background:green;color:#fff;border-color:green !important}.v-btn .checkbox-outer.active svg[data-v-37aa2a9d]{opacity:1}.v-btn:hover .checkbox-outer[data-v-37aa2a9d]{border:2px solid rgba(0,0,0,0.5)}.v-btn:hover .checkbox-outer svg[data-v-37aa2a9d]{opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(192);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".v-btn .checkbox-outer[data-v-598b9d40]{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:18px;height:18px;display:inline-block;padding:0;margin:0;line-height:18px;text-align:center;font-size:12px}.v-btn .checkbox-outer svg[data-v-598b9d40]{opacity:0}.v-btn .checkbox-outer.active[data-v-598b9d40]{background:green;color:#fff;border-color:green !important}.v-btn .checkbox-outer.active svg[data-v-598b9d40]{opacity:1}.v-btn:hover .checkbox-outer[data-v-598b9d40]{border:2px solid rgba(0,0,0,0.5)}.v-btn:hover .checkbox-outer svg[data-v-598b9d40]{opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(193);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".number-cell-text[data-v-2ff72b1a]{text-align:center;opacity:0.8;font-size:0.9em}\n",""])},function(t,e,i){"use strict";var n=i(194);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".boolean-cell.true{color:green}.boolean-cell.false{opacity:0.3}\n",""])},function(t,e,i){"use strict";var n=i(195);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"span[data-v-25ee0c3f]{white-space:nowrap}\n",""])},function(t,e,i){"use strict";var n=i(196);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".wrap-limit[data-v-5349a862]{max-width:500px;overflow:hidden;white-space:pre-line;text-overflow:ellipsis}\n",""])},function(t,e,i){"use strict";var n=i(197);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-table-wrapper{position:relative;flex:1;display:flex;flex-direction:column;overflow:hidden;height:100%}.fluro-table-wrapper .v-progress-linear{position:absolute;top:0;left:0;right:0;margin:0;padding:0}.fluro-table-wrapper .thumbnail{background-size:cover;background-position:center;width:50px;height:30px;border-radius:3px;display:block}.fluro-table-wrapper .fluro-table-scroll{position:relative;width:100%;z-index:1;margin:auto;overflow:auto;height:100%;overscroll-behavior-x:none !important;overscroll-behavior-y:none !important;overscroll-behavior:none !important}.fluro-table-wrapper .fluro-table-scroll table{width:100%;margin:auto;border-collapse:separate;border-spacing:0}.fluro-table-wrapper .fluro-table-scroll.loading table{opacity:0.5}.fluro-table-wrapper .fluro-table-scroll th,.fluro-table-wrapper .fluro-table-scroll td{padding:8px 5px;border-bottom:1px solid #e8edf1;vertical-align:middle;white-space:nowrap;position:relative}.fluro-table-wrapper .fluro-table-scroll th.shrink,.fluro-table-wrapper .fluro-table-scroll td.shrink{width:1px}.fluro-table-wrapper .fluro-table-scroll th.sorting{background:#f6f6f6 !important}.fluro-table-wrapper .fluro-table-scroll .action-buttons{opacity:0.3;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll tr{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr th.first,.fluro-table-wrapper .fluro-table-scroll tr th.last,.fluro-table-wrapper .fluro-table-scroll tr th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr td.first,.fluro-table-wrapper .fluro-table-scroll tr td.last,.fluro-table-wrapper .fluro-table-scroll tr td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr td.sticky-last{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd){background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.sticky-last{background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.sticky-last{color:#888;background:#f4f4f4}.fluro-table-wrapper .fluro-table-scroll tr.selected th.first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.last,.fluro-table-wrapper .fluro-table-scroll tr.selected th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.selected td.first,.fluro-table-wrapper .fluro-table-scroll tr.selected td.last,.fluro-table-wrapper .fluro-table-scroll tr.selected td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.selected td.sticky-last{background-color:#f7f6de !important;color:#846b1f;border-color:#f2eac9 !important}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.sticky-first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.sticky-last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.sticky-first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.sticky-last{background-color:#f4fafa;color:#055d52}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover .action-buttons{opacity:1}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker{background:rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker th{background:none !important;color:rgba(0,0,0,0.5) !important;text-transform:uppercase;font-size:0.8em;font-weight:600;letter-spacing:0.03em;padding:4px 5px}.fluro-table-wrapper .fluro-table-scroll thead th,.fluro-table-wrapper .fluro-table-scroll thead td{padding:5px 5px;position:-webkit-sticky;position:sticky;top:0;background:#fff !important;z-index:4;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:0.05em;line-height:20px;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th.sortable .sort-icon{position:absolute;right:2px}.fluro-table-wrapper .fluro-table-scroll tfoot{position:-webkit-sticky;position:sticky;bottom:0}.fluro-table-wrapper .fluro-table-scroll tfoot,.fluro-table-wrapper .fluro-table-scroll tfoot th,.fluro-table-wrapper .fluro-table-scroll tfoot td{position:-webkit-sticky;position:sticky;bottom:0;background:#fff;z-index:4}.fluro-table-wrapper .fluro-table-scroll tfoot th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll th.first,.fluro-table-wrapper .fluro-table-scroll th.sticky-first,.fluro-table-wrapper .fluro-table-scroll td.first,.fluro-table-wrapper .fluro-table-scroll td.sticky-first{position:-webkit-sticky;position:sticky;left:0;z-index:2}.fluro-table-wrapper .fluro-table-scroll th.last,.fluro-table-wrapper .fluro-table-scroll th.sticky-last,.fluro-table-wrapper .fluro-table-scroll td.last,.fluro-table-wrapper .fluro-table-scroll td.sticky-last{position:-webkit-sticky;position:sticky;right:0;z-index:2;text-align:right}.fluro-table-wrapper .fluro-table-scroll thead th.first,.fluro-table-wrapper .fluro-table-scroll thead th.sticky-first,.fluro-table-wrapper .fluro-table-scroll thead th.last,.fluro-table-wrapper .fluro-table-scroll thead th.sticky-last,.fluro-table-wrapper .fluro-table-scroll thead td.first,.fluro-table-wrapper .fluro-table-scroll thead td.sticky-first,.fluro-table-wrapper .fluro-table-scroll thead td.last,.fluro-table-wrapper .fluro-table-scroll thead td.sticky-last{z-index:5}.fluro-table-wrapper .footer-stats{padding:5px 10px;font-size:0.9em}.fluro-table-wrapper .flex-center{flex:1;display:flex;text-align:center;justify-content:center;align-items:center}.fluro-table-wrapper th.checkbox-cell,.fluro-table-wrapper td.checkbox-cell{text-align:center;padding-left:5px !important;padding-right:5px !important}\n",""])},function(t,e,i){"use strict";var n=i(198);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".search-input{position:relative;border-radius:3px;border:1px solid #ccc;overflow:hidden}.search-input.active{border-color:blue}.search-input input{line-height:35px;height:35px;display:block;width:100%;padding:0 45px 0 10px;border:none;background:none}.search-input input:focus{outline:none;box-shadow:none}.search-input .search-icon{position:absolute;top:0;right:0;bottom:0;width:35px;height:35px;text-align:center;line-height:35px}\n",""])},function(t,e,i){"use strict";var n=i(200);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".columnselected{background:#eee;color:#aaa}.fluro-table-wrapper{position:relative;flex:1;display:flex;flex-direction:column;overflow:hidden;height:100%}.fluro-table-wrapper .select-options{font-size:normal;font-weight:normal;letter-spacing:0;text-transform:none}.fluro-table-wrapper .v-progress-linear{position:absolute;top:0;left:0;right:0;margin:0;padding:0}.fluro-table-wrapper .thumbnail{background-size:cover;background-position:center;width:50px;height:30px;border-radius:3px;display:block}.fluro-table-wrapper .fluro-table-scroll{position:relative;width:100%;z-index:1;margin:auto;overflow:auto;height:100%;overscroll-behavior-x:none !important;overscroll-behavior-y:none !important;overscroll-behavior:none !important}.fluro-table-wrapper .fluro-table-scroll table{width:100%;margin:auto;border-collapse:separate;border-spacing:0}.fluro-table-wrapper .fluro-table-scroll.loading table{opacity:0.5}.fluro-table-wrapper .fluro-table-scroll th,.fluro-table-wrapper .fluro-table-scroll td{padding:8px 7px;border-bottom:1px solid #e8edf1;vertical-align:middle;white-space:nowrap;position:relative}.fluro-table-wrapper .fluro-table-scroll th.shrink,.fluro-table-wrapper .fluro-table-scroll td.shrink{width:1px}.fluro-table-wrapper .fluro-table-scroll th.sorting{background:#f6f6f6 !important}.fluro-table-wrapper .fluro-table-scroll .action-buttons{opacity:0.3;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll tr{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr th.first,.fluro-table-wrapper .fluro-table-scroll tr th.last{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd){background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.last{background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled td,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th.first,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th.last,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund td,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th{color:#888;background:#f4f4f4}.fluro-table-wrapper .fluro-table-scroll tr.state-sent th.first,.fluro-table-wrapper .fluro-table-scroll tr.state-sent th.last,.fluro-table-wrapper .fluro-table-scroll tr.state-sent td,.fluro-table-wrapper .fluro-table-scroll tr.state-sent th{background:#f7f7f7 !important}.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th.first,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th.last,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled td,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th{background:#fff7d3 !important;color:#a76631 !important}.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th{color:#004d00 !important;background:#4dff4d !important}.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th{color:#c00 !important;background:#ffd1d1 !important}.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th.first,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th.last,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending td,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th{color:#009;background:rgba(0,0,255,0.1)}.fluro-table-wrapper .fluro-table-scroll tr.selected th.first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.last,.fluro-table-wrapper .fluro-table-scroll tr.selected td,.fluro-table-wrapper .fluro-table-scroll tr.selected th{background-color:#f7f6de !important;color:#846b1f;border-color:#f2eac9 !important}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.last{background-color:#f4fafa;color:#055d52}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover .action-buttons{opacity:1}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker{background:rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker th{background:none !important;color:rgba(0,0,0,0.5) !important;text-transform:uppercase;font-size:0.8em;font-weight:600;letter-spacing:0.03em;padding:4px 7px}.fluro-table-wrapper .fluro-table-scroll thead th,.fluro-table-wrapper .fluro-table-scroll thead td{padding:5px 7px;position:-webkit-sticky;position:sticky;top:0;background:#fff !important;z-index:4;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:0.05em;line-height:20px;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th{white-space:nowrap;border-left:1px solid rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll thead th.first{border-left:none}.fluro-table-wrapper .fluro-table-scroll thead th .options-icon{opacity:0;position:absolute;right:20px;top:50%;transform:translateY(-50%)}.fluro-table-wrapper .fluro-table-scroll thead th:hover .options-icon{opacity:1}.fluro-table-wrapper .fluro-table-scroll thead th.sorting{padding-right:20px}.fluro-table-wrapper .fluro-table-scroll thead th.sortable .sort-icon{position:absolute;right:2px;top:50%;transform:translateY(-50%)}.fluro-table-wrapper .fluro-table-scroll tfoot{position:-webkit-sticky;position:sticky;bottom:0}.fluro-table-wrapper .fluro-table-scroll tfoot,.fluro-table-wrapper .fluro-table-scroll tfoot th,.fluro-table-wrapper .fluro-table-scroll tfoot td{position:-webkit-sticky;position:sticky;bottom:0;background:#fff;z-index:4}.fluro-table-wrapper .fluro-table-scroll tfoot th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll th.first{position:-webkit-sticky;position:sticky;left:0;z-index:2}.fluro-table-wrapper .fluro-table-scroll th.last{position:-webkit-sticky;position:sticky;right:0;z-index:2;text-align:right}.fluro-table-wrapper .fluro-table-scroll thead th.first,.fluro-table-wrapper .fluro-table-scroll tfoot th.first,.fluro-table-wrapper .fluro-table-scroll thead th.last,.fluro-table-wrapper .fluro-table-scroll tfoot th.last{z-index:5}.fluro-table-wrapper .footer-stats{padding:5px 10px;font-size:0.9em}.fluro-table-wrapper .pagenumber-select{display:inline-block;position:relative}.fluro-table-wrapper .pagenumber-select select{opacity:0;width:100%;height:100%;position:absolute;appearance:none;display:block;left:0;right:0;bottom:0;top:0}.fluro-table-wrapper .flex-center{flex:1;display:flex;text-align:center;justify-content:center;align-items:center}.fluro-table-wrapper th.checkbox-cell,.fluro-table-wrapper td.checkbox-cell{text-align:center;padding-left:5px !important;padding-right:5px !important}\n",""])},function(t,e,i){"use strict";var n=i(201);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".clickable{cursor:pointer}.clickable:hover{opacity:0.8}\n",""])},function(t,e,i){"use strict";var n=i(202);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".title-cell{display:flex;align-items:center}.title-cell .grow{flex:1}.title-cell .status-label{flex:none}.title-cell .summary{font-size:0.9em;opacity:0.5;max-width:500px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}\n",""])},function(t,e,i){"use strict";var n=i(203);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".image-cell[data-v-b9ba1978]{text-align:center;width:50px;margin:auto}.image-cell .icon-avatar[data-v-b9ba1978]{width:30px;height:30px;background:rgba(0,0,0,0.05);text-align:center;line-height:30px;display:inline-block}\n",""])},function(t,e,i){"use strict";var n=i(204);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"span[data-v-07ed431b]{border-radius:100%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center}.payment-success[data-v-07ed431b]{color:#51d432}.payment-failed[data-v-07ed431b]{color:#d33131}.payment-archived[data-v-07ed431b],.payment-manual[data-v-07ed431b]{color:rgba(0,0,0,0.3)}\n",""])},function(t,e,i){"use strict";var n=i(205);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".symbol[data-v-645d33bc]{opacity:0.4}\n",""])},function(t,e,i){"use strict";var n=i(206);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"div[data-v-9637fce4]{font-size:0.9em;opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(207);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"div[data-v-782190a5]{font-size:0.9em;opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(208);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"div[data-v-121c181e]{font-size:0.9em;opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(209);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".contact-timeline .timeline-wrapper{max-width:960px;margin:auto}.log-message{font-size:0.8em;opacity:0.5;padding:5px;font-style:italic}.timeline-entry{padding:5px;position:relative;overflow:hidden;text-overflow:ellipsis}.timeline-entry .summary{font-size:0.8em;opacity:0.5}.timeline-icon{text-align:center;width:34px;line-height:34px;height:34px;background:rgba(0,0,0,0.1);border-radius:100%;display:block}\n",""])},function(t,e,i){"use strict";var n=i(210);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".card{background:#fff;border-radius:5px;margin-bottom:10px;overflow:hidden}\n",""])},function(t,e,i){"use strict";var n=i(211);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".sheet-panel.archived{opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(212);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var n=i(213);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".thumbnail[data-v-faa00218]{width:50px;height:50px;background-size:contain;background-position:center center;background-repeat:no-repeat;display:block;border-radius:4px;margin-right:10px}\n",""])},function(t,e,i){"use strict";var n=i(214);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".sheet-panel.archived{opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(215);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".cell[data-v-2484e7cb]{font-size:0.9em;text-align:center}\n",""])},function(t,e,i){"use strict";var n=i(216);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".toggle-items{border:1px solid rgba(0,0,0,0.1);border-radius:3px}.toggle-item{font-size:0.9em;padding:10px;background:#fff;border-bottom:1px solid rgba(0,0,0,0.1);cursor:pointer;display:flex}.toggle-item .toggle-item-content{flex:1}.toggle-item:hover{background:#fafafa}.toggle-item:last-child{border-bottom:none;border-radius-bottom-left:3px;border-radius-bottom-right:3px}.toggle-item:first-child{border-radius-top-left:3px;border-radius-top-right:3px}.toggle-item .toggle-switch{flex:none;background:#E2E7EE;border-radius:50px;height:23px;line-height:23px;min-width:50px;position:relative;display:block;overflow:hidden;text-align:center;letter-spacing:0.03em;font-size:0.8em;font-weight:600;text-transform:uppercase;box-shadow:inset 0px 2px 3px rgba(0,0,0,0.2);font-style:normal;border-bottom:1px solid rgba(255,255,255,0.5)}.toggle-item .toggle-switch .off{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50px;transform:translateX(-100%);transition:all 0.5s;pointer-events:none;opacity:0.5}.toggle-item .toggle-switch .on{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50px;background:green;color:#fff;transform:translateX(0);transition:all 0.5s;pointer-events:none;box-shadow:inset 0px 4px 5px rgba(0,0,0,0.1)}.toggle-item.inactive{font-style:italic;color:rgba(0,0,0,0.3);background:rgba(0,0,0,0.05)}.toggle-item.inactive .toggle-switch .off{transform:translateX(0)}.toggle-item.inactive .toggle-switch .on{transform:translateX(100%)}\n",""])},function(t,e,i){"use strict";var n=i(217);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-item-image[data-v-359edbd2]{text-align:center;width:50px;margin:auto}.fluro-item-image .thumbnail[data-v-359edbd2]{width:50px;height:50px;display:block;background-color:rgba(0,0,0,0.1);background-repeat:no-repeat;background-size:contain;background-position:center center;border-radius:5px}.fluro-item-image .icon-avatar[data-v-359edbd2]{width:30px;height:30px;background-color:rgba(0,0,0,0.1);text-align:center;line-height:30px;display:inline-block}\n",""])},function(t,e,i){"use strict";var n=i(218);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-options-dialog{min-width:300px;text-align:center}.fluro-options-dialog .detail-button{border:1px solid #ddd;background:#fff;padding:10px;border-radius:3px;text-align:left;margin-bottom:2px;cursor:pointer}.fluro-options-dialog .detail-button:hover{background:#fafafa;border-color:blue}.fluro-options-dialog .v-list__tile__title{font-size:0.9em;font-weight:500}\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(219);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".vc-chrome{width:auto !important}.color-swatch{cursor:pointer;border:1px solid #ccc;border-radius:5px;overflow:hidden;background:conic-gradient(#fafafa 0deg, #fafafa 90deg, #ccc 90deg, #ccc 180deg, #fafafa 180deg, #fafafa 270deg, #ccc 270deg, #ccc 360deg) 0 0/25% 25%}.color-swatch .swatch{display:block;width:100%;padding:10px;color:#fff;font-weight:500;text-align:center}.color-swatch .swatch span{background:rgba(0,0,0,0.2);border-radius:5px;padding:3px 10px;line-height:20px;font-size:14px;display:inline-block}.fluro-content-form-field .same-line{padding-top:0 !important;padding-bottom:0 !important}.fluro-content-form-field.is-context{border-radius:5px;outline:1px dashed rgba(0,0,255,0.5);background:rgba(0,0,255,0.1)}.fluro-content-form-field .multi-input-row{display:flex;padding:5px 10px;align-items:center;border-bottom:1px solid rgba(0,0,0,0.1);background:#fff;border-radius:5px;margin-bottom:4px}.fluro-content-form-field .multi-input-row svg,.fluro-content-form-field .multi-input-row span{opacity:0;cursor:pointer}.fluro-content-form-field .multi-input-row:hover svg,.fluro-content-form-field .multi-input-row:hover span{opacity:0.5}.fluro-content-form-field .multi-input-row span{font-style:italic;font-size:0.8em}.fluro-content-form-field .file-drop{display:block;position:relative;border:1px dashed rgba(0,0,0,0.2);background:rgba(0,0,0,0.05);padding:10px;border-radius:10px;text-align:center;min-height:60px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:0.8;font-style:italic;color:rgba(0,0,0,0.5);margin-bottom:5px}.fluro-content-form-field .file-drop:hover,.fluro-content-form-field .file-drop:focus,.fluro-content-form-field .file-drop:active{background:#fff}.fluro-content-form-field .file-drop input{display:block;left:0;right:0;bottom:0;top:0;opacity:0;width:100%;height:100%;position:absolute;cursor:pointer}.fluro-content-form-field .file-items{margin-bottom:15px}.fluro-content-form-field .file-items .file-item{position:relative;padding:5px 5px 5px 15px;border:1px solid rgba(0,0,0,0.2);border-bottom:none;background:#fff;font-size:0.9em}.fluro-content-form-field .file-items .file-item:first-child{border-radius:5px 5px 0 0}.fluro-content-form-field .file-items .file-item:last-child{border-bottom:1px solid rgba(0,0,0,0.2);border-radius:0 0 5px 5px}.fluro-content-form-field .vertical-center{display:flex;align-items:center;min-height:36px}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input,.fluro-content-form-field.fluro-content-form-field-group.multiple-input{margin:25px 0}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input.multiple-input-values-0,.fluro-content-form-field.fluro-content-form-field-group.multiple-input.multiple-input-values-0{margin:0}.fluro-content-form-field .no-flex>.v-input__control>.v-input__slot{display:block;margin:0}.fluro-content-form-field .v-sheet{margin-bottom:15px}.fluro-content-form-field .v-toolbar__content{height:40px !important;padding-right:5px}.fluro-content-form-field .v-toolbar__title{letter-spacing:-0.03em}.fluro-content-form-field .fluro-editor .fluro-editor-textarea>div{min-height:200px}.fluro-content-form-field .faint .v-label{font-weight:400 !important;opacity:0.5;font-style:italic}.fluro-content-form-field .terms{padding:15px 15px;background:rgba(0,0,0,0.05);border-radius:3px;margin-top:16px}.fluro-content-form-field .terms.has-error{background:rgba(255,82,82,0.05)}.fluro-content-form-field .terms>.v-input{margin-top:0 !important}.fluro-content-form-field .terms .conditions{margin-top:10px;font-size:0.9em;opacity:0.8;font-style:italic}.fluro-content-form-field.right-messages /deep/ .v-text-field__details{text-align:right}\n",""])},function(t,e,i){"use strict";var n=i(220);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var n=i(221);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-prompt-dialog{min-width:300px;text-align:center}.fluro-prompt-dialog .v-list__tile__title{font-size:0.9em;font-weight:500}\n",""])},function(t,e,i){"use strict";var n=i(222);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-confirm-dialog{text-align:center}@media (min-width: 768px){.fluro-confirm-dialog{width:100%;min-width:500px}}\n",""])},function(t,e,i){"use strict";var n=i(223);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".realm-bar[data-v-4a6cff45]{width:5px;position:absolute;left:0;top:0;bottom:0;height:100%;background:rgba(0,0,0,0.1)}\n",""])},function(t,e,i){"use strict";var n=i(224);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-list-item[data-v-e21c3d46]{display:flex;overflow:hidden;position:relative;background:#fff;user-select:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}.fluro-list-item .item-actions[data-v-e21c3d46]{opacity:0}.fluro-list-item .item-actions.active[data-v-e21c3d46]{opacity:1}.fluro-list-item:hover .item-actions[data-v-e21c3d46]{opacity:1}@media (max-width: 768px){.fluro-list-item .item-actions[data-v-e21c3d46]{opacity:1}}.fluro-list-item[data-v-e21c3d46]:last-of-type{border-bottom:none}.fluro-list-item.bordered[data-v-e21c3d46],.fluro-list-item[bordered][data-v-e21c3d46]{border-top:1px solid rgba(0,0,0,0.1);border-left:1px solid rgba(0,0,0,0.1);border-right:1px solid rgba(0,0,0,0.1)}.fluro-list-item.bordered[data-v-e21c3d46]:first-of-type,.fluro-list-item[bordered][data-v-e21c3d46]:first-of-type{border-top-left-radius:3px;border-top-right-radius:3px}.fluro-list-item.bordered[data-v-e21c3d46]:last-of-type,.fluro-list-item[bordered][data-v-e21c3d46]:last-of-type{border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-bottom:1px solid rgba(0,0,0,0.1)}.fluro-list-item .realm-bar[data-v-e21c3d46]{width:5px;position:absolute;left:0;top:0;bottom:0}.fluro-list-item .handle[data-v-e21c3d46]{flex:none;display:flex;align-items:center;justify-content:center;padding:0 5px;text-align:center;line-height:50px;opacity:0.3}.fluro-list-item .handle[data-v-e21c3d46]:hover{opacity:1}.fluro-list-item .item-icon[data-v-e21c3d46]{flex:none;text-align:center;padding:5px;width:50px;display:flex;justify-content:center;align-items:center}.fluro-list-item .item-icon.image[data-v-e21c3d46]{padding:0 10px}.fluro-list-item .item-text[data-v-e21c3d46]{flex:1;align-items:center;padding:8px 15px;color:inherit;display:flex;text-decoration:none}.fluro-list-item .item-text .item-subtitle[data-v-e21c3d46]{font-size:0.8em;opacity:0.5}.fluro-list-item .item-actions[data-v-e21c3d46]{flex:none;padding:5px;display:flex;align-items:center}.fluro-list-item .item-actions .v-btn[data-v-e21c3d46]{margin:0}\n",""])},function(t,e,i){"use strict";var n=i(225);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".timeline-wrapper[data-v-60c1fbfc]{padding:25px}.year[data-v-60c1fbfc]{border-left:1px solid rgba(0,0,0,0.1)}.year-label[data-v-60c1fbfc]{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.4em;background:rgba(0,0,0,0.1)}.month-label[data-v-60c1fbfc]{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.2em;margin:10px 0;color:rgba(0,0,0,0.8)}.day[data-v-60c1fbfc]{display:flex;margin-top:10px}.day-label[data-v-60c1fbfc]{font-weight:600;font-size:10px;text-transform:uppercase;padding:5px 10px;border-top:1px solid rgba(0,0,0,0.1);width:80px;white-space:nowrap;color:rgba(0,0,0,0.3)}.entries[data-v-60c1fbfc]{position:relative;top:-10px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,0.1);flex:1;margin-bottom:15px;overflow:hidden}\n",""])},function(t,e,i){"use strict";var n=i(226);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".tabset{flex:1}.tabset .tabset-menu{flex:none;overflow:hidden;white-space:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.tabset .tabset-menu a{display:inline-block;color:inherit;opacity:0.6;padding:15px 35px;font-size:0.8em;letter-spacing:0.05em;text-transform:uppercase;font-weight:500;flex:1;text-align:center;border-top:3px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent;border-bottom:1px solid rgba(0,0,0,0.05);position:relative;transition:opacity 0.2s, background 0.2s}.tabset .tabset-menu a.muted{opacity:0.4;background:#ccc}.tabset .tabset-menu a.active{opacity:1;background:#fff;border-left:1px solid rgba(0,0,0,0.05);border-right:1px solid rgba(0,0,0,0.05);border-top:3px solid blue;border-bottom:1px solid transparent}.tabset .tabset-content{flex:1;position:relative}.tabset.justified .tabset-menu a{padding:15px 17px}.tabset.justified .tabset-menu-inner{display:flex}@media (min-width: 768px){.tabset.vertical{display:flex;flex-direction:row}.tabset.vertical>.tabset-header{min-width:200px;max-width:260px;width:25%;display:flex;flex-direction:column;background:rgba(0,0,0,0.05)}.tabset.vertical>.tabset-header .tabset-menu{background:none;flex:1;white-space:normal;overflow-x:hidden;overflow-y:auto}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner{display:block}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a{background:none;border:none;display:block;border-left:3px solid transprent;text-align:left;text-transform:none;letter-spacing:0;font-size:1.1em;padding:10px 5px 10px 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:none}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a.muted{opacity:0.2;background:#bbb}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a.active{background:#fafafa;border-left:3px solid blue}}\n",""])},function(t,e,i){"use strict";var n=i(227);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".slide-leave-active,.slide-enter-active{transition:0.2s}.slide-enter{top:0;left:0;right:0;bottom:0;width:100%;position:absolute;transform:translate(15px, 0);opacity:0}.slide-leave-to{top:0;left:0;right:0;bottom:0;width:100%;position:absolute;transform:translate(-15px, 0);opacity:0}\n",""])},function(t,e,i){"use strict";var n=i(228);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"",""])},,function(t,e,i){"use strict";var n=i(229);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".dots[data-v-82bc59f0]{display:inline-block;margin-right:5px;vertical-align:middle;white-space:nowrap}.dots .dot[data-v-82bc59f0]{display:inline-block;border-radius:100%;width:14px;height:14px;margin-left:-7px;border:1px solid #fff;vertical-align:middle}.dots .dot[data-v-82bc59f0]:first-child{margin-left:0}\n",""])},,,,function(t,e,i){"use strict";var n=i(230);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".realm-select-modal{max-width:500px;max-height:80vh}.realm-select-modal .tabset .tabset-menu{background:#333;color:#fff}.realm-select-modal .tabset .tabset-menu a{border:none !important;padding:20px 15px}.realm-select-modal .tabset .tabset-menu a.active{background:none;opacity:1;border:none}.realm-select-modal .flex-tabs{background:#eaedf2}@media (max-width: 768px){.realm-select-modal{max-width:none}}.realm-select-modal .realm-select-item-outer{background:#eaedf2;padding:0 5px 0 15px}.realm-select-modal .realm-select-item-outer.has-children+.realm-select-item-outer>.realm-select-item:first-child{border-top:1px solid #cbd2df !important}.realm-select-modal .realm-select-item-outer .realm-select-item{border:1px solid #cbd2df;display:block;padding:10px;color:#888;position:relative;background:#fff;font-weight:400;cursor:pointer}.realm-select-modal .realm-select-item-outer .realm-select-item:hover{background:#fafafa}.realm-select-modal .realm-select-item-outer .realm-select-item .type{font-weight:1 !important;font-style:italic !important;font-size:0.9em !important;opacity:0.5}.realm-select-modal .realm-select-item-outer .realm-select-item .check-icon{width:35px;text-align:right}.realm-select-modal .realm-select-item-outer .realm-select-item:first-child{border-top:none}.realm-select-modal .realm-select-item-outer .realm-select-item:before{content:'';border-top:1px solid #cbd2df;position:absolute;left:-16px;top:19px;width:15px;height:2px;display:block}.realm-select-modal .realm-select-item-outer .realm-select-item .v-list__tile__action{opacity:0}.realm-select-modal .realm-select-item-outer .realm-select-item .dot{border-radius:100%;display:inline-block;width:10px;height:10px;margin-right:10px;background-color:rgba(68,68,68,0.3)}.realm-select-modal .realm-select-item-outer .children{padding:0px 0 15px;margin-left:21px;border-left:1px solid #cbd2df;position:relative}@media (max-width: 768px){.realm-select-modal .realm-select-item-outer .children{margin-left:5px}}.realm-select-modal .realm-select-item-outer .children:before{content:'';position:absolute;width:1px;height:20px;display:block;left:-1px;border-left:1px solid #cbd2df;top:0}.realm-select-modal .realm-select-item-outer .children:after{content:'';position:absolute;width:1px;height:36px;display:block;left:-1px;border-left:1px solid #eaedf2;bottom:0}.realm-select-modal .has-selection .realm-select-item{background:#edf0f4}.realm-select-modal .has-selection .realm-select-item.selected{background:#fff;border-color:#cbd2df;color:#333;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n",""])},function(t,e,i){"use strict";var n=i(231);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".label[data-v-6d8c49ce]{max-width:150px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""])},function(t,e,i){"use strict";var n=i(232);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".subfields[data-v-3e7d1456]{border-radius:5px;background:#eee;padding:5px}.filter-condition-row.mini[data-v-3e7d1456] .v-messages{display:none !important}.filter-condition-row.mini[data-v-3e7d1456] .v-select__slot{overflow:hidden}.filter-condition-row.mini[data-v-3e7d1456] .v-select,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field{margin:0;padding:0}.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-label,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-label{font-size:13px}.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-select__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-text-field__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-select__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-text-field__slot{white-space:nowrap;font-size:13px;padding:0}\n",""])},function(t,e,i){"use strict";var n=i(233);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".filter-group-outer .description[data-v-3dbdcd7b]{font-size:13px;padding:10px 0}.filter-group-outer .select-operator[data-v-3dbdcd7b]{font-size:13px;border:1px solid transparent;background:none;text-align:center;appearance:none;display:inline-block}.filter-group-outer .select-operator[data-v-3dbdcd7b]:hover{border:1px solid rgba(0,0,0,0.1);background:#fff}.filter-group-outer.mini .operator[data-v-3dbdcd7b]{font-weight:700;overflow:hidden;text-align:center;text-transform:uppercase;font-size:10px;padding:0 3px;position:absolute;left:50%;transform:translateX(-50%);line-height:20px;height:20px;color:transparent;border:1px solid #fff;background:green;border-radius:10px;opacity:0}.filter-group-outer.mini .operator.additional[data-v-3dbdcd7b]{opacity:1;color:#fff}.filter-group-outer.mini .operator.nor[data-v-3dbdcd7b]{background:#333}.filter-group-outer.mini .operator.or[data-v-3dbdcd7b]{background:#f0974e}.filter-group-outer.mini .operator-column[data-v-3dbdcd7b]{flex:none !important;padding-top:8px;margin-right:8px;width:25px;position:relative}.filter-group-outer.mini .operator-column[data-v-3dbdcd7b]:before{content:'';border-left:2px solid rgba(0,0,0,0.1);display:block;position:absolute;right:50%;height:100%;top:0;bottom:0}.filter-group-outer.mini .operator-column.and[data-v-3dbdcd7b]:before{border-left-color:green}.filter-group-outer.mini .operator-column.nor[data-v-3dbdcd7b]:before{border-left-color:#333}.filter-group-outer.mini .operator-column.or[data-v-3dbdcd7b]:before{border-left-color:#f0974e}.filter-group-outer.mini .filter-group[data-v-3dbdcd7b]{overflow:hidden}.filter-group-outer.mini .filter-group.additional[data-v-3dbdcd7b]{border:1px solid #ccc;box-shadow:0 2px 2px rgba(0,0,0,0.1);border-radius:5px;background:#fff;margin-bottom:15px}@media (min-width: 769px){.filter-group-outer.mini .filter-group .hover[data-v-3dbdcd7b]{opacity:0}}.filter-group-outer.mini .filter-group:hover .hover[data-v-3dbdcd7b]{opacity:1}.filter-group-outer.large .operator[data-v-3dbdcd7b]{font-weight:600;letter-spacing:0.05em;text-transform:uppercase;font-size:12px;padding:0 10px;position:absolute;right:30px;line-height:32px;color:transparent}.filter-group-outer.large .operator.additional[data-v-3dbdcd7b]{background:green;color:#fff;border-radius:5px 0 0 5px}.filter-group-outer.large .operator.additional[data-v-3dbdcd7b]:after{content:'';display:block;border:16px solid transparent;border-left-color:green;position:absolute;width:32px;height:32px;top:0;right:-32px}.filter-group-outer.large .operator.additional.nor[data-v-3dbdcd7b]{background:#333}.filter-group-outer.large .operator.additional.nor[data-v-3dbdcd7b]:after{border-left-color:#333}.filter-group-outer.large .operator.additional.or[data-v-3dbdcd7b]{background:#f0974e}.filter-group-outer.large .operator.additional.or[data-v-3dbdcd7b]:after{border-left-color:#f0974e}.filter-group-outer.large .operator[data-v-3dbdcd7b]:before{content:'';display:block;background:green;position:absolute;right:-30px;top:50%;margin-top:-6px;width:12px;height:12px;border-radius:100%;border:1px solid #fff}.filter-group-outer.large .operator.nor[data-v-3dbdcd7b]:before{background:#333}.filter-group-outer.large .operator.or[data-v-3dbdcd7b]:before{background:#f0974e}.filter-group-outer.large .operator-column[data-v-3dbdcd7b]{flex:none !important;padding-top:20px;width:90px;margin-right:25px;position:relative}.filter-group-outer.large .operator-column[data-v-3dbdcd7b]:before{content:'';border-left:2px solid rgba(0,0,0,0.1);display:block;position:absolute;right:5px;height:100%;top:0;bottom:0}.filter-group-outer.large .operator-column.and[data-v-3dbdcd7b]:before{border-left-color:green}.filter-group-outer.large .operator-column.nor[data-v-3dbdcd7b]:before{border-left-color:#333}.filter-group-outer.large .operator-column.or[data-v-3dbdcd7b]:before{border-left-color:#f0974e}.filter-group-outer.large .filter-group.additional[data-v-3dbdcd7b]{border-top:1px solid rgba(0,0,0,0.1);padding-top:15px;margin-top:15px}.filter-group-outer.large .filter-group .hover[data-v-3dbdcd7b]{opacity:0}.filter-group-outer.large .filter-group:hover .hover[data-v-3dbdcd7b]{opacity:1}.filter-group-outer .v-btn.ghost[data-v-3dbdcd7b]{border:1px dashed rgba(0,0,0,0.5)}\n",""])},function(t,e,i){"use strict";var n=i(234);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".content-select-modal{width:80vw;min-width:300px;max-width:1200px}\n",""])},function(t,e,i){"use strict";var n=i(235);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".inline-tag[data-v-7e6571ee]{cursor:pointer}.inline-tag .on[data-v-7e6571ee]{display:none}.inline-tag .off[data-v-7e6571ee]{display:inline-block}.inline-tag:hover .off[data-v-7e6571ee]{display:none}.inline-tag:hover .on[data-v-7e6571ee]{display:inline-block}\n",""])},function(t,e,i){"use strict";var n=i(236);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".status-label{display:inline-block;text-transform:uppercase;font-weight:600;letter-spacing:.05em;font-size:.6em;padding:2px 5px;line-height:inherit;border-radius:50px;margin:0 2px 2px 2px;background:rgba(0,0,0,0.01);color:rgba(0,0,0,0.1)}.status-label.draft,.status-label.trial,.status-label.sandbox,.status-label.scheduled,.status-label.yellow,.status-label.warning{background:#fff3b9 !important;color:#f0974e !important}.status-label.click,.status-label.open,.status-label.live,.status-label.ready,.status-label.active,.status-label.green,.status-label.success{background:rgba(81,212,50,0.2) !important;color:#51d432 !important}.status-label.red,.status-label.danger{background:rgba(187,0,16,0.2) !important;color:#bb0010 !important}.status-label.archived,.status-label.unsubscribe,.status-label.sent{background:rgba(0,0,0,0.05) !important;color:rgba(0,0,0,0.3) !important}.status-label[right]{float:right}\n",""])},function(t,e,i){"use strict";var n=i(237);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-status-select{display:inline-block;width:100px;height:25px;line-height:25px;margin:0 10px;vertical-align:middle}.fluro-status-select .status-label{margin:0;border-radius:3px;display:block;text-align:center;padding:0;font-size:11px}\n",""])},function(t,e,i){"use strict";var n=i(238);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".log-viewer{max-width:500px;max-height:70vh}.log-viewer .timeline{background:#f4f4f4;padding-right:10px}.log-viewer .timeline .year{border-left:1px solid rgba(0,0,0,0.1)}.log-viewer .timeline .year-label{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.4em;background:rgba(0,0,0,0.1)}.log-viewer .timeline .month{border-top:1px solid rgba(0,0,0,0.1)}.log-viewer .timeline .month-label{font-weight:500;text-transform:uppercase;display:block;padding:1px 10px;font-size:15px;margin:10px 0;color:rgba(0,0,0,0.8)}.log-viewer .timeline .day{display:flex;margin-top:10px}.log-viewer .timeline .day-label{font-weight:600;font-size:10px;text-transform:uppercase;padding:5px 10px;border-top:1px solid rgba(0,0,0,0.1);width:60px;white-space:nowrap;color:rgba(0,0,0,0.3)}.log-viewer .timeline .entries{position:relative;top:-10px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,0.1);flex:1;margin-bottom:15px}.log-viewer .timeline .entry{padding:8px;font-size:11px;background:#fff;border-top:1px solid rgba(0,0,0,0.1);min-width:320px;cursor:pointer}.log-viewer .timeline .entry:hover{background:#fafafa}.log-viewer .timeline .entry:first-child{border-top:none}\n",""])},function(t,e,i){var n={"./academic.vue":[768,20],"./application.vue":[769,21],"./article.vue":[770,32],"./asset.vue":[771,10],"./attendance.vue":[764,26],"./audio.vue":[772,11],"./capability.vue":[773,33],"./checkin.vue":[774,34],"./code.vue":[775,35],"./collection.vue":[776,56],"./component.vue":[777,36],"./contact.vue":[757,14],"./contactdetail.vue":[778,37],"./definition.vue":[758,28],"./event.vue":[779,5,1,25],"./eventtrack.vue":[759,1,0,18],"./family.vue":[765,19],"./image.vue":[780,12],"./integration.vue":[781,38],"./location.vue":[760,9],"./mailout.vue":[782,39],"./persona.vue":[766,15],"./plan.vue":[762,27],"./policy.vue":[783,22],"./post.vue":[784,40],"./process.vue":[785,41],"./query.vue":[763,16],"./realm.vue":[786,42],"./role.vue":[787,43],"./roster.vue":[788,0,44],"./tag.vue":[789,30],"./team.vue":[761,8],"./ticket.vue":[790,45],"./timetrigger.vue":[791,57],"./video.vue":[792,13]};function r(t){if(!i.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],r=e[0];return Promise.all(e.slice(1).map(i.e)).then((function(){return i(r)}))}r.keys=function(){return Object.keys(n)},r.id=646,t.exports=r},function(t,e,i){"use strict";var n=i(239);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".modal-inner .content-edit{width:100%;min-width:80vw}\n",""])},function(t,e,i){"use strict";var n=i(240);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".settings-popup[data-v-ea01adb4]{z-index:100}.white-background[data-v-ea01adb4]{background:white}.content-edit[data-v-ea01adb4]{background:#fafafa}.content-edit[data-v-ea01adb4] .tabset-menu{background:#fff}.content-edit[data-v-ea01adb4] .tabset-menu a.active{background:#fafafa}.content-edit[data-v-ea01adb4] .v-text-field--outline .v-input__control .v-input__slot{border-width:1px !important;border-color:rgba(0,0,0,0.3);background:#fff !important;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1) !important}.content-edit[data-v-ea01adb4] .v-text-field--outline.v-input--is-focused .v-input__control .v-input__slot,.content-edit[data-v-ea01adb4] .v-text-field--outline.success--text .v-input__control .v-input__slot,.content-edit[data-v-ea01adb4] .v-text-field--outline.error--text .v-input__control .v-input__slot{border-color:currentColor}.content-edit[data-v-ea01adb4] .v-label{font-weight:500}\n",""])},function(t,e,i){var n={"./article.vue":[793,58],"./asset.vue":[794,23],"./collection.vue":[795,59],"./contact.vue":[796,60],"./event.vue":[797,5,17],"./image.vue":[798,24],"./interaction.vue":[799,61],"./mailout.vue":[800,46],"./plan.vue":[767,29],"./post.vue":[801,62],"./query.vue":[802,63],"./tag.vue":[803,64],"./video.vue":[804,31]};function r(t){if(!i.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],r=e[0];return Promise.all(e.slice(1).map(i.e)).then((function(){return i(r)}))}r.keys=function(){return Object.keys(n)},r.id=651,t.exports=r},function(t,e){t.exports=brace/ext/language_tools},function(t,e){t.exports=brace/mode/html},function(t,e){t.exports=brace/mode/json},function(t,e){t.exports=brace/mode/ejs},function(t,e){t.exports=brace/mode/scss},function(t,e){t.exports=brace/theme/tomorrow_night_eighties},function(t,e){t.exports=brace/snippets/javascript},function(t,e,i){"use strict";var n=i(241);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-code-editor[data-v-77fb60eb]{min-height:200px;display:flex;flex-direction:column}.fluro-code-editor>div[data-v-77fb60eb]{flex:1}\n",""])},function(t,e,i){"use strict";var n=i(242);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".list-group{border:1px solid rgba(0,0,0,0.1);border-radius:3px;margin-bottom:15px}\n",""])},function(t,e,i){"use strict";var n=i(243);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".list-group-item{color:inherit;position:relative;padding:7px 10px;background:#fff;border-bottom:1px solid rgba(0,0,0,0.1);display:flex;align-items:center;transition:background 0.3s;transition:color 0.3s;text-decoration:none}.list-group-item .tick-icon{opacity:0;transition:opacity 0.3s}.list-group-item:hover{background:#fafafa}.list-group-item:hover .tick-icon{opacity:1}.list-group-item .fluro-item-image{margin-right:10px}.list-group-item .list-group-item-content{flex:1}.list-group-item:last-child{border-bottom:none;border-radius-bottom-left:3px;border-radius-bottom-right:3px}.list-group-item:first-child{border-radius-top-left:3px;border-radius-top-right:3px}.list-group-item.inactive{background:#eee;color:rgba(0,0,0,0.5)}.list-group-item.selected{background:blue;color:#fff}.list-group-item.selected .tick-icon{opacity:1}\n",""])},function(t,e,i){"use strict";var n=i(244);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-content-render-field .field-group{display:block;margin-bottom:1.5em}.fluro-content-render-field .field-group label{display:block;font-weight:700;margin-bottom:0.3em;text-transform:uppercase;letter-spacing:0.05em;font-size:0.8em}.fluro-content-render-field .panel{margin-bottom:1em;border:1px solid rgba(0,0,0,0.15) !important;border-radius:4px;box-shadow:none !important}.fluro-content-render-field .panel .panel-title{padding:1em;background:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.05)}\n",""])},function(t,e,i){"use strict";var n=i(245);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-content-render[data-v-5f7ed093]{flex:1}\n",""])},function(t,e,i){"use strict";var n=i(246);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".add-post-modal{display:flex;flex:1;max-height:80vh;min-width:300px;max-width:750px;width:100%}\n",""])},function(t,e,i){"use strict";var n=i(247);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-task-modal{min-width:300px}@media (min-width: 768px){.fluro-task-modal{max-width:500px}}.fluro-task-modal .introduction{font-size:1.1em}.fluro-task-modal .task-options{padding:15px;background:rgba(0,0,0,0.05)}.fluro-task-modal .task-options .task-option-item{background:#fff;padding:10px 15px;font-size:1.2em;border:1px solid rgba(0,0,0,0.2);border-radius:5px;margin-bottom:5px;cursor:pointer;display:flex;align-items:center}.fluro-task-modal .task-options .task-option-item:hover{border:1px solid rgba(0,0,0,0.4)}.fluro-task-modal .task-options .task-option-item .task-icon{width:50px;height:50px;line-height:50px;background:#eee;border-radius:50%;text-align:center;font-size:20px;border:1px solid rgba(0,0,0,0.05);color:rgba(0,0,0,0.5);margin-left:15px}.fluro-task-modal .task-options .task-option-item.complete .task-icon{color:green}.fluro-task-modal .task-options .task-option-item.complete.active{background-color:#00cd00;border-color:green;color:#000}.fluro-task-modal .task-options .task-option-item.complete.active .task-icon{background-color:green;color:#fff}.fluro-task-modal .task-options .task-option-item.pending .task-icon{color:#f0974e}.fluro-task-modal .task-options .task-option-item.pending.active{background-color:#f8ceac;border-color:#f0974e;color:#ec7b1f}.fluro-task-modal .task-options .task-option-item.pending.active .task-icon{background-color:#f0974e;color:#fff}.fluro-task-modal .task-options .task-option-item.failed .task-icon{color:red}.fluro-task-modal .task-options .task-option-item.failed.active{background-color:#ff4d4d;border-color:red;color:#600}.fluro-task-modal .task-options .task-option-item.failed.active .task-icon{background-color:red;color:#fff}\n",""])},function(t,e,i){"use strict";var n=i(248);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-task-edit-modal{min-width:300px}@media (min-width: 768px){.fluro-task-edit-modal{max-width:500px}}.fluro-task-edit-modal .fluro-editor-textarea{background:#fff}.fluro-task-edit-modal .tabset-menu a.active{background:#fafafa}.fluro-task-edit-modal .tabset-content{background:#fafafa}.fluro-task-edit-modal .bordered{border:1px solid rgba(0,0,0,0.05)}.fluro-task-edit-modal .fluro-content-form-field-checkbox{margin-bottom:25px}.fluro-task-edit-modal .fluro-content-form-field-checkbox .v-input__slot{margin-bottom:5px}\n",""])},,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(249);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-editor{margin-bottom:15px}.fluro-editor .text-muted{color:inherit;opacity:0.5}.fluro-editor .font-xs{font-size:0.7em}.fluro-editor .font-sm{font-size:0.8em}.fluro-editor .font-lg{font-size:1.3em}.fluro-editor .font-xl{font-size:1.6em}.fluro-editor .font-xxl{font-size:2em}.fluro-editor table{border-collapse:collapse}.fluro-editor table th,.fluro-editor table td{border:1px dotted rgba(0,0,0,0.1) !important}.fluro-editor .ace_editor{border-radius:5px;overflow:hidden}.fluro-editor .menububble{position:absolute;display:flex;z-index:20;background:#000;border-radius:5px;padding:.3rem;margin-bottom:.5rem;transform:translateX(-50%);visibility:hidden;opacity:0;transition:opacity .2s, visibility .2s;color:#fff !important}.fluro-editor .menububble.active{opacity:1;visibility:visible}.fluro-editor .menububble .v-btn{margin:0;color:#fff}.fluro-editor .menububble .link-input{background:rgba(255,255,255,0.2);color:#fff;border-radius:3px;font-size:0.8em;padding:2px 4px;color:#fff !important}.fluro-editor .menububble .link-input::placeholder{color:rgba(255,255,255,0.5)}.fluro-editor .menububble .link-input:-ms-input-placeholder{color:rgba(255,255,255,0.5)}.fluro-editor .menububble .link-input::-ms-input-placeholder{color:rgba(255,255,255,0.5)}.fluro-editor *{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}.fluro-editor ul,.fluro-editor ol{padding-left:24px}.fluro-editor user agent stylesheet div{display:block}.fluro-editor html{font-family:-apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;font-size:18px;color:#000;line-height:1.5}.fluro-editor .floating-menu{position:absolute;margin-top:-0.25rem;visibility:hidden;opacity:0;transition:opacity 0.2s, visibility 0.2s}.fluro-editor .floating-menu.is-active{opacity:1;visibility:visible}.fluro-editor-toolbar{margin-bottom:10px}.fluro-editor-toolbar .v-menu{display:inline}.fluro-editor-toolbar .v-btn{margin:3px}.fluro-editor-textarea{display:flex;flex-direction:column;min-height:200px;overflow:hidden;resize:vertical}.fluro-editor-textarea .selectedCell{background:rgba(0,0,255,0.1)}.fluro-editor-textarea>div{flex:1;padding:15px;outline:none;border:1px solid rgba(0,0,0,0.1);border-radius:5px;overflow:auto}.fluro-editor-textarea>div:focus{border:1px solid rgba(0,0,0,0.4)}.fluro-editor-textarea .is-empty:before{opacity:0.4;background:#ff0066;content:attr(data-empty-text);float:left;pointer-events:none;height:0;font-style:italic}.fluro-editor-textarea .tableWrapper{display:block;width:100%}.fluro-editor-textarea .tableWrapper table{width:100%;border-collapse:collapse}.fluro-editor-textarea .tableWrapper table tr,.fluro-editor-textarea .tableWrapper table td{border:1px solid rgba(0,0,0,0.2);padding:10px}.fluro-editor-textarea mention{display:inline;background:rgba(0,0,0,0.1);color:rgba(0,0,0,0.6);font-size:0.9rem;font-weight:500;border-radius:9px;padding:0.3rem 0.5rem;white-space:nowrap}.fluro-editor-textarea pre{box-shadow:none;border:none;margin:15px 0}.fluro-editor-textarea pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:0.6rem}.fluro-editor-textarea pre code{box-shadow:none !important;background:#333 !important;color:#ccc !important;padding:15px;display:block}.fluro-editor-textarea pre code .hljs-comment,.fluro-editor-textarea pre code .hljs-quote{color:#999999}.fluro-editor-textarea pre code .hljs-variable,.fluro-editor-textarea pre code .hljs-template-variable,.fluro-editor-textarea pre code .hljs-tag,.fluro-editor-textarea pre code .hljs-name,.fluro-editor-textarea pre code .hljs-selector-id,.fluro-editor-textarea pre code .hljs-selector-class,.fluro-editor-textarea pre code .hljs-regexp,.fluro-editor-textarea pre code .hljs-deletion{color:#f2777a}.fluro-editor-textarea pre code .hljs-number,.fluro-editor-textarea pre code .hljs-built_in,.fluro-editor-textarea pre code .hljs-builtin-name,.fluro-editor-textarea pre code .hljs-literal,.fluro-editor-textarea pre code .hljs-type,.fluro-editor-textarea pre code .hljs-params,.fluro-editor-textarea pre code .hljs-meta,.fluro-editor-textarea pre code .hljs-link{color:#f99157}.fluro-editor-textarea pre code .hljs-attribute{color:#ffcc66}.fluro-editor-textarea pre code .hljs-string,.fluro-editor-textarea pre code .hljs-symbol,.fluro-editor-textarea pre code .hljs-bullet,.fluro-editor-textarea pre code .hljs-addition{color:#99cc99}.fluro-editor-textarea pre code .hljs-title,.fluro-editor-textarea pre code .hljs-section{color:#6699cc}.fluro-editor-textarea pre code .hljs-keyword,.fluro-editor-textarea pre code .hljs-selector-tag{color:#cc99cc}.fluro-editor-textarea pre code .hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:0.5em}.fluro-editor-textarea pre code .hljs-emphasis{font-style:italic}.fluro-editor-textarea pre code .hljs-strong{font-weight:bold}.mention-suggestion{color:rgba(0,0,0,0.6)}.suggestion-list{font-family:'font-proxima';padding:0.2rem;border:2px solid rgba(0,0,0,0.1);font-size:0.8rem;font-weight:bold}.suggestion-list__no-results{padding:0.2rem 0.5rem}.suggestion-list__item{border-radius:5px;padding:0.2rem 0.5rem;margin-bottom:0.2rem;cursor:pointer}.suggestion-list__item:last-child{margin-bottom:0}.suggestion-list__item.is-selected,.suggestion-list__item:hover{background-color:rgba(255,255,255,0.2)}.suggestion-list__item.is-empty{opacity:0.5}.tippy-tooltip.dark-theme{background-color:#000;padding:0;font-size:1rem;text-align:inherit;color:#fff;border-radius:5px}.tippy-tooltip.dark-theme .tippy-backdrop{display:none}.tippy-tooltip.dark-theme .tippy-roundarrow{fill:#000}.tippy-popper[x-placement^=top] .tippy-tooltip.dark-theme .tippy-arrow{border-top-color:#000}.tippy-popper[x-placement^=bottom] .tippy-tooltip.dark-theme .tippy-arrow{border-bottom-color:#000}.tippy-popper[x-placement^=left] .tippy-tooltip.dark-theme .tippy-arrow{border-left-color:#000}.tippy-popper[x-placement^=right] .tippy-tooltip.dark-theme .tippy-arrow{border-right-color:#000}\n",""])},function(t,e,i){"use strict";var n=i(250);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-task-item{padding:10px 3px 5px 3px;border-radius:3px;font-size:1.1em;cursor:pointer}.fluro-task-item .input{display:block;padding:5px;background:#fff;border:1px solid blue;width:100%}.fluro-task-item .hover,.fluro-task-item .detail-placeholder,.fluro-task-item .edit-button{opacity:0}.fluro-task-item:hover{opacity:0.8}.fluro-task-item:hover .hover,.fluro-task-item:hover .detail-placeholder,.fluro-task-item:hover .edit-button{opacity:1}.fluro-task-item.complete{color:rgba(0,0,0,0.4);text-decoration:line-through}.fluro-task-item.pending{background-color:#fef8f3;border-color:#f0974e;color:#ec7b1f}.fluro-task-item.failed{background-color:#ffb3b3;border-color:red;color:#600}.fluro-task-item p:last-child{margin-bottom:0}.fluro-task-item .wrap{max-width:500px}.fluro-task-item .v-btn .checkbox-outer{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:25px;height:25px;display:inline-block;padding:0;margin:0;line-height:25px;text-align:center;font-size:14px}.fluro-task-item .v-btn .checkbox-outer svg{opacity:0}.fluro-task-item .v-btn .checkbox-outer.complete{background:green;color:#fff;border-color:green !important}.fluro-task-item .v-btn .checkbox-outer.complete svg{opacity:1}.fluro-task-item .v-btn .checkbox-outer.failed{background:red;color:#fff;border-color:red !important}.fluro-task-item .v-btn .checkbox-outer.failed svg{opacity:1}.fluro-task-item .v-btn .checkbox-outer.pending{background:#f0974e;color:#fff;border-color:#f0974e !important}.fluro-task-item .v-btn .checkbox-outer.pending svg{opacity:1}.fluro-task-item .v-btn:hover .checkbox-outer{border:2px solid rgba(0,0,0,0.5)}.fluro-task-item .v-btn:hover .checkbox-outer svg{opacity:0.5}\n",""])},function(t,e,i){"use strict";var n=i(251);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-task-list{margin-bottom:25px;border:1px solid rgba(0,0,0,0.15);padding:10px;border-radius:3px;background:#fff}.fluro-task-list .task-list-items .fluro-task-item{background:#eee;margin-bottom:1px}.fluro-task-list .hover{opacity:0}.fluro-task-list:hover .hover{opacity:1}\n",""])},function(t,e,i){"use strict";var n=i(252);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-page-preloader[data-v-625dafb6]{pointer-events:none !important;position:fixed;width:100vw;height:100vh;z-index:999;left:0;top:0;right:0;bottom:0}.fluro-page-preloader .v-progress-circular[data-v-625dafb6]{opacity:0.1;width:30% !important;height:30% !important;position:absolute;left:35%;top:50%;margin-top:-15%}.fluro-page-preloader[contain][data-v-625dafb6]{width:100%;height:100%;position:absolute}.fluro-page-preloader[contain] .v-progress-circular[data-v-625dafb6]{margin-top:0;transform:translateY(-50%)}\n",""])},function(t,e,i){"use strict";var n=i(253);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-search-bar[data-v-6a2e384c]{border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(0,0,0,0.1)}.fluro-search-bar .options[data-v-6a2e384c]{background:rgba(0,0,0,0.03)}.fluro-search-bar .icon[data-v-6a2e384c]{height:60px;width:50px;line-height:40px;font-size:25px;display:flex;justify-content:center;align-items:center;opacity:0.5}.fluro-search-bar .icon[data-v-6a2e384c]:hover{opacity:0.8}.fluro-search-bar .icon.active[data-v-6a2e384c]{opacity:1}.fluro-search-bar .icon-more.active[data-v-6a2e384c]{background:rgba(0,0,0,0.03)}.fluro-search-bar .search-wrapper[data-v-6a2e384c]{position:relative;display:flex}.fluro-search-bar .search-wrapper input[data-v-6a2e384c]{border:none;background:none;line-height:60px;font-size:22px;letter-spacing:-0.03em;flex:1;padding-right:50px;width:100%}.fluro-search-bar .search-wrapper input[data-v-6a2e384c]:focus{outline:none;box-shadow:none}@media (max-width: 768px){.fluro-search-bar .search-wrapper input[data-v-6a2e384c]{padding-left:15px}}.fluro-search-bar .search-wrapper .icon-search[data-v-6a2e384c]{position:absolute;right:0;top:0}.fluro-search-bar.active[data-v-6a2e384c]{background:#fff}.fluro-search-bar.active .icon-search[data-v-6a2e384c]{cursor:pointer}.fluro-search-bar.active input[data-v-6a2e384c]:before{border:10px solid red;content:'Searching for '}\n",""])},function(t,e,i){"use strict";var n=i(254);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"* [left][data-v-61d6caba]{margin-right:10px}* [right][data-v-61d6caba]{margin-left:10px}\n",""])},function(t,e,i){"use strict";var n=i(255);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".dots[data-v-41ee6357]{display:inline-block;margin-right:5px;vertical-align:middle;white-space:nowrap}.dots .dot[data-v-41ee6357]{display:inline-block;border-radius:100%;width:14px;height:14px;margin-left:-7px;border:1px solid #fff;vertical-align:middle}.dots .dot[data-v-41ee6357]:first-child{margin-left:0}\n",""])},function(t,e,i){"use strict";var n=i(256);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".wrapper{padding:70px 0}.wrapper[bottom]{padding-top:0 !important}.wrapper[top]{padding-top:0 !important}.wrapper [wrapper-title]{margin-bottom:56px}.wrapper [centered]{text-align:center}.wrapper[xs]{padding:23px 0}.wrapper[xs] [wrapper-title]{margin-bottom:18.4px}.wrapper[sm]{padding:35px 0}.wrapper[sm] [wrapper-title]{margin-bottom:28px}.wrapper[lg]{padding:140px 0}.wrapper[lg] [wrapper-title]{margin-bottom:37.33333px}.wrapper[xl]{padding:210px 0}.wrapper[xl] [wrapper-title]{margin-bottom:56px}@media (max-width: 1024px){.wrapper{padding:50px 0}.wrapper [wrapper-title]{margin-bottom:40px}.wrapper[xs]{padding:16px 0}.wrapper[xs] [wrapper-title]{margin-bottom:12.8px}.wrapper[sm]{padding:25px 0}.wrapper[sm] [wrapper-title]{margin-bottom:20px}.wrapper[lg]{padding:100px 0}.wrapper[lg] [wrapper-title]{margin-bottom:26.66667px}.wrapper[xl]{padding:150px 0}.wrapper[xl] [wrapper-title]{margin-bottom:40px}}@media (max-width: 768px){.wrapper{padding:30px 0}.wrapper [wrapper-title]{margin-bottom:24px}.wrapper[xs]{padding:10px 0}.wrapper[xs] [wrapper-title]{margin-bottom:8px}.wrapper[sm]{padding:15px 0}.wrapper[sm] [wrapper-title]{margin-bottom:12px}.wrapper[lg]{padding:60px 0}.wrapper[lg] [wrapper-title]{margin-bottom:16px}.wrapper[xl]{padding:90px 0}.wrapper[xl] [wrapper-title]{margin-bottom:24px}}\n",""])},function(t,e,i){"use strict";var n=i(257);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".constrain[data-v-10362a06]{margin:auto;max-width:1200px}.constrain[gutterless][data-v-10362a06]{padding:0}.constrain[xs][data-v-10362a06]{max-width:320px}.constrain[sm][data-v-10362a06]{max-width:740px}.constrain[md][data-v-10362a06]{max-width:1200px}.constrain[lg][data-v-10362a06]{max-width:1600px}.constrain[left][data-v-10362a06]{margin:0}.constrain[centered][data-v-10362a06]{text-align:center}\n",""])},function(t,e,i){"use strict";var n=i(258);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var n=i(259);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".accordion-panel{border:1px solid rgba(0,0,0,0.1);margin-bottom:4px}.accordion-panel .accordion-panel-title{padding:10px;background:#eee}.accordion-panel .accordion-panel-body{max-height:0;overflow:hidden;transition:all 0.3s}.accordion-panel.expanded .accordion-panel-body{max-height:100vh;overflow:auto}\n",""])},function(t,e,i){"use strict";var n=i(260);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"td.fixed-w{padding:0 !important}.fluro-content-browser{flex:1;display:flex;flex-direction:column;overflow:hidden}.fluro-content-browser .v-card{flex:1;overflow:auto}\n",""])},function(t,e,i){"use strict";var n=i(261);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-content-list{margin-bottom:5px}.fluro-content-select /deep/ .v-select__selections{padding-top:0 !important}.fluro-content-select /deep/ .v-input__slot{min-height:48px !important}.fluro-content-select /deep/ .v-input__prepend-inner,.fluro-content-select /deep/ .v-input__append-inner{margin-top:11px !important}.fluro-content-select /deep/ .v-text-field--box .v-input__slot{background:rgba(0,0,0,0.03)}.fluro-content-select .content-select-search-bar{position:relative}.fluro-content-select .content-select-search-bar .content-select-search-buttons{position:absolute;right:5px;top:10px;display:flex;align-items:center}.fluro-content-select.outlined /deep/ .v-input__slot{height:60px}.fluro-content-select.outlined /deep/ .v-input__prepend-inner{margin-top:16px !important}.fluro-content-select.outlined .content-select-search-bar .content-select-search-buttons{top:6px}.fluro-content-select .fluro-content-select-dialog{overflow:hidden;display:flex;flex-direction:column}.fluro-content-select .ghost{opacity:0.5}.fluro-content-select .buttons{display:flex;justify-content:center;align-items:center}.fluro-content-select .flip-list-move{transition:transform 0.5s}.fluro-content-select .no-move{transition:transform 0s}\n",""])},function(t,e,i){"use strict";var n=i(262);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-expression-editor{min-height:30px;max-height:30px;display:flex;border-radius:4px;border:1px solid #ddd;overflow:hidden;flex-direction:column;margin-bottom:5px}.fluro-expression-editor div.ace_scroller>div.ace_content{margin-top:0 !important;overflow:hidden !important;height:30px !important}.fluro-expression-editor div.ace_scroller>div.ace_content .ace_line,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_active-line,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_cursor{line-height:30px !important;height:30px !important}\n",""])},function(t,e,i){"use strict";var n=i(263);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".hljs-comment,.hljs-quote{color:#999999}.hljs-variable,.hljs-template-variable,.hljs-tag,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-regexp,.hljs-deletion{color:#f2777a}.hljs-number,.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-type,.hljs-params,.hljs-meta,.hljs-link{color:#f99157}.hljs-attribute{color:#ffcc66}.hljs-string,.hljs-symbol,.hljs-bullet,.hljs-addition{color:#99cc99}.hljs-title,.hljs-section{color:#6699cc}.hljs-keyword,.hljs-selector-tag{color:#cc99cc}.hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:0.5em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}\n",""])},function(t,e,i){"use strict";var n=i(264);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-signature-field .v-input__slot{display:block !important}\n",""])},function(t,e,i){"use strict";var n=i(265);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".signature-pad-wrap[data-v-9d24245a]{flex:1;position:relative;height:0;padding-bottom:50%;border:2px solid;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.signature-pad-wrap canvas[data-v-9d24245a]{display:block;width:100%;height:100%;position:absolute;left:0;right:0;bottom:0;top:0;cursor:pointer}.signature-pad-wrap .clear[data-v-9d24245a]{position:absolute;bottom:0;right:0}.pad[data-v-9d24245a]{border:1px solid rgba(0,0,0,0.1);border-radius:3px;box-shadow:0 3px 3px rgba(0,0,0,0.2);background:#fff;margin:5px 0 10px;min-height:300px;width:100%}\n",""])},function(t,e,i){"use strict";var n=i(266);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".no-flex>.v-input__control>.v-input__slot{display:block;margin:0}\n",""])},function(t,e,i){"use strict";var n=i(267);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-post-form .v-btn .v-progress-circular[data-v-44c8f1f5]{width:15px !important;height:15px !important;margin-left:15px}\n",""])},function(t,e,i){"use strict";var n=i(268);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-interaction-form .payment[data-v-719f0f95]{margin:15px 0;background:#fff;border-radius:3px;border:1px solid #ddd;box-shadow:0 1px 2px rgba(0,0,0,0.1)}.fluro-interaction-form dt[data-v-719f0f95],.fluro-interaction-form label[data-v-719f0f95]{font-weight:600}.fluro-interaction-form .modifier[data-v-719f0f95]{opacity:0.5}.fluro-interaction-form .modifier .modifier-title[data-v-719f0f95]{font-style:italic}.fluro-interaction-form .v-btn .v-progress-circular[data-v-719f0f95]{width:15px !important;height:15px !important;margin-left:15px}\n",""])},function(t,e,i){"use strict";var n=i(269);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var n=i(270);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-card{display:block;background:#fff;margin-bottom:10px;text-align:left;border-radius:4px;overflow:hidden;box-shadow:0 3px 15px rgba(0,0,0,0.1)}.fluro-card[margin]{margin-bottom:15px}\n",""])},function(t,e,i){"use strict";var n=i(271);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-card-body{padding:15px}\n",""])},function(t,e,i){"use strict";var n=i(272);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-card-title{padding:10px 15px;background:rgba(0,0,0,0.08)}\n",""])},function(t,e,i){"use strict";var n=i(273);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-panel{display:block;background:#fff;margin-bottom:10px;text-align:left;border-radius:4px;overflow:hidden;border:1px solid rgba(0,0,0,0.1);box-shadow:0 1px 1px rgba(0,0,0,0.1);margin:15px 0}.fluro-panel[margin]{margin-bottom:30px}\n",""])},function(t,e,i){"use strict";var n=i(274);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-panel-body{padding:15px}\n",""])},function(t,e,i){"use strict";var n=i(275);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".fluro-panel-title{padding:10px 15px;background:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.1)}\n",""])},function(t,e,i){"use strict";var n=i(276);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".flex-column{display:flex;overflow:hidden;flex:1;flex-direction:column}.flex-column[center]{align-items:center;justify-content:center}\n",""])},function(t,e,i){"use strict";var n=i(277);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".flex-row{display:flex;overflow:hidden;flex:1;flex-direction:row}\n",""])},function(t,e,i){"use strict";var n=i(278);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".flex-column-header{flex:none}\n",""])},function(t,e,i){"use strict";var n=i(279);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".flex-column-body{overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;flex:1;overscroll-behavior-x:none !important}\n",""])},function(t,e,i){"use strict";var n=i(280);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".flex-column-footer{flex:none}\n",""])},function(t,e,i){"use strict";var n=i(281);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"iframe.mailout-preview-frame[data-v-d830603a]{border:none;flex:1}\n",""])},function(t,e,i){"use strict";var n=i(282);i.n(n).a},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,".row-item[data-v-08ca41a6]{display:block;padding:10px;color:inherit;text-decoration:none}.row-item[data-v-08ca41a6]:hover{background:#fafafa}.stat-box[data-v-08ca41a6]{padding:10px;border:1px solid rgba(0,0,0,0.1);border-radius:3px;text-align:center;margin:2px;background:linear-gradient(#fff, #fafafa)}.stat-box label[data-v-08ca41a6]{text-transform:uppercase;font-weight:500;font-size:10px;opacity:0.5;letter-spacing:0.05em}.stat-box h3[data-v-08ca41a6]{font-size:40px;display:block;line-height:50px}\n",""])},function(t,e,i){"use strict";i.r(e);i(84),i(52);var n=i(28),r=i(140),a=i(346),o=i(345),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-image",class:{loaded:t.loaded},style:t.style},[t.longpress?i("img",{staticClass:"holder",attrs:{src:t.url}}):t._e(),t._v(" "),i("div",{style:t.spacer}),t._v(" "),!t.loaded&&t.placeholder?i("div",{staticClass:"placeholder",style:{backgroundImage:t.placeholderImage}}):t._e(),t._v(" "),!t.loaded&&t.spinner?i("v-progress-circular",{attrs:{indeterminate:"",color:"rgba(180,180,180,0.5)"}}):t._e(),t._v(" "),t._t("default")],2)};s._withStripped=!0;i(17);var l={props:{longpress:{type:Boolean},spinner:{type:Boolean,default:!0},placeholder:{type:Boolean,default:!0},item:[String,Object],width:{type:Number},height:{type:Number},imageWidth:{type:Number},imageHeight:{type:Number},from:{type:[String,Object]},cacheKey:[String,Number]},data:function(){return{timer:null,loadedImageWidth:0,loadedImageHeight:0,loaded:!1}},watch:{url:"load"},mounted:function(){this.load()},methods:{load:function(){var t=this;if(t.loaded=!1,t.url){var e=t.url,i=new Image;i.onload=function(e){t.loaded=!0,t.$emit("load",e),t.loadedImageWidth=i.width,t.loadedImageHeight=i.height},i.onerror=function(e){t.$emit("error",e)},i.src=e}}},computed:{style:function(){var t={backgroundImage:this.backgroundImage};return this.width?t.width="".concat(this.width,"px"):t.width="100%",this.height?t.height="".concat(this.height,"px"):t.height="auto",t},computedWidth:function(){return this.imageWidth||this.loadedImageWidth||this.width||_.get(this.item,"width")||1},computedHeight:function(){return this.imageHeight||this.loadedImageHeight||this.height||_.get(this.item,"height")||1},aspectRatio:function(){return this.computedHeight/this.computedWidth*100},spacer:function(){var t={};return this.aspectRatio&&(t.height="0",t.paddingBottom="".concat(this.aspectRatio,"%")),t},imageID:function(){return this.$fluro.utils.getStringID(this.item)},url:function(){if(this.imageID){var t=this.imageWidth||(this.width?2*this.width:null),e=this.imageHeight||(this.height?2*this.height:null),i={includePublic:!0};return this.cacheKey&&String(this.cacheKey.length)&&(i.cacheKey=this.cacheKey),this.from&&(i.from=this.$fluro.utils.getStringID(this.from)),this.$fluro.asset.imageUrl(this.imageID,t,e,i)}},placeholderImage:function(){if(this.imageID){var t={includePublic:!0};this.cacheKey&&String(this.cacheKey.length)&&(t.cacheKey=this.cacheKey),this.from&&(t.from=this.$fluro.utils.getStringID(this.from));var e=this.$fluro.asset.imageUrl(this.imageID,50,null,t);return"url(".concat(e,")")}},backgroundImage:function(){if(this.url)return"url(".concat(this.url,")")}}},c=(i(455),i(0)),u=Object(c.a)(l,s,[],!1,null,"53cb0c7f",null);u.options.__file="src/components/FluroImage.vue";var d=u.exports,f=i(397),p=i(283),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",[i("flex-column-body",[i("div",{ref:"top"}),t._v(" "),t._t("default",null,{page:t.page})],2),t._v(" "),i("flex-column-footer",[i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[t.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[t._v("\n                        "+t._s(t._f("numberWithCommas")(t.startOffset+1))+" to "+t._s(t._f("numberWithCommas")(t.endOffset))+" of "+t._s(t._f("numberWithCommas")(t.filteredTotal))+" matches\n                        ")]),t._v(" "),i("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[t.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e(),t._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],t._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),t._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[t._v("\n                        No matches\n                    ")])]],2)],1)])],1)};m._withStripped=!0;i(22),i(23),i(26);var h={props:{top:{type:Boolean},items:{type:Array,default:function(){return[]}},perPage:{type:Number,default:24},startPage:{type:Number,default:1},click:{type:Function}},data:function(){return{currentPage:this.startPage}},filters:{numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},watch:{items:"checkPage"},computed:{previousPageDisabled:function(){return this.currentPage<=1},nextPageDisabled:function(){return this.currentPage==this.totalPages},totalVisible:function(){return this.$vuetify.breakpoint.smAndDown?0:15},totalPages:function(){return this.availablePages.length},availablePages:function(){return _.chunk(this.items,this.perPage)},page:function(){return this.currentPage>this.totalPages?_.first(this.availablePages):this.availablePages[this.currentPage-1]},startOffset:function(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset:function(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},filteredTotal:function(){return this.items?this.items.length:0}},methods:{checkPage:function(){this.currentPage=1,this.pageChanged()},pageChanged:function(){var t=this.$refs.top;t?t.scrollIntoView({block:"center",behavior:"smooth"}):console.log("No top"),this.$emit("change",this.currentPage)},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.totalPages},nextPage:function(){var t=this.totalPages;this.currentPage<t?this.currentPage++:this.currentPage=t,this.pageChanged()},previousPage:function(){this.totalPages;this.currentPage>1?this.currentPage--:this.currentPage=1,this.pageChanged()}}},v=(i(459),Object(c.a)(h,m,[],!1,null,"1086cec5",null));v.options.__file="src/components/ui/FluroPagedContent.vue";var g=v.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"fluro-video",class:t.classes,style:t.style},["youtube"==t.provider?i("div",{staticClass:"fluro-video-embed"},[i("youtube-embed",{attrs:{"video-id":t.mediaID}})],1):t._e(),t._v(" "),"upload"==t.provider?i("div",{staticClass:"fluro-video-embed"},[i("video",{staticClass:"embed-responsive-item",attrs:{poster:t.posterUrl,controls:""}},[i("source",{attrs:{src:t.assetUrl,type:t.item.mimetype}})])]):t._e(),t._v(" "),"embed"==t.provider?i("div",{staticClass:"fluro-video-embed",domProps:{innerHTML:t._s(t.item.external.embed)}}):t._e(),t._v(" "),"vimeo"==t.provider?i("div",{staticClass:"fluro-video-embed"},[i("vimeo-player",{attrs:{"video-id":t.mediaID}})],1):t._e(),t._v(" "),t._t("default")],2)])};b._withStripped=!0;var y=i(405),x=i(408),k={components:{vimeoPlayer:y.a,youtubeEmbed:x.Youtube},props:{item:Object,width:{type:Number},height:{type:Number},cacheKey:[String,Number]},computed:{provider:function(){if(this.item)return this.item.assetType},mediaID:function(){if(this.item)switch(this.provider){case"upload":break;default:return this.$fluro.video.getAssetMediaIDFromURL(_.get(this,"item.external.".concat(this.provider)),this.provider)}},classes:function(){var t={};if(this.item)switch(this.item.assetType){case"youtube":case"vimeo":case"s3":case"embed":case"upload":t["fluro-video-".concat(this.item.assetType)]=!0}return t},computedWidth:function(){return _.get(this.item,"width")||this.width||1920},computedHeight:function(){return _.get(this.item,"height")||this.height||1080},aspectRatio:function(){return this.computedHeight/this.computedWidth*100},style:function(){var t={color:"#fff",backgroundColor:"#eee",backgroundImage:this.backgroundImage};return this.aspectRatio&&(t.height="0",t.paddingBottom="".concat(this.aspectRatio,"%")),t},videoID:function(){return this.$fluro.utils.getStringID(this.item)},posterUrl:function(){var t={extension:"jpg"};return this.cacheKey&&String(this.cacheKey.length)&&(t.cacheKey=this.cacheKey),this.$fluro.asset.posterUrl(this.item,null,null,t)},assetUrl:function(){var t={};return this.cacheKey&&String(this.cacheKey.length)&&(t.cacheKey=this.cacheKey),this.$fluro.asset.getUrl(this.item,t)},backgroundImage:function(){return this.posterUrl?"url(".concat(this.posterUrl,")"):void 0}}},w=(i(482),Object(c.a)(k,b,[],!1,null,null,null));w.options.__file="src/components/FluroVideo.vue";var C=w.exports,S=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluro-video-thumbnail",style:this.style})};S._withStripped=!0;var D={props:{item:[String,Object],width:{type:Number},height:{type:Number}},computed:{computedWidth:function(){return _.get(this.item,"width")||this.width||1920},computedHeight:function(){return _.get(this.item,"height")||this.height||1080},aspectRatio:function(){return this.computedHeight/this.computedWidth*100},style:function(){var t={backgroundColor:"#eee",backgroundImage:this.backgroundImage};return this.aspectRatio&&(t.height="0",t.paddingBottom="".concat(this.aspectRatio,"%")),t},posterUrl:function(){return this.$fluro.asset.posterUrl(this.item)},backgroundImage:function(){return this.posterUrl?"url(".concat(this.posterUrl,")"):void 0}}},O=(i(484),Object(c.a)(D,S,[],!1,null,null,null));O.options.__file="src/components/FluroVideoThumbnail.vue";var M=O.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-outer",class:[{center:!t.fixed},{top:t.top},{fixed:t.fixed},{full:t.full},t.size]},[i("div",{staticClass:"blanket",on:{click:t.dismiss}}),t._v(" "),i("div",{staticClass:"modal-inner"},[i(t.modal.component,{tag:"component",attrs:{options:t.modal.options},on:{close:t.close,dismiss:t.dismiss}})],1)])};P._withStripped=!0;i(419);var $={components:{},props:{modal:{type:Object,required:!0}},created:function(){this.modal.options||(this.modal.options={})},data:function(){return{}},computed:{size:function(){return"modal-size-".concat(this.modal.options.size||"md")},top:function(){return this.modal.options.fixed||this.modal.options.top},full:function(){return this.modal.options.full},fixed:function(){return this.modal.options.fixed}},methods:{dismiss:function(t){this.$fluro.closeModal(this.modal.modalID),this.modal.reject(t)},close:function(t){this.$fluro.closeModal(this.modal.modalID),this.modal.resolve(t)}}},F=(i(486),Object(c.a)($,P,[],!1,null,null,null));F.options.__file="src/components/ui/modal/Modal.vue";var T=F.exports,j=i(91),N=i(341),E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("v-card",{staticClass:"chart-widget"},[i("div",{staticClass:"chart-header"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"chart-title"},[t._v(t._s(t.title))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-toolbar-items",{staticClass:"hidden-xs-only"},[i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({},n),[i("fluro-icon",{attrs:{left:"",icon:"chart-"+t.chartType.value,library:"far"}}),t._v("\n                            "+t._s(t.chartType.title)+"\n                        ")],1)]}}],null,!1,1749139046)},[t._v(" "),i("v-list",{attrs:{dense:""}},t._l(t.chartTypeOptions,(function(e){return i("v-list-tile",{key:e.value,on:{click:function(i){return t.selectChartType(e)}}},[i("v-list-tile-content",[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),i("fluro-icon",{attrs:{icon:"chart-"+e.value,library:"far",right:""}})],1)})),1)],1),t._v(" "),i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({},n),[i("fluro-icon",{attrs:{library:"far",icon:"clock"}}),t._v(" "+t._s(t.dateGroupFormat.title)+"\n                            ")],1)]}}],null,!1,1802485439)},[t._v(" "),i("v-list",{attrs:{dense:""}},t._l(t.dateGroupFormatOptions,(function(e){return i("v-list-tile",{key:e.value,on:{click:function(i){return t.selectDateFormat(e)}}},[i("v-list-tile-content",[t._v(t._s(e.title))])],1)})),1)],1),t._v(" "),i("v-menu",{ref:"dateSelection",attrs:{fixed:!0,right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({},n),[i("fluro-icon",{attrs:{library:"far",icon:"calendar",left:""}}),t._v(" "+t._s(t.readableStartDate)+" - "+t._s(t.readableEndDate)+"\n                            ")],1)]}}],null,!1,1427879873)},[t._v(" "),i("v-card",[i("v-layout",[i("v-flex",[i("v-card-text",[i("label",[t._v(" ")]),t._v(" "),i("v-list",{attrs:{dense:""}},t._l(t.datePeriodOptions,(function(e){return i("v-list-tile",{key:e.value,on:{click:function(i){t.datePeriod=e}}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])})),1)],1)],1),t._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[t._v("From Date")])]),t._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDateString,callback:function(e){t.startDateString=e},expression:"startDateString"}})],1),t._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[t._v("To Date")])]),t._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDateString,callback:function(e){t.endDateString=e},expression:"endDateString"}})],1)],1)],1)],1),t._v(" "),i("v-menu",{attrs:{fixed:!0,right:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"ma-0",attrs:{icon:""}},n),[i("v-icon",[t._v("more_vert")])],1)]}}],null,!1,471955300)},[t._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:t.hideAll}},[i("v-list-tile-content",[t._v("\n                                Hide all Series\n                            ")]),t._v(" "),i("fluro-icon",{attrs:{icon:"eye-slash",library:"far",right:""}})],1),t._v(" "),i("v-list-tile",{on:{click:t.showAll}},[i("v-list-tile-content",[t._v("\n                                Show all Series\n                            ")]),t._v(" "),i("fluro-icon",{attrs:{icon:"eye",right:""}})],1),t._v(" "),i("v-list-tile",{on:{click:t.downloadPNG}},[i("v-list-tile-content",[t._v("Download PNG")]),t._v(" "),i("fluro-icon",{attrs:{icon:"image",library:"fas",right:""}})],1)],1)],1)],1)],1)],1),t._v(" "),i("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[t._l(t.enabledSeries.slice(0,4),(function(e){return e.end?[i("v-flex",{attrs:{shrink:""}},[i("statbox",{attrs:{color:e.color,label:e.title,start:e.start,mean:e.mean,end:e.end}})],1),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-divider",{attrs:{vertical:""}})],1)]:t._e()}))],2),t._v(" "),i("div",{staticClass:"chart-wrapper-outer",class:{empty:!t.enabledSeries.length}},[i("div",{staticClass:"chart-wrapper-empty"},[t._v("\n            No data\n        ")]),t._v(" "),i("div",{staticClass:"chart-wrapper-inner"},[i("apexchart",{ref:"chart",attrs:{height:350,type:t.chartType.value,options:t.chartOptions,series:t.enabledSeries},on:{dataPointSelection:t.markerClick}})],1)]),t._v(" "),t.series.length?[i("v-data-table",{staticClass:"elevation-0",attrs:{"hide-actions":t.series.length<=10,headers:t.headers,"rows-per-page-items":t.perPageOptions,items:t.series},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",{class:{inactive:!t.seriesIsActive(e.item)}},[i("td",{on:{mouseover:function(i){return t.showHighlight(e.item)},mouseleave:function(e){return t.hideHighlight()},click:function(i){return t.toggleSeries(e.item,i.metaKey)}}},[i("v-btn",{attrs:{icon:""}},[t.seriesIsActive(e.item)?i("fluro-icon",{attrs:{icon:"eye"}}):t._e(),t._v(" "),t.seriesIsActive(e.item)?t._e():i("fluro-icon",{attrs:{icon:"eye-slash",library:"far"}})],1)],1),t._v(" "),i("td",[i("fluro-icon",{attrs:{color:e.item.color,icon:"circle",library:"fas"}})],1),t._v(" "),i("td",[t._v("\n                        "+t._s(e.item.title)+"\n                        ")]),t._v(" "),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.mean))]),t._v(" "),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.start))]),t._v(" "),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.end))]),t._v(" "),i("td",[i("change-indicator",{attrs:{value:e.item.changedPeriod,suffix:"%"}})],1),t._v(" "),i("td",[i("change-indicator",{attrs:{value:e.item.changedAverage,suffix:"%"}})],1)])]}}],null,!1,1963932089)})]:t._e()],2):t._e()};E._withStripped=!0;i(31),i(15),i(492),i(114),i(24),i(13),i(12);var I=i(3),A=i.n(I),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("strong",{class:t.className},[i("fluro-icon",{attrs:{icon:t.icon,library:"fas"}}),t._v(" "+t._s(t.prefix)+t._s(t.value)+t._s(t.suffix))],1)};L._withStripped=!0;var R={props:{value:{default:0,type:Number},prefix:{default:"",type:String},suffix:{default:"",type:String}},computed:{icon:function(){return this.increased?"caret-square-up":this.decreased?"caret-square-down":"square"},className:function(){return this.increased?"success--text":this.decreased?"error--text":"muted"},increased:function(){return this.value>0},decreased:function(){return this.value<0}}},V=(i(495),Object(c.a)(R,L,[],!1,null,"2add775e",null));V.options.__file="src/components/reporting/ChangeIndicator.vue";var B=V.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"statbox"},[i("div",{staticClass:"value"},[t._v(t._s(t.end)),t.average?i("sup",[t._v("("+t._s(t.average)+" avg)")]):t._e()]),t._v(" "),i("label",[i("fluro-icon",{style:t.style,attrs:{icon:"circle",library:"fas"}}),t._v(" "+t._s(t.label))],1),t._v(" "),i("div",{staticClass:"subtitle"},[i("strong",{class:t.className},[i("fluro-icon",{attrs:{icon:t.icon}}),t._v("  "+t._s(t.swing))],1),t._v("\n         \n        "),i("span",{staticClass:"muted"},[t._v("("+t._s(t.start)+" to "+t._s(t.end)+")")])]),t._v(" "),i("div",{staticClass:"subtitle"},[i("strong",{class:t.classNameAvg},[i("fluro-icon",{attrs:{icon:t.iconAvg}}),t._v("  "+t._s(t.swingAverage))],1),t._v("\n         \n        "),i("span",{staticClass:"muted"},[t._v("("+t._s(t.average)+" to "+t._s(t.end)+")")])])])};q._withStripped=!0;var Y={props:{label:{type:String},color:{type:String},start:{default:0,type:Number},end:{default:0,type:Number},mean:{type:Number}},data:function(){return{}},computed:{average:function(){if(this.mean)return"".concat(Math.round(this.mean))},style:function(){return{color:this.color}},icon:function(){return this.increased?"caret-square-up":this.decreased?"caret-square-down":"square"},iconAvg:function(){return this.increasedAvg?"caret-square-up":this.decreasedAvg?"caret-square-down":"square"},className:function(){return this.increased?"success--text":this.decreased?"error--text":""},classNameAvg:function(){return this.increasedAvg?"success--text":this.decreasedAvg?"error--text":""},value:function(){return(this.end-this.start)/this.start*100},valueAverage:function(){return(this.end-this.mean)/this.mean*100},swing:function(){return parseFloat(this.value).toFixed(2)+"%"},swingAverage:function(){return parseFloat(this.valueAverage).toFixed(2)+"%"},increased:function(){return this.end>this.start},decreased:function(){return this.end<this.start},increasedAvg:function(){return this.end>this.mean},decreasedAvg:function(){return this.end<this.mean},subtitle:function(){return"Growth"}}},z=(i(497),Object(c.a)(Y,q,[],!1,null,"471de0f6",null));z.options.__file="src/components/reporting/StatBox.vue";var U=z.exports,G=i(19),K=[{title:"Day",value:"dddd D MMM YYYY"},{title:"Week",value:"[Week] w YYYY"},{title:"4 Week Period",value:"4week",handler:function(t){var e=Object(G.moment)(t).format("W"),i=Object(G.moment)(t).format("YYYY");return"Period ".concat(Math.ceil(e/4)," ").concat(i)}},{title:"6 Week Period",value:"6week",handler:function(t){var e=Object(G.moment)(t).format("W"),i=Object(G.moment)(t).format("YYYY");return"Period ".concat(Math.ceil(e/6)," ").concat(i)}},{title:"Month",value:"MMM YYYY"},{title:"Quarter",value:"[Quarter] Q YYYY"},{title:"Year",value:"YYYY"}],H=[{title:"Line",value:"line"},{title:"Bar",value:"bar"},{title:"Area",value:"area"}],W=[];W[0]="Sunday",W[1]="Monday",W[2]="Tuesday",W[3]="Wednesday",W[4]="Thursday",W[5]="Friday",W[6]="Saturday";var J=new Date,X=[];X.push({title:"Last 2 Years",start:new Date((new Date).setFullYear((new Date).getFullYear()-2)),end:J}),X.push({title:"Last 12 Months",start:new Date((new Date).setFullYear((new Date).getFullYear()-1)),end:J}),X.push({title:"Last 6 Months",start:new Date((new Date).setMonth((new Date).getMonth()-6)),end:J}),X.push({title:"Last 3 Months",start:new Date((new Date).setMonth((new Date).getMonth()-3)),end:J}),X.push({title:"Last 12 Weeks",start:new Date((new Date).setTime((new Date).getTime()-72576e5)),end:J}),X.push({title:"Last 4 Weeks",start:new Date((new Date).setTime((new Date).getTime()-24192e5)),end:J}),X.push({title:"Last 2 Weeks",start:new Date((new Date).setTime((new Date).getTime()-12096e5)),end:J});var Q={components:{ChangeIndicator:B,Statbox:U},props:{singleScale:{type:Boolean},id:{type:String,default:String(Math.random())},title:{type:String},group:{type:String},weekStartDay:{type:Number,default:4},type:{type:String,default:"line"},dateFormat:{type:String,default:"[Week] w YYYY"},localeID:{type:String,default:"fluro-chart"},data:{default:function(){return{series:[],values:[]}},type:Object}},data:function(){var t=A.a.find(H,{value:this.type}),e=A.a.find(K,{value:this.dateFormat});return{chartLocale:this.localeID,datePeriodOptions:X,datePeriod:X[1],dateGroupFormatOptions:K,dateGroupFormat:e,series:[],chartType:t}},mixins:[{computed:{theme:function(){return{colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#7adc12","#f34be2","#b76b1a","#ff7800"]}}},methods:{getColor:function(t){return this.theme.colors[t%this.theme.colors.length]}}}],computed:{grouping:function(){return"grouped together"},values:function(){return this.data.values},pieChartSeries:function(){return A.a.chain(this.enabledSeries).map((function(t){return A.a.get(t,"data[".concat(t.data.length-1,"][1]"))})).value()},pieChartOptions:function(){return{labels:A.a.map(this.enabledSeries,"title")}},perPageOptions:function(){return[10,20,50,{text:"All",value:-1}]},hasData:function(){return this.data&&this.data.values&&this.data.values.length},enabledSeries:function(){return A.a.filter(this.series,(function(t){if(!t.hidden&&(t.min||t.max))return!0}))},headers:function(){return[{text:"",align:"left",sortable:!1,value:"enabled"},{text:"",align:"left",sortable:!1,value:"color"},{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Mean / Average",value:"mean",align:"center"},{text:"At ".concat(this.readableStartDate),value:"start",align:"center"},{text:"At ".concat(this.readableEndDate),value:"end",align:"center"},{text:"Swing over time",value:"changedPeriod"},{text:"Swing from Average",value:"changedAverage"}]},readableStartDate:function(){return this.dateGroupFormat.handler?this.dateGroupFormat.handler(this.datePeriod.start):this.$fluro.date.formatDate(this.datePeriod.start,this.dateGroupFormat.value)},readableEndDate:function(){return this.dateGroupFormat.handler?this.dateGroupFormat.handler(this.datePeriod.end):this.$fluro.date.formatDate(this.datePeriod.end,this.dateGroupFormat.value)},startDateString:{get:function(){return this.datePeriod.start.toISOString().substr(0,10)},set:function(t){return this.datePeriod.start=new Date(t)}},endDateString:{get:function(){return this.datePeriod.end.toISOString().substr(0,10)},set:function(t){return this.datePeriod.end=new Date(t)}},datePeriodTitle:function(){return self.datePeriod?self.datePeriod.title:"Custom"},chartTypeOptions:function(){return H},markers:function(){return{size:3,strokeColor:"#fff",strokeWidth:1,hover:{size:10}}},legend:function(){return{show:!1,showForNullSeries:!1,showForZeroSeries:!1}},dataLabels:function(){return{enabled:!1}},colors:function(){var t=this;return A.a.map(t.enabledSeries,(function(e,i){return A.a.get(e,"color")||t.theme.colors[i%t.theme.colors.length]}))},stroke:function(){var t=this,e={colors:[],curve:[],dashArray:[],width:[],lineCap:[]};return A.a.each(t.enabledSeries,(function(i,n){e.colors[n]=A.a.get(i,"options.stroke.color")||A.a.get(i,"color")||t.theme.colors[n%t.theme.colors.length],e.curve[n]=A.a.get(i,"options.stroke.curve")||"straight",e.dashArray[n]=A.a.get(i,"options.stroke.dashArray"),e.width[n]=A.a.get(i,"options.stroke.width")||5,e.lineCap[n]=A.a.get(i,"options.stroke.lineCap")||"round"})),e},fill:function(){var t=this,e={colors:[]};return A.a.each(t.enabledSeries,(function(i,n){e.colors[n]=A.a.get(i,"options.fill.color")||A.a.get(i,"color")||t.theme.colors[n%t.theme.colors.length]})),e},chartOptions:function(){var t=this,e={chart:{id:t.id,responsive:[{breakpoint:void 0,options:{}}],height:350,zoom:{type:"x",enabled:!1},toolbar:{show:!1,enabled:!1,autoSelected:"zoom"},group:t.group},plotOptions:{line:{curve:"smooth"}},colors:this.colors,dataLabels:this.dataLabels,legend:this.legend,stroke:this.stroke,markers:this.markers,fill:this.fill,grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:this.xaxis,yaxis:this.yaxis,tooltip:{shared:!1,custom:function(e){return(t.enabledSeries[e.seriesIndex].data[e.dataPointIndex]||[])[2]},y:{formatter:function(e){return t.dateGroupFormat.handler?t.dateGroupFormat.handler(e):t.$fluro.date.formatDate(e,t.dateGroupFormat.value)}},x:{formatter:function(e){return t.dateGroupFormat.handler?t.dateGroupFormat.handler(e):t.$fluro.date.formatDate(e,t.dateGroupFormat.value)}}}};return e},xaxis:function(){return{labels:{datetimeFormatter:{year:"yyyy",month:"MMM yyyy",day:"ddd d MMM",hour:"HH:mm"}},type:"datetime"}},yaxis:function(){if(this.enabledSeries&&this.enabledSeries.length){if(this.singleScale){var t=A.a.last(A.a.orderBy(this.enabledSeries,"max")),e=A.a.first(A.a.orderBy(this.enabledSeries,"min"));return[{seriesName:t.name,max:Math.round(1.05*t.max)||0,min:e.min,show:!0}]}return A.a.map(this.enabledSeries,(function(t,e){return{seriesName:t.name,max:Math.round(1.05*t.max)||0,min:t.min,show:!0}}))}}},methods:{markerClick:function(t,e,i){var n=this.enabledSeries[i.seriesIndex],r=n.data[i.dataPointIndex];console.log("CLICKED",r[3],n,r,this),this.$emit("clicked",r[3],n,r,this)},click:function(t,e,i){console.log("CLICK",t,e,i)},dataPointSelection:function(t,e,i){console.log("DATAPOINT",e)},getFirstDayOfWeek:function(t){return Object(G.moment)(t).locale(this.chartLocale).weekday(0).toDate()},setFirstDayOfWeek:function(t){G.moment.locale(this.chartLocale,{week:{dow:t}})},selectDateFormat:function(t){this.dateGroupFormat=t,this.recalculateAndMapSeries()},selectChartType:function(t){this.chartType=t},downloadURI:function(t,e){var i=document.createElement("a");i.download=e,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)},downloadPNG:function(){var t=this;this.$refs.chart.dataURI().then((function(e){console.log("PNG"),t.downloadURI(e,"Chart.png")}))},downloadSVG:function(){var t=this.$refs.chart;console.log("SVG",t);var e=t.paper();this.downloadURI(e.svg(),"Chart.svg")},selectorName:function(t){return"series".concat(A.a.camelCase(t).toLowerCase())},showHighlight:function(t){var e=this.$el.querySelectorAll(".apexcharts-series");A.a.each(e,(function(t){t.style.opacity=.1}));var i=".".concat(t.name),n=this.$el.querySelector(i);n&&(n.style.opacity=1)},hideHighlight:function(){var t=this.$el.querySelectorAll(".apexcharts-series");A.a.each(t,(function(t){t.style.opacity=1}))},hideAll:function(){A.a.each(this.series,(function(t,e){t.hidden=!0}))},showAll:function(){A.a.each(this.series,(function(t,e){t.hidden=!1}))},soloSeries:function(t){this.hideAll(),t.hidden=!1},toggleSeries:function(t,e){if(e)return this.soloSeries(t);t.hidden=!t.hidden},recalculateAndMapSeries:function(){},mapSeries:function(t,e,i,n){n||(n={});var r=this,a=A.a.chain(r.values).filter(r.filterDateRange).reduce((function(t,e){var i=new Date(e.date);switch(i.setHours(0,0,0,0),r.dateGroupFormat.value){case"[Week] w YYYY":i=r.getFirstDayOfWeek(i,r.weekStartDay)}r.dateGroupFormat.value;var n,a=t[n=r.dateGroupFormat.handler?r.dateGroupFormat.handler(i):Object(G.moment)(i).format(r.dateGroupFormat.value)];return a||(a=t[n]={date:i,entries:[]}),a.entries.push(e),t}),{}).values().compact().map((function(a){var o,s='<div class="chart-tooltip">';o=r.dateGroupFormat.handler?r.dateGroupFormat.handler(a.date):r.$fluro.date.formatDate(a.date,r.dateGroupFormat.value),s+="<strong>".concat(o,"</strong>"),s+="<div>".concat(r.$fluro.date.timeago(a.date),"</div>"),s+='<strong style="color:'.concat(i,';">').concat(t,"</strong><br/>");var l=0,c='<table class="table">',u=A.a.chain(a.entries).orderBy((function(t){return new Date(t.date)})).reduce((function(t,i){var n=A.a.get(i.values,e);return null==n?t:(null==t&&(t=0),c+="<tr><td>".concat(i.title||"","</td><td>").concat(r.$fluro.date.formatDate(i.date,"h:mma D MMM YYYY"),"</td><td><strong>").concat(n,"</strong></td></tr>"),l++,t+n)}),void 0).value();if(c+='<tr><td colspan="2"><strong>Total</strong></td><td><strong>'.concat(u,"</strong></td></tr>"),c+="</table>",s+="<strong>".concat(u," ").concat(n.metricName||"total","</strong><br/>"),s+="".concat(l," events<br/>"),s+=c,s+="</div>",null==u){if(!n.includeNull)return;u=null}return[a.date,u,s,a]})).compact().orderBy((function(t){return t[0]})).value(),o=(A.a.first(a)||[])[1],s=(A.a.last(a)||[])[1],l=(A.a.last(a)||[])[0],c=(A.a.first(a)||[])[0],u=Math.round(A.a.chain(a).compact().meanBy((function(t){return t[1]})).value()),d=A.a.max(A.a.map(a,(function(t){return t[1]}))),f=A.a.min(A.a.map(a,(function(t){return t[1]})));a.length||(o=0,s=0,u=0,d=0,f=0);var p=Math.round((s-o)/o*100),m=Math.round((s-u)/u*100),h=r.selectorName(t);return{title:t,id:h,key:e,name:h,color:i,options:n,data:a,type:n.type,start:o,end:s,mean:u,max:d,min:f,hidden:!1,solo:!1,changedPeriod:p,changedAverage:m,date:l,firstDate:c}},filterDateRange:function(t){var e=new Date(t.date).getTime(),i=new Date(this.datePeriod.start).getTime(),n=new Date(this.datePeriod.end).getTime();return e>=i&&e<=n},seriesIsActive:function(t){return!t.hidden}},watch:{chartType:function(){return this.recalculateAndMapSeries()},data:function(){return this.recalculateAndMapSeries()},datePeriod:{handler:function(t){return this.recalculateAndMapSeries()},deep:!0}},created:function(){var t=this;t.setFirstDayOfWeek(4),t.recalculateAndMapSeries=A.a.debounce((function(){var e=A.a.chain(t.data.series).map((function(e,i){var n=e.color||t.getColor(i),r=Object.assign({},{type:t.chartType.value},e.options);return t.mapSeries(e.title,e.key,n,r)})).compact().orderBy((function(t){return t.mean})).reverse().value();t.series=e}),200)},mounted:function(){this.recalculateAndMapSeries()}},Z=(i(499),Object(c.a)(Q,E,[],!1,null,"ae64df28",null));Z.options.__file="src/components/reporting/FluroTrendChart.vue";var tt=Z.exports,et=i(108),it=i(117),nt=i(153),rt=i(286),at=i(143),ot=i(103),st=i(119),lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"first-name-cell"},[i("span",[i("strong",[t._v(t._s(t.row.preferredName||t.row.firstName))]),t._v(" "),t.row.preferredName&&t.row.preferredName!=t.row.firstName?i("span",{staticClass:"muted"},[t._v(" ("+t._s(t.row.firstName)+")")]):t._e(),t._v(" "),t.row.ethnicName?i("span",{staticClass:"muted"},[t._v(" "+t._s(t.row.ethnicName))]):t._e()])])};lt._withStripped=!0;var ct={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:function(){return!1}}}},ut=Object(c.a)(ct,lt,[],!1,null,null,null);ut.options.__file="src/components/table/cells/FirstNameCell.vue";var dt=ut.exports,ft=i(285),pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"last-name-cell"},[i("span",[i("strong",[t._v(t._s(t.row.lastName))]),t._v(" "),t.row.maidenName?i("span",{staticClass:"muted"},[t._v(" ("+t._s(t.row.maidenName)+")")]):t._e()])])};pt._withStripped=!0;var mt={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:function(){return!1}}}},ht=Object(c.a)(mt,pt,[],!1,null,null,null);ht.options.__file="src/components/table/cells/LastNameCell.vue";var vt=ht.exports,gt=i(104),bt=i(71),yt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v(this._s(this._f("formatDate")(this.data,"h:mma")))])};yt._withStripped=!0;var _t={props:{row:{type:Object},column:{type:Object},data:{}}},xt=Object(c.a)(_t,yt,[],!1,null,null,null);xt.options.__file="src/components/table/cells/TimeCell.vue";var kt=xt.exports,wt=i(144),Ct=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+this.$fluro.asset.coverUrl(this.data,"event",{w:50})+")"}})};Ct._withStripped=!0;var St={props:{row:{type:Object},column:{type:Object},data:{}}},Dt=Object(c.a)(St,Ct,[],!1,null,null,null);Dt.options.__file="src/components/table/cells/EventThumbnailCell.vue";var Ot=Dt.exports,Mt=i(284),Pt=i(101),$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-xs-center"},["failed"==t.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-failed",attrs:{content:"Failed"}},[i("fluro-icon",{attrs:{icon:"times"}})],1):"success"==t.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-success",attrs:{content:"Success"}},[i("fluro-icon",{attrs:{icon:"check"}})],1):"pending"==t.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-pending",attrs:{content:"Pending"}},[i("fluro-icon",{attrs:{icon:"clock"}})],1):"refund"==t.data?i("div",{staticClass:"payment-archived"},[t._v("\n        Refund\n    ")]):"partial_refund"==t.data?i("div",{staticClass:"payment-archived"},[t._v("\n        Partial Refund\n    ")]):i("div",{staticClass:"payment-manual"},[t._v("\n        "+t._s(t.data)+"\n    ")])])};$t._withStripped=!0;var Ft={props:{row:{type:Object},column:{type:Object},data:{}}},Tt=(i(526),Object(c.a)(Ft,$t,[],!1,null,"07ed431b",null));Tt.options.__file="src/components/table/cells/PaymentStatusCell.vue";var jt=Tt.exports,Nt=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"text-xs-center",class:{muted:this.empty}},[this._v("\n    "+this._s(this.rendered)+"\n    ")])};Nt._withStripped=!0;var Et={props:{row:{type:Object},column:{type:Object},data:{}},computed:{empty:function(){if(0==parseInt(this.data))return!0},rendered:function(){return this.$fluro.utils.formatCurrency(this.data,this.currency)},currency:function(){return String(this.row.currency).toLowerCase()}}},It=(i(528),Object(c.a)(Et,Nt,[],!1,null,"645d33bc",null));It.options.__file="src/components/table/cells/CurrencyCell.vue";var At=It.exports,Lt=i(118),Rt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inline-tags"},[e("a",{staticClass:"inline-tag",attrs:{href:"tel:"+this.data}},[e("fluro-icon",{attrs:{icon:"phone"}}),this._v(" "+this._s(this.data)+"\n    ")],1)])};Rt._withStripped=!0;var Vt={props:{row:{type:Object},column:{type:Object},data:{}}},Bt=Object(c.a)(Vt,Rt,[],!1,null,null,null);Bt.options.__file="src/components/table/cells/PhoneNumberCell.vue";var qt=Bt.exports,Yt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inline-tags"},[e("a",{staticClass:"inline-tag",attrs:{href:"mailto:"+this.data}},[e("fluro-icon",{attrs:{icon:"envelope"}}),this._v(" "+this._s(this.data)+"\n    ")],1)])};Yt._withStripped=!0;var zt={props:{row:{type:Object},column:{type:Object},data:{}}},Ut=Object(c.a)(zt,Yt,[],!1,null,null,null);Ut.options.__file="src/components/table/cells/EmailAddressCell.vue";var Gt=Ut.exports,Kt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    "+this._s(this.computed)+"\n")])};Kt._withStripped=!0;var Ht={props:{row:{type:Object},column:{type:Object},data:{}},computed:{computed:function(){return this.data?this.$fluro.asset.filesize(this.data):""}}},Wt=(i(530),Object(c.a)(Ht,Kt,[],!1,null,"9637fce4",null));Wt.options.__file="src/components/table/cells/FilesizeCell.vue";var Jt=Wt.exports,Xt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    "+this._s(this.duration)+"\n    ")])};Xt._withStripped=!0;var Qt={props:{row:{type:Object},column:{type:Object},data:{}},computed:{duration:function(){if(this.data&&String(this.data).length)return this.$fluro.video.hhmmss(this.data)}}},Zt=(i(532),Object(c.a)(Qt,Xt,[],!1,null,"782190a5",null));Zt.options.__file="src/components/table/cells/DurationCell.vue";var te=Zt.exports,ee=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    "+this._s(this.dimensions)+"\n")])};ee._withStripped=!0;var ie={props:{row:{type:Object},column:{type:Object},data:{}},computed:{dimensions:function(){return"".concat(this.row.width,"x").concat(this.row.height)}}},ne=(i(534),Object(c.a)(ie,ee,[],!1,null,"121c181e",null));ne.options.__file="src/components/table/cells/DimensionsCell.vue";var re=ne.exports,ae=i(155),oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"print"!=t.context?i("div",[t.multiple?[t._l(t.data,(function(t){return[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.firstName||t.title,md:"",id:t,type:"persona"}})]}))]:[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.entry.firstName||t.entry.title,md:"",id:t.data,type:"persona"}})]],2):t._e()};oe._withStripped=!0;var se={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}},computed:{multiple:function(){return _.isArray(this.data)}}},le=Object(c.a)(se,oe,[],!1,null,null,null);le.options.__file="src/components/table/cells/PersonaAvatarCell.vue";var ce=le.exports,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"print"!=t.context?i("div",[t.multiple?[t._l(t.data,(function(t){return[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.firstName||t.title,md:"",id:t,type:"contact"}})]}))]:[t.data?i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{md:"",content:t.data.firstName||t.data.title,id:t.data,type:"contact"}}):t._e()]],2):t._e()};ue._withStripped=!0;var de={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}},computed:{multiple:function(){return _.isArray(this.data)}}},fe=Object(c.a)(de,ue,[],!1,null,null,null);fe.options.__file="src/components/table/cells/ContactAvatarCell.vue";var pe=fe.exports,me=i(350),he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-post-thread"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-header",[i("v-container",{staticClass:"border-bottom text-xs-center",staticStyle:{background:"#fff"},attrs:{fluid:""}},t._l(t.postTypes,(function(e){return i("v-btn",{attrs:{small:""},on:{click:function(i){return t.create(e)}}},[t._v("\n                    Add "+t._s(e.title)+"\n                    "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)})),1)],1),t._v(" "),i("flex-column-body",{staticStyle:{background:"#eee"}},[i("v-container",t._l(t.items,(function(t){return i("div",{staticClass:"card"},[i("post-card",{attrs:{item:t}})],1)})),0)],1)]],2)};he._withStripped=!0;i(77),i(78);var ve={props:{contact:{type:Object}},components:{PostCard:function(){return i.e(3).then(i.bind(null,1076))},AddPost:function(){return Promise.resolve().then(i.bind(null,141))}},data:function(){return{loading:!1}},methods:{create:function(t){var e=this,n={definition:t,item:e.contact};e.$fluro.modal({component:function(){return Promise.resolve().then(i.bind(null,141))},options:n}).then((function(){e.$fluro.resetCache()}))}},asyncComputed:{postTypes:{default:[],get:function(){var t=this;return new Promise((function(e,i){t.$fluro.types.subTypes("post").then((function(i){var n=_.filter(i,(function(e){if(_.chain(e).get("data.postParentTypes").includes("contact").value()){var i=t.$fluro.access.can("submit",e.definitionName,"post"),n=t.$fluro.access.can("create",e.definitionName,"post");return i||n}}));e(n)})).catch(i)}))}},items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/info/posts?contact=".concat(e)).then((function(e){i(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},ge=(i(538),Object(c.a)(ve,he,[],!1,null,null,null));ge.options.__file="src/components/content/contact/timeline/ContactPostThread.vue";var be=ge.exports,ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-detail-list"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("v-container",{attrs:{fluid:""}},t._l(t.orderedSheets,(function(e){return i("fluro-panel",{staticClass:"sheet-panel",class:e.status,attrs:{fluid:""}},[i("fluro-panel-title",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{shrink:""}},[i("fluro-realm-dots",{attrs:{realms:e.realms}})],1),t._v(" "),i("v-flex",[i("strong",[t._v(t._s(e.fullDefinition.title)+" "),"archived"==e.status?i("span",[t._v("(Archived)")]):t._e()])]),t._v(" "),t.$fluro.access.canEditItem(e)?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Edit"},on:{click:function(i){return t.edit(e)}}},[i("fluro-icon",{attrs:{icon:"pencil"}})],1)],1):t._e(),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Actions"},on:{click:function(i){return t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1),t._v(" "),"archived"!=e.status?i("fluro-panel-body",[i("fluro-content-render",{attrs:{fields:e.fullDefinition.fields},model:{value:e.data,callback:function(i){t.$set(e,"data",i)},expression:"sheet.data"}})],1):t._e()],1)})),1)],1)]],2)};ye._withStripped=!0;var _e={props:{contact:{type:Object}},components:{FluroContentRender:function(){return Promise.resolve().then(i.bind(null,297))}},data:function(){return{loading:!1}},methods:{edit:function(t){var e=this;e.$fluro.global.edit(t,!0).then((function(i){console.log("RESPONSE!",i,t),e.$set(t,"data",i.data)}))},create:function(t){var e=this,i={definition:t,item:e.contact};e.$fluro.modal({component:AddPost,options:i}).then((function(){e.$fluro.resetCache()}))}},computed:{orderedSheets:function(){return _.chain(this.items).orderBy((function(t){switch(t.status){case"archived":return 1e3;case"active":return-1e3}return 0})).value()}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/contact/details/".concat(e)).then((function(e){i(e.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},xe=(i(540),Object(c.a)(_e,ye,[],!1,null,null,null));xe.options.__file="src/components/content/contact/timeline/ContactDetailList.vue";var ke=xe.exports,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-message-list"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),i("div",{staticClass:"entries"},t._l(e.items,(function(e){return i("div",{key:e._id},["mailout"==e._type?i("mailout-card",{attrs:{item:e}}):t._e(),t._v(" "),"sms"==e._type?i("text-message-card",{attrs:{item:e}}):t._e()],1)})),0)])}))],2)}))],2)})),0)])]],2)};we._withStripped=!0;var Ce={props:{contact:{type:Object}},components:{MailoutCard:function(){return i.e(2).then(i.bind(null,1075))},TextMessageCard:function(){return i.e(4).then(i.bind(null,1081))}},data:function(){return{loading:!1}},computed:{timeline:function(){var t=[];return t=_.chain(t.concat(this.sms,this.emails)).orderBy((function(t){return new Date(t.date)})).reverse().value(),this.$fluro.date.timeline(t,"date")}},asyncComputed:{sms:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/contact/".concat(e,"/sms")).then((function(e){var n=_.map(e.data,(function(t){return t._type="sms",t}));i(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}},emails:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/info/correspondence?contact=".concat(e)).then((function(e){var n=_.map(e.data,(function(t){return t._type="mailout",t}));i(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},Se=(i(542),Object(c.a)(Ce,we,[],!1,null,null,null));Se.options.__file="src/components/content/contact/timeline/ContactMessageList.vue";var De=Se.exports,Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-transaction-list"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),i("div",{staticClass:"entries"},t._l(e.items,(function(e){return i("div",{key:e._id,staticClass:"entry",on:{click:function(i){return t.$fluro.global.view(e,!0)}}},[i("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),i("v-layout",[i("v-flex",[i("strong",[t._v(t._s(e.title))]),t._v(" "),i("div",[t._v(t._s(e.formattedAmount))]),t._v(" "),i("div",{staticClass:"text-muted sm"},[t._v("\n                                                "+t._s(e.module)+" - "+t._s(e.paymentStatus)+" - "+t._s(t._f("formatDate")(e.created,"dddd D MMM YYYY"))+" ("+t._s(t._f("timeago")(e.created))+")\n                                            ")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};Oe._withStripped=!0;var Me={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/info/transactions?contact=".concat(e)).then((function(e){var n=_.map(e.data,(function(e){return e.formattedAmount=t.$fluro.utils.formatCurrency(e.amount,e.currency),e}));i(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},Pe=Object(c.a)(Me,Oe,[],!1,null,null,null);Pe.options.__file="src/components/content/contact/timeline/ContactTransactionList.vue";var $e=Pe.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-transaction-list"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),i("div",{staticClass:"entries"},t._l(e.items,(function(e){return i("div",{key:e._id,staticClass:"entry",on:{click:function(i){return t.$fluro.global.view(e,!0)}}},[i("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),i("v-layout",[i("v-flex",[i("strong",[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"text-muted sm"},[t._v("\n                                                "+t._s(t._f("formatDate")(e.created,"dddd D MMM YYYY"))+" ("+t._s(t._f("timeago")(e.created))+")\n                                            ")])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};Fe._withStripped=!0;var Te={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/info/interactions?contact=".concat(e)).then((function(e){var n=_.map(e.data,(function(t){return t}));i(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},je=Object(c.a)(Te,Fe,[],!1,null,null,null);je.options.__file="src/components/content/contact/timeline/ContactInteractionList.vue";var Ne=je.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-checkin-list"},[t.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},t._l(t.timeline,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),i("div",{staticClass:"entries"},t._l(e.items,(function(e){return i("div",{key:e._id,staticClass:"entry",on:{click:function(i){return t.$fluro.global.view(e,!0)}}},[i("fluro-realm-bar",{attrs:{realm:e.realms}}),t._v(" "),i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+t.$fluro.asset.coverUrl(e.event._id,"event",{w:50})+")"}})]),t._v(" "),i("v-flex",[i("div",[i("strong",[t._v(t._s(e.event.title))]),t._v(" "),i("div",[i("strong",{staticClass:"sm"},[t._v(t._s(t._f("readableEventDate")(e.event)))])]),t._v(" "),i("div",{staticClass:"sm text-muted"},[t._v(t._s(t._f("definitionTitle")(e.event.definition?e.event.definition:"event"))+"  "+t._s(e.event.firstLine))])])]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.$actions.open([e])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};Ee._withStripped=!0;var Ie={props:{contact:{type:Object}},components:{},data:function(){return{loading:!1}},computed:{timeline:function(){return this.$fluro.date.timeline(this.items,"event.startDate")}},asyncComputed:{items:{default:[],get:function(){var t=this;t.loading=!0;var e=t.$fluro.utils.getStringID(t.contact);return e||(Promise.resolve([]),t.loading=!1),new Promise((function(i,n){t.$fluro.api.get("/info/checkins?contact=".concat(e)).then((function(e){var n=_.map(e.data,(function(t){return t}));i(n),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},Ae=(i(544),Object(c.a)(Ie,Ee,[],!1,null,"faa00218",null));Ae.options.__file="src/components/content/contact/timeline/ContactCheckinList.vue";var Le=Ae.exports,Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"contact-team-list"},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("contact-group-manager",{model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)],1)],1)};Re._withStripped=!0;var Ve={props:{contact:{type:Object}},components:{ContactGroupManager:function(){return i.e(67).then(i.bind(null,917))}}},Be=(i(546),Object(c.a)(Ve,Re,[],!1,null,null,null));Be.options.__file="src/components/content/contact/timeline/ContactTeamList.vue";var qe=Be.exports,Ye=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell",class:this.data},[e("fluro-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:this.data,library:this.library,icon:this.icon}})],1)};Ye._withStripped=!0;var ze={props:{row:{type:Object},column:{type:Object},data:{}},computed:{icon:function(){return"public"==this.data?"lock-open":"lock"},library:function(){return"public"==this.data?"far":"fas"}}},Ue=(i(548),Object(c.a)(ze,Ye,[],!1,null,"2484e7cb",null));Ue.options.__file="src/components/table/cells/PrivacyCell.vue";var Ge=Ue.exports,Ke=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("pre",[this._v(this._s(this.data))])])};Ke._withStripped=!0;var He={props:{row:{type:Object},column:{type:Object},data:{}}},We=Object(c.a)(He,Ke,[],!1,null,null,null);We.options.__file="src/components/table/cells/JSONCell.vue";var Je=We.exports,Xe=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boolean-cell text-xs-center",class:{true:this.booleanTrue,false:!this.booleanTrue}},[this.booleanTrue?e("fluro-icon",{attrs:{library:"fas",icon:"check-circle"}}):e("fluro-icon",{attrs:{library:"far",icon:"times"}})],1)};Xe._withStripped=!0;var Qe={props:{row:{type:Object},column:{type:Object},data:{}},computed:{booleanTrue:function(){if(!_.isString(this.data))return!!this.data;switch(String(this.data).toLowerCase()){case"true":case"y":case"yes":return!0;case"false":case"null":case"undefined":case"n":case"no":case"":return}}}},Ze=Object(c.a)(Qe,Xe,[],!1,null,null,null);Ze.options.__file="src/components/table/cells/TicketCollectCell.vue";var ti=Ze.exports,ei=i(333),ii=i(287),ni=i(288),ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-prompt-dialog"},[i("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.done(e)}}},[t.title?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"pa-2":""}},[t.title?i("h3",[t._v(t._s(t.title))]):t._e()])],1):t._e(),t._v(" "),i("flex-column-body",[i("v-container",{attrs:{"pa-2":""}},[i("fluro-content-form",{attrs:{fields:t.options.fields},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"pa-2":""}},[i("constrain",{attrs:{xs:""}},[i("v-layout",[i("v-btn",{attrs:{block:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                        Cancel\n                    ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{block:"",type:"submit",color:"primary"}},[t._v("\n                        Continue\n                    ")])],1)],1)],1)],1)],1)])};ri._withStripped=!0;var ai=i(40),oi={components:{FluroContentForm:ai.default},props:{options:{type:Object}},mixins:[n.a],data:function(){return{model:this.options.model||{}}},computed:{title:function(){return this.options.title}},methods:{done:function(){return this.close(this.model)}}},si=(i(606),Object(c.a)(oi,ri,[],!1,null,null,null));si.options.__file="src/components/ui/modal/PromptDialog.vue";var li=si.exports,ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"fluro-confirm-dialog"},[t.title||t.description?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[i("constrain",{attrs:{xs:""}},[t.title?i("h3",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.description?i("div",{staticClass:"muted"},[t._v(t._s(t.description))]):t._e()])],1)],1):t._e(),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2"},[i("constrain",{attrs:{xs:""}},[i("v-layout",[i("v-btn",{attrs:{block:""},on:{click:function(e){return t.dismiss()}}},[t._v("\n                        Cancel\n                    ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{block:"",color:t.confirmColor},on:{click:function(e){return t.close()}}},[t._v("\n                        "+t._s(t.confirmText)+"\n                    ")])],1)],1)],1)],1)],1)};ci._withStripped=!0;var ui=i(61),di={props:{options:{type:Object}},mixins:[n.a,ui.a],data:function(){return{}},computed:{confirmColor:function(){return this.options.confirmColor?this.options.confirmColor:"success"},confirmText:function(){return this.options.confirmText?this.options.confirmText:"Confirm"},title:function(){return this.options.title},description:function(){return this.options.description}}},fi=(i(608),Object(c.a)(di,ci,[],!1,null,null,null));fi.options.__file="src/components/ui/modal/ConfirmDialog.vue";var pi=fi.exports,mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-list-item"},[i("fluro-realm-bar",{attrs:{realm:t.item.realms}}),t._v(" "),i("div",{staticClass:"item-icon",class:t.item._type},["persona"==t.item._type?[i("fluro-avatar",{attrs:{id:t.item._id,type:"persona"}})]:"contact"==t.item._type?[i("fluro-avatar",{attrs:{id:t.item._id,type:"contact"}})]:"image"==t.item._type?[i("fluro-image",{attrs:{item:t.item,spinner:!0,width:40,height:40}})]:[i("fluro-icon",{attrs:{type:t.item._type}})]],2),t._v(" "),i(t.linkType,{tag:"component",staticClass:"item-text",attrs:{to:t.to,target:t.target,href:t.href}},[i("div",[i("div",{staticClass:"item-title"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"item-subtitle"},[t._v(t._s(t.subtitle))])])]),t._v(" "),t._t("actions",[t.actionsEnabled?i("div",{staticClass:"item-actions",class:{active:t.actionsOpen}},[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:"",flat:""}},n),[t.actionsOpen?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-v"}})],1)]}}],null,!1,2747980089),model:{value:t.actionsOpen,callback:function(e){t.actionsOpen=e},expression:"actionsOpen"}},[t._v(" "),i("v-list",{attrs:{dense:""}},t._l(t.availableActions,(function(e){return i("v-list-tile",{on:{click:e.click}},[i("v-list-tile-content",[t._v(t._s(e.title))])],1)})),1)],1)],1):t._e()])],2)};mi._withStripped=!0;var hi=i(102),vi={components:{FluroRealmBar:hi.default},props:{draggable:{default:!1,type:Boolean},to:{type:Object},href:{type:String},target:{type:String},item:[String,Object],model:{type:String,default:"node"},actions:{type:[Array,Boolean],default:function(){return[]}},defaultActions:{type:Boolean}},data:function(){return{actionsOpen:!1,availableActions:this.actions}},created:function(){var t=this,e=t.actions||[],i=t.item,n=t.$fluro.access.canEditItem(i),r=t.$fluro.access.canViewItem(i),a=t.$fluro.access.canDeleteItem(i);if(t.defaultActions&&!1!==t.actions){if(n&&e.push({title:"Edit",click:function(){t.$fluro.global.edit&&t.$fluro.global.edit(i)}}),r){switch(e.push({title:"View",click:function(){t.$fluro.global.view&&t.$fluro.global.view(i)}}),i._type){case"image":var o=t.$fluro.asset.getUrl(i);e.push({title:"View Image",click:function(){window.open(o)}});break;case"video":o=t.$fluro.asset.imageUrl(i);e.push({title:"Watch Video",click:function(){window.open(o)}});break;case"audio":o=t.$fluro.asset.getUrl(i);e.push({title:"Listen",click:function(){window.open(o)}})}if("upload"==i.assetType){o=t.$fluro.asset.downloadUrl(i);e.push({title:"Download",click:function(){window.open(o)}})}}a&&e.push({title:"Delete",click:function(){t.$fluro.global.delete&&t.$fluro.global.delete(i)}}),t.availableActions=e}},computed:{primaryRealm:function(){return _.chain(this.item).get("realms").filter((function(t){return t.bgColor})).last().value()},foregroundColor:function(){return this.primaryRealm?this.primaryRealm.color:null},backgroundColor:function(){return this.primaryRealm?this.primaryRealm.bgColor:null},actionsEnabled:function(){return!1!==this.actions&&this.availableActions.length},linkType:function(){return this.to?"router-link":this.href?"a":"div"},realmStyle:function(){var t=_.chain(this.item).get("realms").compact().filter((function(t){return t.bgColor})).last().value();if(t)return{backgroundColor:t.bgColor}},icon:function(){return this.$fluro.types.icon(this.type)},type:function(){return _.get(this,"item._type")},definition:function(){return _.get(this,"item.definition")||this.type},title:function(){return _.get(this,"item.title")},firstLine:function(){return _.get(this,"item.firstLine")},subtitle:function(){var t=this.item,e=[];switch(t._type){case"contact":return"";case"event":e.push(this.$fluro.date.readableEventDate(t)),t.rooms&&e.push(t.rooms.join(", "));break;default:e.push(this.firstLine)}return _.compact(e).join(". ")}}},gi=(i(612),Object(c.a)(vi,mi,[],!1,null,"e21c3d46",null));gi.options.__file="src/components/FluroListItem.vue";var bi=gi.exports,yi=i(398),_i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"content-edit"},[t.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):[i("form",{staticClass:"flex-column",attrs:{disabled:"processing"==t.state},on:{submit:function(t){t.preventDefault()}}},[t.$vuetify.breakpoint.smAndUp?i("flex-column-header",["error"==t.state?[i("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v("\n                        "+t._s(t.serverErrors)+"\n                    ")])]:t._e()],2):t._e(),t._v(" "),i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:t.typeName},scopedSlots:t._u([{key:"left",fn:function(){return[i("fluro-inline-edit",{attrs:{enabled:t.clickTitleEdit},scopedSlots:t._u([{key:"default",fn:function(){return[i("h3",[t._v(t._s(t.title)+" "),i("span",{staticClass:"small text-muted"},[t._v(t._s(t.definitionTitle))])]),t._v(" "),t.summary?i("v-label",[t._v(t._s(t.summary))]):t._e()]},proxy:!0},{key:"edit",fn:function(e){e.props;var n=e.blur,r=e.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.title,expression:"model.title"}],attrs:{block:""},domProps:{value:t.model.title},on:{focus:function(t){return r(t)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n(e)},blur:n,input:function(e){e.target.composing||t.$set(t.model,"title",e.target.value)}}})]}}])})]},proxy:!0},{key:"right",fn:function(){return["realm"!=t.typeName?i("fluro-realm-select",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Select where this "+t.definitionTitle+" should be stored",type:t.typeName,definition:t.definitionName},model:{value:t.model.realms,callback:function(e){t.$set(t.model,"realms",e)},expression:"model.realms"}}):t._e(),t._v(" "),"tag"!=t.typeName?i("fluro-tag-select",{staticClass:"mx-0 ml-2",model:{value:t.model.tags,callback:function(e){t.$set(t.model,"tags",e)},expression:"model.tags"}}):t._e(),t._v(" "),t.model._id?i("v-btn",{staticClass:"mx-0 ml-2",on:{click:function(e){return t.$actions.open([t.model])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):t._e(),t._v(" "),t.embedded?t._e():i("v-btn",{staticClass:"mx-0 ml-2",on:{click:t.cancel}},[t._v("\n                            Close\n                        ")]),t._v(" "),i("v-btn",{staticClass:"mx-0 ml-2",attrs:{loading:"processing"==t.state,disabled:t.hasErrors,color:"primary"},on:{click:t.submit}},[t._v("\n                            "+t._s(t.saveText)+"\n                        ")])]},proxy:!0}])})],1),t._v(" "),t.component?i(t.component,{ref:"form",tag:"component",attrs:{context:t.context,type:t.typeConfig,config:t.config,definition:t.definition},on:{errorMessages:t.validate,input:t.updateModel,file:t.fileChanged},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}):t._e(),t._v(" "),t.showFooter?[t.$vuetify.breakpoint.xsOnly?[i("flex-column-footer",["error"==t.state?[i("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v("\n                                "+t._s(t.serverErrors)+"\n                            ")])]:t._e()],2),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"py-0":"","px-1":""}},[i("fluro-realm-select",{attrs:{block:"",type:t.typeName,definition:t.definitionName},model:{value:t.model.realms,callback:function(e){t.$set(t.model,"realms",e)},expression:"model.realms"}})],1)],1),t._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"py-0":"","px-1":""}},[i("v-layout",[i("v-flex",[i("v-btn",{attrs:{block:""},on:{click:t.cancel}},[t._v("\n                                        Cancel\n                                    ")])],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",[i("v-btn",{staticClass:"mr-0",attrs:{block:"",loading:"processing"==t.state,disabled:t.hasErrors,color:"primary"},on:{click:t.submit}},[t._v("\n                                        "+t._s(t.saveText)+"\n                                    ")])],1)],1)],1)],1)]:[i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{fluid:"","pa-1":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[t.model._id?[i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Metadata Options",small:"",icon:"",flat:""}},n),[i("fluro-icon",{attrs:{library:"fas",icon:"info"}})],1)]}}],null,!1,2964907650)},[t._v(" "),i("v-container",{staticStyle:{background:"#fff"},attrs:{"pa-2":"","grid-list-xl":""}},[i("fluro-content-form-field",{attrs:{field:t.extraFields.inheritable},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),t._v(" "),i("fluro-content-form-field",{attrs:{field:t.extraFields.slug},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),t._v(" "),i("v-container",{staticClass:"white-background",attrs:{"pa-2":""}},[t.model._id?[i("v-input",{staticClass:"no-flex",attrs:{label:"Fluro ID"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(e){return t.copyToClipboard(t.model._id)}}},[t._v(t._s(t.model._id))])],1)]:t._e(),t._v(" "),t.model._external?[i("v-input",{staticClass:"no-flex",attrs:{label:"External ID"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(e){return t.copyToClipboard(t.model._external)}}},[t._v(t._s(t.model._external))])],1)]:t._e(),t._v(" "),[i("v-btn",{attrs:{block:"",small:""},on:{click:function(e){return t.$fluro.global.json(t.model)}}},[t._v("\n                                                        View JSON\n                                                        "),i("fluro-icon",{attrs:{right:"",icon:"brackets-curly"}})],1)],t._v(" "),i("input",{ref:"clipboard",attrs:{type:"hidden"}})],2)],1)],1)]:t._e(),t._v(" "),t.enableAutomationDates?[i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Publish/Archive Dates",small:"",icon:"",flat:""}},n),[i("fluro-icon",{attrs:{icon:"clock"}})],1)]}}],null,!1,672650455)},[t._v(" "),i("v-container",{staticStyle:{background:"#fff"},attrs:{"grid-list-xl":""}},[i("v-layout",[i("v-flex",[i("v-input",{staticClass:"no-flex",attrs:{label:"Publish Date","persistent-hint":!0,hint:t.publishDateHint}},[i("fluro-content-form-field",{attrs:{field:t.extraFields.publishDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),t._v(" "),i("v-flex",[i("v-input",{staticClass:"no-flex",attrs:{label:"Archive Date","persistent-hint":!0,hint:t.archiveDateHint}},[i("fluro-content-form-field",{attrs:{field:t.extraFields.archiveDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),t._v(" "),i("v-flex",[i("fluro-content-form-field",{attrs:{field:t.extraFields.createdDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1)],1)],1)],1)]:t._e(),t._v(" "),i("v-spacer"),t._v(" "),i("v-flex",{attrs:{shrink:""}},[t.model._id?[i("em",{staticClass:"muted sm"},[t._v("Last updated "+t._s(t._f("timeago")(t.model.updated)))])]:t._e(),t._v(" "),t.canChangeStatus?i("fluro-status-select",{attrs:{type:t.model._type},model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}}):t._e()],2),t._v(" "),t.model._id?i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"History and Change log",small:"",icon:"",flat:""}},n),[i("fluro-icon",{attrs:{library:"fas",icon:"history"}})],1)]}}],null,!1,345657208)},[t._v(" "),i("div",{staticStyle:{"min-width":"320px"}},[i("changelog",{attrs:{item:t.model}})],1)])],1):t._e()],2)],1)],1)]]:t._e()],2)]],2)};_i._withStripped=!0;i(65),i(25);var xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tag-select"},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"pill mx-0",attrs:{small:t.small,block:t.block}},n),[t._v("\n                "+t._s(t.model.length?t.model.length:null)),i("fluro-icon",{attrs:{right:t.model.length>0,type:"tag"}})],1)]}}])},[t._v(" "),i("v-card",{attrs:{tile:""}},[i("v-container",{staticStyle:{"max-width":"320px"}},t._l(t.tagGroups,(function(e){return i("v-input",{staticClass:"no-flex"},[i("v-label",[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"inline-tags"},t._l(e.tags,(function(e){return i("span",{staticClass:"inline-tag",on:{click:function(i){return t.removeTag(e)}}},[t._v("\n                            "+t._s(e.title)+"\n                            "),i("fluro-icon",{staticClass:"off",attrs:{right:"",icon:"tag"}}),t._v(" "),i("fluro-icon",{staticClass:"on",attrs:{right:"",icon:"times"}})],1)})),0),t._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:e.key},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)})),1)],1)],1)],1)};xi._withStripped=!0;i(27);var ki=function(){var t=this.$createElement;return(this._self._c||t)("div")};ki._withStripped=!0;var wi=i(63),Ci=i(64),Si={props:{options:{type:Object}},components:{FluroTabset:wi.a,FluroTab:Ci.a},mixins:[n.a],data:function(){return{selector:this.options.selector}}},Di=(i(620),Object(c.a)(Si,ki,[],!1,null,null,null));Di.options.__file="src/components/form/tagselect/TagSelectModal.vue";Di.exports;var Oi=i(72),Mi={asyncComputed:{tagDefinitions:{default:[],get:function(){return this.$fluro.types.subTypes("tag")}}},computed:{tagGroups:function(){var t=this,e=_.reduce(t.tagDefinitions,(function(t,e){return t[e.definitionName]={title:e.title,tags:[],key:e.definitionName},t}),{tag:{title:"Tags",tags:[],key:"tag"}});return _.chain(this.model).reduce((function(e,i){var n=i.definition||"tag",r=e[n];return r||(r=e[n]={title:t.$fluro.types.readable(n,!0),tags:[]}),r.tags.push(i),e}),e).values().value()}},methods:{removeTag:function(t){var e=this.model.indexOf(t);this.model.splice(e,1),console.log("Remove",e)}},components:{FluroContentSelectButton:Oi.default},props:{small:{type:Boolean},block:{type:Boolean},value:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},Pi=(i(638),Object(c.a)(Mi,xi,[],!1,null,"7e6571ee",null));Pi.options.__file="src/components/form/tagselect/FluroTagSelect.vue";var $i=Pi.exports,Fi=i(85),Ti=i(176),ji=i(60),Ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("flex-column",{staticClass:"log-viewer",staticStyle:{background:"#fff"}},[i("flex-column-header",[i("v-container",{staticClass:"border-bottom",attrs:{"pa-1":""}},[i("strong",[t._v("Historical Change Log")])])],1),t._v(" "),i("flex-column-body",[t.loading?i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1):i("div",{staticClass:"timeline"},t._l(t.dates,(function(e){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[t._v(t._s(t._f("formatDate")(e.date,"YYYY")))]),t._v(" "),t._l(e.months,(function(e){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[t._v(t._s(t._f("formatDate")(e.date,"MMM")))]),t._v(" "),t._l(e.days,(function(e){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[t._v(t._s(t._f("formatDate")(e.date,"ddd D")))]),t._v(" "),i("div",{staticClass:"entries"},t._l(e.items,(function(e){return i("div",{key:e._id,staticClass:"entry",on:{click:function(i){return t.$fluro.global.json(e.data,{title:e.message,depth:5})}}},[i("v-layout",[i("v-flex",{staticClass:"pr-1",attrs:{shrink:""}},[e.managedUser?i("fluro-avatar",{attrs:{id:e.managedUser,type:"persona"}}):t._e(),t._v(" "),e.user?i("fluro-avatar",{attrs:{id:e.user,type:"user"}}):t._e()],1),t._v(" "),i("v-flex",[i("strong",[t._v(t._s(e.message))]),t._v(" "),i("div",{staticClass:"sm muted"},[t._v(t._s(e.key)+" - "+t._s(e.managedUser?e.managedUser.title:""))])]),t._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{shrink:""}},[t._v("\n                                        "+t._s(t._f("formatDate")(e.created,"h:mma"))+"\n                                    ")])],1)],1)})),0)])}))],2)}))],2)})),0)],1)],1)};Ni._withStripped=!0;var Ei={props:{item:{type:[Object,String],required:!0}},data:function(){return{loading:!1}},computed:{itemID:function(){return this.$fluro.utils.getStringID(this.item)},dates:function(){return this.$fluro.date.timeline(this.log,"created")}},asyncComputed:{log:{default:[],get:function(){var t=this;return t.loading=!0,new Promise((function(e,i){t.$fluro.api.get("/log?item=".concat(t.itemID)).then((function(i){e(i.data),t.loading=!1})).catch(i)}))}}}},Ii=(i(644),Object(c.a)(Ei,Ni,[],!1,null,null,null));Ii.options.__file="src/components/content/edit/components/Changelog.vue";var Ai=Ii.exports,Li={props:{embedded:{type:Boolean},disableCacheClearOnSave:{type:Boolean,default:function(){return!0}},context:{type:String,default:"create"},type:{type:String,required:!0},value:{type:Object,default:function(){return{realms:[],tags:[]}}},options:{default:function(){return{}},type:Object}},data:function(){return{cacheClearRequired:!1,file:null,model:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:"ready",tagSearch:"",loading:!0}},created:function(){this.model&&!this.model.data&&this.$set(this.model,"data",{})},mounted:function(){this.addListeners()},activated:function(){this.addListeners()},deactivated:function(){this.removeListeners()},beforeDestroy:function(){this.removeListeners()},methods:{copyToClipboard:function(t){var e=this.$refs.clipboard;e.value=t,e.setAttribute("type","text"),e.select();try{document.execCommand("copy");this.$fluro.notify("Copied to clipboard")}catch(t){}e.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},addListeners:function(){document&&document.addEventListener("keydown",this.keypress,!1)},removeListeners:function(){document&&document.removeEventListener("keydown",this.keypress)},keypress:function(t){83==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&(t.preventDefault(),this.submit())},editSuccess:function(t){"definition"==t.data._type&&(console.log("Reload glossary"),this.$fluro.global.reloadTerminology()),this.state="ready",this.cacheClearRequired=!0,this.disableCacheClearOnSave||this.$fluro.resetCache(),this.$emit("success",t.data),this.$fluro.notify("".concat(t.data.title," was updated successfully"))},editFailed:function(t){var e=this.$fluro.utils.errorMessage(t);this.$fluro.error(t),this.serverErrors=e,this.state="error",this.$emit("error",t)},createSuccess:function(t){console.log("CREATE SUCCESS",t),"definition"==t.data._type&&(console.log("Reload glossary"),this.$fluro.global.reloadTerminology()),this.cacheClearRequired=!0,console.log("CREATE CLEAR?",this.cacheClearRequired,this.disableCacheClearOnSave),this.disableCacheClearOnSave||this.$fluro.resetCache(),this.reset(!0),this.$emit("success",t.data),this.$fluro.notify("".concat(t.data.title," was created successfully"))},createFailed:function(t){console.log("ERROR MESAGE HAPPEND");var e=this.$fluro.utils.errorMessage(t);this.$fluro.error(t),this.serverErrors=e,this.state="error",this.$emit("error",t)},fileChanged:function(t){console.log("FILE CHANGE HEARD",t),this.file=t},updateModel:function(){this.$emit("input",this.model)},cancel:function(){this.$emit("cancel")},touch:function(){_.each(this.formFields,(function(t){t.touch()}))},validate:function(){var t=this.$refs.form;if(!t)return[];this.errorMessages=t.errorMessages||[]},validateAllFields:function(){this.$refs.form.touch(),this.validate()},reset:function(t){console.log("RESET");this.model={realms:[],tags:[]},this.$refs.form&&this.$refs.form.reset(),this.result=null,this.state="ready",t||this.$emit("reset")},preprocessCreateData:function(t){switch(this.typeName){case"process":t.title&&t.title.length||t.item&&t.item.title&&t.item.title.length&&(t.title=t.item.title)}return t},isValidDate:function(t){return t instanceof Date&&!isNaN(t)},autosave:function(){var t=this;"processing"!=t.state&&(console.log("AUTOSAVE"),t.submitUpdate().then((function(e){t.state="ready"})).catch((function(e){t.state="ready"})))},submitUpdate:function(){this.state="processing";var t=Object.assign({},this.model);delete t.__v;var e=t.definition||this.definitionName||this.typeName;return this.$fluro.api.put("/content/".concat(e,"/").concat(t._id),t)},submit:function(){if(this.validateAllFields(),this.hasErrors)console.log("WE HAVE ERRORS",this.errorMessages);else{this.state="processing";var t=Object.assign({},this.model);delete t.__v;var e=t.definition||this.definitionName||this.typeName,i=this.context;switch(t._id&&(i="edit"),"attendance"!=this.typeName||t.title&&t.title.length||(t.title="".concat(t.event.title," headcount")),console.log("SENDING TO SERVER",i,this.model),i){case"edit":this.submitUpdate().then(this.editSuccess).catch(this.editFailed);break;default:if(t=this.preprocessCreateData(t),this.uploadForSave){var n=this.file;if(!n)return this.$fluro.notify("Please select a file to upload"),void(this.state="ready");var r="/file/upload";if(t.externalIntegration){var a=t.externalIntegration;a._id&&(a=a._id),r="/file/integration/upload/".concat(a)}n.state="uploading";var o=new FormData;o.append("json",JSON.stringify(t)),o.append("file",n.file,n.name);var s=o;return this.$fluro.api.post(r,s,{headers:{"Content-Type":"multipart/form-data"}}).then(this.createSuccess).catch(this.createFailed)}"family"==e?this.$fluro.api.post("/family",t).then(this.createSuccess).catch(this.createFailed):this.$fluro.api.post("/content/".concat(e),t).then(this.createSuccess).catch(this.createFailed)}}}},computed:{canChangeStatus:function(){switch(this.typeName){case"persona":case"realm":case"transaction":break;default:return!0}},showFooter:function(){return!this.hideFooter},hideFooter:function(){return"definition"==this.typeName},summary:function(){switch(this.typeName){case"event":return this.$fluro.date.readableEventDate(this.model);case"plan":var t,e=_.get(this.model,"event.title"),i=_.get(this.model,"startDate");if(e)return(t=this.$fluro.date.readableEventDate(this.model.event))?"".concat(t," - ").concat(this.model.event.title):void 0;if(i)return(t=this.$fluro.date.formatDate(i,"h:mm ddd D MMM"))||void 0}},clickTitleEdit:function(){switch(this.typeName){case"contact":return!1;default:return!0}},uploadForSave:function(){return!this.model._id&&"upload"==this.model.assetType},saveText:function(){return this.uploadForSave?"Upload":"Save"},enableAutomationDates:function(){switch(this.config.type.definitionName){case"article":case"asset":case"audio":case"video":case"image":case"code":case"collection":case"team":case"post":case"product":case"event":return!0}},publishDateHint:function(){if(this.model.publishDate&&this.isValidDate(this.model.publishDate))return"Change status to 'active' ".concat(this.$filters.timeago(this.model.publishDate))},archiveDateHint:function(){if(this.model.archiveDate&&this.isValidDate(this.model.archiveDate))return"Change status to 'archived' ".concat(this.$filters.timeago(this.model.archiveDate))},extraFields:function(){var t={inheritable:{title:"Inheritable",description:"Allow child accounts to reference and use this content",minimum:0,maximum:1,type:"boolean",key:"inheritable",expressions:{hide:function(){switch(this.typeName){case"contact":case"family":return!0}}}},slug:{title:"Slug / Readable ID",description:"A readable id that can be used for website urls and paths",minimum:0,maximum:1,type:"string",key:"slug",expressions:{hide:function(){switch(this.typeName){case"contact":case"family":return!0}}}},archiveDate:{minimum:0,maximum:1,type:"date",key:"archiveDate",directive:"datetimepicker"},publishDate:{minimum:0,maximum:1,type:"date",key:"publishDate",directive:"datetimepicker"},createdDate:{title:"Creation Date",minimum:0,maximum:1,type:"date",key:"created",directive:"datetimepicker"}};return t},showLoading:function(){return!this.config||this.loading||!this.component},title:function(){return this.model.title?this.model.title:"New"},definition:function(){return this.config.definition},typeConfig:function(){if(this.config)return this.config.type},definitionTitle:function(){return this.definition?this.definition.title:this.typeConfig.title},typeName:function(){if(this.typeConfig)return this.typeConfig.definitionName},definitionName:function(){return this.definition?this.definition.definitionName:""},hasErrors:function(){return!!this.errorMessages.length},component:function(){var t=this;if(this.typeName){return function(){return i(646)("./".concat(t.typeName,".vue"))}}}},components:{FluroTagSelect:$i,FluroRealmSelect:Fi.default,FluroStatusSelect:Ti.a,FluroInlineEdit:j.default,FluroContentFormField:ji.default,Changelog:Ai},asyncComputed:{config:{default:null,get:function(){var t=this;return t.type&&t.type.length?(t.loading=!0,new Promise((function(e,i){var n=t.$fluro.api.get("/defined/type/".concat(t.type));n.then((function(i){e(i.data),t.loading=!1})),n.catch((function(e){return t.$fluro.error(e),i(e)}))}))):(console.log("NO CONFIG LOADED"),Promise.reject({}))}}},watch:{value:function(){this.model=this.value}}},Ri=(i(647),i(649),Object(c.a)(Li,_i,[],!1,null,"ea01adb4",null));Ri.options.__file="src/components/content/edit/FluroContentEdit.vue";var Vi=Ri.exports,Bi=i(342),qi=i(115),Yi=i(174),zi=i(297),Ui=i(121),Gi=i(349),Ki=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fluro-page-preloader"},[e("v-progress-circular",{attrs:{width:1,indeterminate:""}})],1)};Ki._withStripped=!0;var Hi={},Wi=(i(694),Object(c.a)(Hi,Ki,[],!1,null,"625dafb6",null));Wi.options.__file="src/components/ui/FluroPagePreloader.vue";var Ji=Wi.exports,Xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-search-bar",class:{active:t.isActive}},[i("v-container",{class:{"pa-0":t.$vuetify.breakpoint.xsOnly},attrs:{"py-0":""}},[i("constrain",[i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"search-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{placeholder:t.placeholder},domProps:{value:t.model},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},input:[function(e){e.target.composing||(t.model=e.target.value)},t.keywordsChanged]}}),t._v(" "),i("div",{staticClass:"icon-search icon",class:{active:t.model.length},on:{click:function(e){return t.clear()}}},[t.model.length?i("fluro-icon",{attrs:{library:"far",icon:"times"}}):t._e(),t._v(" "),t.model.length?t._e():i("fluro-icon",{attrs:{library:"far",icon:"search"}})],1)]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"icon-more icon",class:{active:t.showOptions},on:{click:function(e){t.showOptions=!t.showOptions}}},[i("fluro-icon",{attrs:{library:"far",icon:"ellipsis-v"}})],1)])],1)],1)],1),t._v(" "),i("div",{staticClass:"options"},[i("v-slide-y-reverse-transition",[t.showOptions?i("v-container",{attrs:{fluid:"","pa-0":""}},[i("v-container",[t._t("options")],2)],1):t._e()],1)],1)],1)};Xi._withStripped=!0;var Qi={mixins:[ui.a],data:function(){return{isFocused:!1,model:this.value,showOptions:!1,debounced:null}},props:{debounce:{type:Number,default:500},placeholder:{type:String,default:"Search"},value:{type:String,default:""}},created:function(){var t=this;t.debounced=_.debounce((function(){console.log("DEBOUNCED",t.model),t.$emit("input",t.model)}),t.debounce)},computed:{isActive:function(){return this.isFocused||this.model.length}},methods:{keywordsChanged:function(){if(!this.model||!this.model.length)return this.clear();this.debounced()},clear:function(){this.model="",this.$emit("input","")}}},Zi=(i(696),Object(c.a)(Qi,Xi,[],!1,null,"6a2e384c",null));Zi.options.__file="src/components/ui/FluroSearchBar.vue";var tn=Zi.exports,en=function(){var t=this.$createElement,e=this._self._c||t;return this.iconName?e("font-awesome-icon",{attrs:{spin:this.spin,"fixed-width":"",icon:this.iconName}}):this._e()};en._withStripped=!0;var nn={props:{type:{type:String},icon:{type:String},library:{type:String,default:function(){return this.$fluro.global.defaultIconLibrary||"fas"}},spin:{type:Boolean}},computed:{fontLibrary:function(){return this.library||this.$fluro.global.defaultIconLibrary||"fas"},iconName:function(){return this.icon?[this.fontLibrary,this.icon]:this.$fluro.types.icon(this.type,this.fontLibrary)||[this.fontLibrary,this.type]}}},rn=(i(698),Object(c.a)(nn,en,[],!1,null,"61d6caba",null));rn.options.__file="src/components/ui/FluroIcon.vue";var an=rn.exports,on=i(175),sn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inline-tags"},t._l(t.filtered,(function(e){return i("span",{staticClass:"inline-tag",style:{backgroundColor:e.bgColor||"rgba(0,0,0,0.5);",color:e.color||"rgba(0,0,0,0.8)"}},[t._v("\n"+t._s(e.title)+"\n    ")])})),0)};sn._withStripped=!0;var ln={props:{realms:{default:function(){return[]},type:Array}},computed:{filtered:function(){return _.chain(this.realms).filter((function(t){if(!t._discriminatorType)return!0})).orderBy((function(t){return t.title})).value()}}},cn=(i(700),Object(c.a)(ln,sn,[],!1,null,"41ee6357",null));cn.options.__file="src/components/ui/FluroRealmTags.vue";var un=cn.exports,dn=i(293),fn=i(334),pn=i(335),mn=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"accordion"},[this._t("default")],2)};mn._withStripped=!0;var hn={props:{options:{type:Object},activePanel:{type:Number}},provide:function(){return{panels:this.panels,activePanelIndex:this.activePanelIndex,selectPanel:this.selectPanel}},data:function(){return{panels:[],activePanelIndex:this.activePanel||0}},watch:{activePanel:"selectPanel"},methods:{selectPanel:function(t){console.log("SELECT PANEL",t);var e=this;t=Math.max(t,0),t=Math.min(t,e.panels.length-1),e.activePanelIndex=t,_.each(e.panels,(function(t,i){t.active=i==e.activePanelIndex}))}}},vn=(i(706),Object(c.a)(hn,mn,[],!1,null,null,null));vn.options.__file="src/components/ui/accordion/FluroAccordion.vue";var gn=vn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"accordion-panel",class:{expanded:t.active}},[i("div",{staticClass:"accordion-panel-title",on:{click:function(e){return t.selectPanel(t.index)}}},[i("v-layout",[i("v-flex",[t._v("\n                                "+t._s(t.heading)+"\n                            ")]),t._v(" "),i("v-flex",{attrs:{shrink:""}},[i("fluro-icon",{attrs:{icon:t.field.expanded?"angle-up":"angle-down"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"accordion-panel-body"},[i("v-container",{attrs:{fluid:""}},[t._t("default")],2)],1)])};bn._withStripped=!0;var yn={props:{heading:{type:String}},inject:["panels","activePanelIndex","selectPanel"],created:function(){this.index=this.panels.length,this.panels.push(this)},computed:{active:function(){return this.index==this.activePanelIndex}},data:function(){return{index:0}}},_n=(i(708),Object(c.a)(yn,bn,[],!1,null,null,null));_n.options.__file="src/components/ui/accordion/FluroAccordionPanel.vue";var xn=_n.exports,kn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluro-content-browser"},[i("v-toolbar",{staticClass:"elevation-0"},[i("v-spacer"),t._v(" "),i("v-text-field",{attrs:{solo:"","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.close()}}},[t._v("\n            Done\n        ")])],1),t._v(" "),i("v-card",[t.loading?[i("v-card-text",{staticClass:"text-sm-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:[t.model.length?i("v-toolbar",{staticClass:"elevation-0"},[i("div",[t._v(t._s(t.selectionSummary))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-item-group",[t.canSelectAll?i("v-btn",{attrs:{small:""},on:{click:function(e){return t.selectAll()}}},[t._v("\n                        Select all "+t._s(t.items.length)+"\n                    ")]):t._e(),t._v(" "),i("v-btn",{attrs:{small:""},on:{click:function(e){return t.deselectAll()}}},[t._v("\n                        Deselect "+t._s(1==t.maximum?"":"all")+"\n                    ")])],1)],1):t._e(),t._v(" "),t.items?[i("v-data-table",{attrs:{"item-key":"_id",search:t.search,"select-all":t.multiple,"rows-per-page-items":t.pageOptions,"disable-initial-sort":!0,"hide-headers":t.$vuetify.breakpoint.xsOnly,headers:t.headers,items:t.items},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",{attrs:{active:t.isSelected(e.item)},on:{"!click":function(i){return i.preventDefault(),i.stopPropagation(),t.clicked(e.item)}}},[t.multiple?i("td",[i("v-checkbox",{attrs:{"hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1):t._e(),t._v(" "),i("td",{staticClass:"text-xs-center fixed-w"},["image"==e.item._type?[i("fluro-image",{attrs:{item:e.item,spinner:!0,width:50,height:50}})]:[i("fluro-icon",{attrs:{type:e.item._type}})]],2),t._v(" "),i("td",[i("div",[t._v(t._s(e.item.title))]),t._v(" "),i("div",{staticClass:"small muted"},[t._v(t._s(t.summary(e.item)))])]),t._v(" "),i("td",[t._v(t._s(t._f("timeago")(e.item.created)))]),t._v(" "),i("td",[t._v(t._s(t._f("timeago")(e.item.updated)))])])]}}],null,!1,1928552038),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:t._e()]],2)],1)};kn._withStripped=!0;var wn=i(76),Cn={mixins:[wn.a],created:function(){this.setSelection(this.value)},props:{value:{default:function(){return[]},type:Array},type:{type:String},minimum:{type:Number,default:0},maximum:{type:Number,default:0}},watch:{model:function(){this.$emit("input",this.model)}},computed:{model:{get:function(){return this.selection},set:function(t){this.selection=t}},canSelectAll:function(){if(this.model.length!=this.items.length)return!this.maximum||this.total<this.maximum},selectionSummary:function(){if(this.multiple){if(this.minimum)return this.model.length>=this.minimum?"".concat(this.model.length," selected"):"".concat(this.model.length," of ").concat(this.minimum," required");if(this.maximum)return"".concat(this.model.length," of max ").concat(this.maximum," selected")}return"".concat(this.model.length," selected")},search:{get:function(){return this.terms},set:_.debounce((function(t){this.terms=t}),500)},multiple:function(){return 1!=this.maximum},total:function(){return this.model.length},canAddValue:function(){return!this.maximum||this.total<this.maximum}},data:function(){return{loading:!0,terms:"",pageOptions:[10,20,60],headers:[{text:"",align:"left",sortable:!1,value:""},{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Updated",align:"left",sortable:!0,value:"updated"},{text:"Created",align:"left",sortable:!0,value:"created"}]}},methods:{selectAll:function(){this.maximum?this.setSelection(this.items.slice(0,this.maximum)):this.setSelection(this.items)},clicked:function(t){if(this.isSelected(t))return this.deselect(t);this.multiple?this.canAddValue&&this.select(t):this.setSelection([t])},close:function(){this.$emit("close")},summary:function(t){var e=t.firstLine||"";switch(t._type){case"event":e="".concat(this.$fluro.date.readableEventDate(t)," ").concat(e)}return e}},asyncComputed:{items:{get:function(){var t=this,e="/content";t.type&&t.type.length&&(e="/content/".concat(t.type)),t.loading=!0;var i=t.$fluro.api.get(e,{params:{list:!0,simple:!0}});return new Promise((function(e,n){i.then((function(i){e(i.data),t.loading=!1})).catch((function(e){n(e),t.loading=!1}))}))}}}},Sn=(i(710),Object(c.a)(Cn,kn,[],!1,null,null,null));Sn.options.__file="src/components/form/FluroContentBrowser.vue";var Dn=Sn.exports,On=i(399),Mn=i(152),Pn=i(141),$n=i(109),Fn=i(149),Tn=i(116),jn=i(400),Nn=function(){var t=this.$createElement;return(this._self._c||t)("code",{ref:"code",staticClass:"fluro-code-highlight"},[this._t("default")],2)};Nn._withStripped=!0;var En={props:{lang:{type:String,default:"javascript"}},mounted:function(){var t=this.$refs.code;window.hljs&&(console.log(t),window.hljs.highlightBlock(t))}},In=(i(716),Object(c.a)(En,Nn,[],!1,null,null,null));In.options.__file="src/components/FluroCodeHighlight.vue";var An=In.exports,Ln=i(401),Rn=i(402),Vn=i(347),Bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.form?[t.allowed?t._e():[t.user?[t._t("authenticated",null,{form:t.form})]:t._e(),t._v(" "),t.user?t._e():[t._t("unauthenticated",null,{form:t.form})]],t._v(" "),t.allowed?[i("div",{staticClass:"fluro-post-form"},[t._t("header",[i("v-layout",[i("fluro-avatar",{attrs:{left:"",md:"",id:t.user.persona,type:"persona"}}),t._v(" "),i("v-flex",{attrs:{"d-flex":""}},[i("h3",{attrs:{title:""}},[t._v(t._s(t.displayTitle))])])],1)],{title:t.displayTitle,form:t.form,targetID:t.targetID}),t._v(" "),i("form",{attrs:{disabled:"processing"==t.state},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("fluro-content-form",{ref:"form",attrs:{options:t.options,fields:t.form.fields},model:{value:t.model.data,callback:function(e){t.$set(t.model,"data",e)},expression:"model.data"}}),t._v(" "),i("div",{staticClass:"actions"},["processing"==t.state?[i("v-btn",{staticClass:"mx-0",attrs:{disabled:!0}},[t._v("\n                                Processing\n                                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==t.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                                "+t._s(t.serverErrors)+"\n                            ")]),t._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v("\n                                Try Again\n                            ")])]:[t.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                                Please check the following issues before submitting\n                                "),t._l(t.errorMessages,(function(e){return i("div",[i("strong",[t._v(t._s(e.title))]),t._v(": "+t._s(e.messages[0])+"\n                                ")])}))],2):t._e(),t._v(" "),t._t("submit",[i("v-btn",{staticClass:"mx-0",attrs:{disabled:t.hasErrors,type:"submit",color:"primary"}},[t._v("\n                                    "+t._s(t.saveButtonText)+"\n                                ")])],{hasErrors:t.hasErrors})]],2)],1)],2)]:t._e()]:t._e()],2)};Bn._withStripped=!0;i(11),i(54),i(105),i(21),i(36);var qn=i(9),Yn=i(142);function zn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var Un={props:{title:{type:String},type:{type:String},cancelButtonText:{type:String},saveButtonText:{type:String,default:"Submit"},target:{type:[Object,String]},options:{default:function(){return{}},type:Object}},data:function(){return{model:{data:{}},serverErrors:"",errorMessages:[],thread:[],state:"ready"}},created:function(){},mounted:function(){var t=this;t.$watch((function(){return A.a.get(t.$refs,"form.errorMessages")}),t.validate),t.validate()},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(i),!0).forEach((function(e){Object(qn.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({targetID:function(){return this.$fluro.utils.getStringID(this.target)},hasErrors:function(){return!!this.errorMessages.length},displayTitle:function(){return this.title?this.title:"Add ".concat(this.form.title)},allowed:function(){var t=this.$fluro.access.can("create",this.type,"post"),e=this.$fluro.access.can("submit",this.type,"post");return t||e}},Object(Yn.mapFields)("fluro",["application","user"])),components:{FluroContentForm:ai.default},asyncComputed:{form:{default:[],get:function(){return this.$fluro.content.type(this.type)}}},methods:{validate:function(){this.errorMessages=A.a.get(this.$refs,"form.errorMessages")},clear:function(){this.reset()},reset:function(){this.$set(this.model,"data",{}),this.state="ready",this.$emit("reset")},submit:function(){var t=this;t.validate(),t.state="processing",t.$fluro.content.submitPost(this.target,this.type,this.model).then((function(e){t.$emit("created",e),t.$emit("success",e),t.reset()}),(function(e){t.$fluro.error(e),t.state="error",t.$emit("error",e),t.serverErrors=t.$fluro.utils.errorMessage(e)}))}}},Gn=(i(724),Object(c.a)(Un,Bn,[],!1,null,"44c8f1f5",null));Gn.options.__file="src/components/form/FluroPostForm.vue";var Kn=Gn.exports,Hn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{attrs:{disabled:"processing"==t.state},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("fluro-content-form",{ref:"form",attrs:{fields:t.fields},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),t._v(" "),i("div",{staticClass:"actions"},["processing"==t.state?[i("v-btn",{staticClass:"mx-0",attrs:{disabled:!0}},[t._v("\n                Processing\n                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==t.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                "+t._s(t.serverErrors)+"\n            ")]),t._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.state="ready"}}},[t._v("\n                Try Again\n            ")])]:[t.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[t._v("\n                Please check the following issues before submitting\n                "),t._l(t.errorMessages,(function(e){return i("div",[i("strong",[t._v(t._s(e.title))]),t._v(": "+t._s(e.messages[0])+"\n                ")])}))],2):t._e(),t._v(" "),t._t("submit",[i("v-btn",{staticClass:"mx-0",attrs:{disabled:t.hasErrors,type:"submit",color:"primary"}},[t._v("\n                    "+t._s(t.submitButtonText)+"\n                ")])],{hasErrors:t.hasErrors})]],2)],1)};Hn._withStripped=!0;var Wn={props:{method:{type:String,default:"post"},url:{type:String,required:!0},fields:{type:Array,required:!0},submitText:{type:String,default:"Submit"},value:{type:Object,default:function(){return{}}}},data:function(){return{model:this.value,state:"ready",serverErrors:"",errorMessages:[]}},components:{FluroContentForm:ai.default},mounted:function(){var t=this;t.$watch((function(){return _.get(t.$refs,"form.errorMessages")}),t.validate),t.validate()},computed:{submitButtonText:function(){return this.submitText},hasErrors:function(){return!!this.errorMessages.length}},methods:{validate:function(){this.errorMessages=_.get(this.$refs,"form.errorMessages")},clear:function(){this.reset()},reset:function(){this.model={},this.state="ready",this.$emit("reset")},submit:function(){var t,e=this;switch(e.validate(),e.state="processing",String(e.method).toLowerCase()){case"post":t=e.$fluro.api.post;break;case"put":t=e.$fluro.api.put;break;default:return}t(this.url,this.model).then((function(t){e.$emit("success",t.data),e.reset()}),(function(t){e.$fluro.error(t),e.state="error",e.$emit("error",t),e.serverErrors=e.$fluro.utils.errorMessage(t)}))}}},Jn=Object(c.a)(Wn,Hn,[],!1,null,null,null);Jn.options.__file="src/components/form/FluroBasicForm.vue";var Xn=Jn.exports,Qn=i(403),Zn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"fluro-post-thread"},[t._l(t.model,(function(e){return[t._t("post",null,{post:e})]}))],2)};function tr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}Zn._withStripped=!0;var er={props:{value:{type:Array}},data:function(){return{model:this.value}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(i),!0).forEach((function(e){Object(qn.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(Yn.mapFields)("fluro",["application","user"])),watch:{value:function(t){this.model=t},model:function(){this.$emit("input",this.model)}}},ir=(i(728),Object(c.a)(er,Zn,[],!1,null,"33311dfb",null));ir.options.__file="src/components/form/FluroPostThread.vue";var nr=ir.exports,rr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"fluro-stat-toggle"},[t._t("default",[i("a",{class:{active:t.statted},on:{click:t.toggle}},[t._v(t._s(t.readable))])],{statting:t.statting,toggle:t.toggle,increment:t.increment,decrement:t.decrement,statted:t.statted,store:t.store})],2)};rr._withStripped=!0;i(298);var ar={props:{target:{type:[String,Object],required:!0},stat:{type:String,required:!0}},watch:{target:"reset",stat:"reset"},data:function(){return{store:this.$fluro.stats.getUserStore(this.stat,!0),statting:!1,statted:!1}},created:function(){this.reset()},methods:{reset:function(){this.store&&this.store.removeEventListener("change",this.update),this.statted=this.store.isStatted(this.targetID),this.statting=this.store.isStatting(this.targetID),this.store.addEventListener("change",this.update),this.store.refresh()},update:function(){this.statting=this.store.isStatting(this.targetID),this.statted=this.store.isStatted(this.targetID)},toggle:function(){var t=this;t.statting=!0,t.store.toggle(t.targetID).then((function(e){t.statted=t.store.isStatted(t.targetID),t.statting=!1,t.$emit("statted",e.data)})).catch((function(e){t.statting=!1,t.statted=t.store.isStatted(t.targetID)||!1}))},increment:function(){},decrement:function(){}},beforeDestroy:function(){this.store.removeEventListener("change",this.update)},computed:{pastTense:function(){return A.a.endsWith(this.stat,"e")?"".concat(this.stat,"d"):"".concat(this.stat,"ed")},readable:function(){return this.statting?"processing":this.statted?this.pastTense:this.stat},targetID:function(){return this.$fluro.utils.getStringID(this.target)}}},or=Object(c.a)(ar,rr,[],!1,null,"111ebed4",null);or.options.__file="src/components/FluroStatToggle.vue";var sr=or.exports,lr=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"fluro-stat-total"},[this._t("default",[this._v("\n        "+this._s(this.total)+"\n    ")],{processing:this.processing,total:this.total,store:this.store})],2)};lr._withStripped=!0;var cr={props:{target:{type:[String,Object],required:!0},stat:{type:String,required:!0},unique:{type:Boolean,default:!1}},data:function(){return{store:null,processing:!1,total:0}},watch:{target:"reset",stat:"reset",unique:"reset"},created:function(){this.reset()},methods:{reset:function(){this.store&&this.store.removeEventListener("change",this.update),this.store=this.$fluro.stats.getStore(this.stat,this.targetID,this.unique),this.total=this.store.total,this.processing=this.store.processing,this.store.addEventListener("change",this.update)},update:function(){this.total=this.store.total,this.processing=this.store.processing}},beforeDestroy:function(){this.store.removeEventListener("change",this.update)},computed:{targetID:function(){return this.$fluro.utils.getStringID(this.target)}}},ur=Object(c.a)(cr,lr,[],!1,null,"114433f4",null);ur.options.__file="src/components/FluroStatTotal.vue";var dr=ur.exports,fr=function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"fluro-card"},[this._t("default")],2)};fr._withStripped=!0;i(730);var pr=Object(c.a)({},fr,[],!1,null,null,null);pr.options.__file="src/components/ui/card/FluroCard.vue";var mr=pr.exports,hr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluro-card-body"},[this._t("default")],2)};hr._withStripped=!0;i(732);var vr=Object(c.a)({},hr,[],!1,null,null,null);vr.options.__file="src/components/ui/card/FluroCardBody.vue";var gr=vr.exports,br=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluro-card-title"},[this._t("default")],2)};br._withStripped=!0;i(734);var yr=Object(c.a)({},br,[],!1,null,null,null);yr.options.__file="src/components/ui/card/FluroCardTitle.vue";var _r=yr.exports,xr=function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"fluro-panel"},[this._t("default")],2)};xr._withStripped=!0;i(736);var kr=Object(c.a)({},xr,[],!1,null,null,null);kr.options.__file="src/components/ui/panel/FluroPanel.vue";var wr=kr.exports,Cr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluro-panel-body"},[this._t("default")],2)};Cr._withStripped=!0;i(738);var Sr=Object(c.a)({},Cr,[],!1,null,null,null);Sr.options.__file="src/components/ui/panel/FluroPanelBody.vue";var Dr=Sr.exports,Or=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluro-panel-title"},[this._t("default")],2)};Or._withStripped=!0;i(740);var Mr=Object(c.a)({},Or,[],!1,null,null,null);Mr.options.__file="src/components/ui/panel/FluroPanelTitle.vue";var Pr=Mr.exports,$r=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-column"},[this._t("default")],2)};$r._withStripped=!0;var Fr={},Tr=(i(742),Object(c.a)(Fr,$r,[],!1,null,null,null));Tr.options.__file="src/components/ui/FlexColumn.vue";var jr=Tr.exports,Nr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-row"},[this._t("default")],2)};Nr._withStripped=!0;var Er={},Ir=(i(744),Object(c.a)(Er,Nr,[],!1,null,null,null));Ir.options.__file="src/components/ui/FlexRow.vue";var Ar=Ir.exports,Lr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-column-header"},[this._t("default")],2)};Lr._withStripped=!0;var Rr={},Vr=(i(746),Object(c.a)(Rr,Lr,[],!1,null,null,null));Vr.options.__file="src/components/ui/FlexColumnHeader.vue";var Br=Vr.exports,qr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-column-body"},[this._t("default")],2)};qr._withStripped=!0;var Yr={},zr=(i(748),Object(c.a)(Yr,qr,[],!1,null,null,null));zr.options.__file="src/components/ui/FlexColumnBody.vue";var Ur=zr.exports,Gr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-column-footer"},[this._t("default")],2)};Gr._withStripped=!0;var Kr={},Hr=(i(750),Object(c.a)(Kr,Gr,[],!1,null,null,null));Hr.options.__file="src/components/ui/FlexColumnFooter.vue";var Wr=Hr.exports,Jr=i(150),Xr=i(151),Qr=i(299),Zr=i(300),ta=i(348),ea=i(344),ia=i(199),na={props:{initPage:{type:[Number,String],default:1},pageSize:{type:Number,default:50}},data:function(){return console.log("INITIAL PAGE IS",this.initPage),{page:[],perPage:this.pageSize,currentPage:parseInt(this.initPage)}},filters:{numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},methods:{setPage:function(t){if(this.currentPage!=t){console.log("SET PAGE NUMBER",t),this.currentPage=t;var e=this.$refs.top;e&&e.scrollIntoView({}),this.$emit("page",t)}},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.totalPages},nextPage:function(){console.log("PAGES",this.currentPage,this.totalPages),this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage:function(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage:function(){this.page&&this.page.length&&this.selectionController&&this.selectionController.selectMultiple(this.page)},deselectPage:function(){this.page&&this.page.length&&this.selectionController&&this.selectionController.deselectMultiple(this.page)},selectAll:function(){this.selectionController&&this.selectionController.selectMultiple(this.rows)},deselectAll:function(){this.selectionController&&this.selectionController.deselectAll()}},computed:{previousPageDisabled:function(){return this.currentPage<=1},nextPageDisabled:function(){return this.currentPage==this.totalPages},filteredTotal:function(){return this.rows.length},availablePages:function(){return _.chunk(this.rows,this.perPage)},startOffset:function(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset:function(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},totalPages:function(){return this.availablePages?this.availablePages.length:0}}},ra=i(343);i.d(e,"FluroModalMixin",(function(){return n.a})),i.d(e,"FluroAvatar",(function(){return r.default})),i.d(e,"FluroAvatarUpdate",(function(){return a.a})),i.d(e,"FluroFieldEditor",(function(){return o.a})),i.d(e,"FluroImage",(function(){return d})),i.d(e,"FluroCompileHtml",(function(){return f.default})),i.d(e,"FluroInfiniteScroll",(function(){return p.a})),i.d(e,"FluroPagedContent",(function(){return g})),i.d(e,"FluroVideo",(function(){return C})),i.d(e,"FluroVideoThumbnail",(function(){return M})),i.d(e,"FluroModal",(function(){return T})),i.d(e,"FluroInlineEdit",(function(){return j.default})),i.d(e,"FluroConfirmButton",(function(){return N.default})),i.d(e,"FluroTrendChart",(function(){return tt})),i.d(e,"FluroTable",(function(){return et.a})),i.d(e,"TableCell",(function(){return it.a})),i.d(e,"SearchInput",(function(){return nt.a})),i.d(e,"FluroDynamicTable",(function(){return rt.a})),i.d(e,"DefinitionCell",(function(){return at.a})),i.d(e,"TitleCell",(function(){return ot.a})),i.d(e,"TypeImageCell",(function(){return st.a})),i.d(e,"FirstNameCell",(function(){return dt})),i.d(e,"BooleanCell",(function(){return ft.a})),i.d(e,"LastNameCell",(function(){return vt})),i.d(e,"StatusCell",(function(){return gt.a})),i.d(e,"DateCell",(function(){return bt.a})),i.d(e,"TimeCell",(function(){return kt})),i.d(e,"ThumbnailCell",(function(){return wt.a})),i.d(e,"EventThumbnailCell",(function(){return Ot})),i.d(e,"NumberCell",(function(){return Mt.a})),i.d(e,"RealmDotCell",(function(){return Pt.a})),i.d(e,"PaymentStatusCell",(function(){return jt})),i.d(e,"CurrencyCell",(function(){return At})),i.d(e,"TimeagoCell",(function(){return Lt.a})),i.d(e,"PhoneNumberCell",(function(){return qt})),i.d(e,"EmailAddressCell",(function(){return Gt})),i.d(e,"FilesizeCell",(function(){return Jt})),i.d(e,"DurationCell",(function(){return te})),i.d(e,"DimensionsCell",(function(){return re})),i.d(e,"AvatarCell",(function(){return ae.a})),i.d(e,"PersonaAvatarCell",(function(){return ce})),i.d(e,"ContactAvatarCell",(function(){return pe})),i.d(e,"ContactTimeline",(function(){return me.a})),i.d(e,"ContactPostThread",(function(){return be})),i.d(e,"ContactMessageList",(function(){return De})),i.d(e,"ContactTransactionList",(function(){return $e})),i.d(e,"ContactInteractionList",(function(){return Ne})),i.d(e,"ContactTeamList",(function(){return qe})),i.d(e,"ContactCheckinList",(function(){return Le})),i.d(e,"ContactDetailList",(function(){return ke})),i.d(e,"PrivacyCell",(function(){return Ge})),i.d(e,"JSONCell",(function(){return Je})),i.d(e,"TicketCollectCell",(function(){return ti})),i.d(e,"FluroToggleItem",(function(){return ei.a})),i.d(e,"FluroItemImage",(function(){return ii.a})),i.d(e,"FluroOptionsDialog",(function(){return ni.a})),i.d(e,"FluroPromptDialog",(function(){return li})),i.d(e,"FluroConfirmDialog",(function(){return pi})),i.d(e,"FluroListItem",(function(){return bi})),i.d(e,"FluroTimeline",(function(){return yi.default})),i.d(e,"FluroContentEdit",(function(){return Vi})),i.d(e,"FluroContentView",(function(){return Bi.a})),i.d(e,"FilterConditionGroup",(function(){return qi.default})),i.d(e,"FilterConditionRow",(function(){return Yi.default})),i.d(e,"FluroContentRender",(function(){return zi.default})),i.d(e,"FluroContentRenderField",(function(){return Ui.default})),i.d(e,"FluroTaskList",(function(){return Gi.a})),i.d(e,"FluroPagePreloader",(function(){return Ji})),i.d(e,"FluroSearchBar",(function(){return tn})),i.d(e,"FluroIcon",(function(){return an})),i.d(e,"FluroStatusSelect",(function(){return Ti.a})),i.d(e,"Wrapper",(function(){return fn.default})),i.d(e,"Constrain",(function(){return pn.default})),i.d(e,"FluroRealmBar",(function(){return hi.default})),i.d(e,"Tabset",(function(){return wi.a})),i.d(e,"FluroTabset",(function(){return wi.a})),i.d(e,"Tab",(function(){return Ci.a})),i.d(e,"FluroTab",(function(){return Ci.a})),i.d(e,"Accordion",(function(){return gn})),i.d(e,"FluroAccordion",(function(){return gn})),i.d(e,"AccordionPanel",(function(){return xn})),i.d(e,"FluroAccordionPanel",(function(){return xn})),i.d(e,"FluroContentBrowser",(function(){return Dn})),i.d(e,"FluroContentSelect",(function(){return On.default})),i.d(e,"FluroSelector",(function(){return Mn.a})),i.d(e,"AddPostModal",(function(){return Pn.default})),i.d(e,"FluroContentSelectModal",(function(){return $n.a})),i.d(e,"FluroContentSelectButton",(function(){return Oi.default})),i.d(e,"FluroRealmSelect",(function(){return Fi.default})),i.d(e,"FluroTagSelect",(function(){return $i})),i.d(e,"FluroEditor",(function(){return Fn.default})),i.d(e,"FluroCodeEditor",(function(){return Tn.default})),i.d(e,"FluroExpressionEditor",(function(){return jn.default})),i.d(e,"FluroCodeHighlight",(function(){return An})),i.d(e,"FluroContentForm",(function(){return ai.default})),i.d(e,"FluroContentFormField",(function(){return ji.default})),i.d(e,"FluroDateTimePicker",(function(){return Ln.default})),i.d(e,"FluroSignatureField",(function(){return Rn.default})),i.d(e,"FluroAcademicSelect",(function(){return Vn.a})),i.d(e,"FluroPostForm",(function(){return Kn})),i.d(e,"FluroBasicForm",(function(){return Xn})),i.d(e,"FluroInteractionForm",(function(){return Qn.default})),i.d(e,"FluroPostThread",(function(){return nr})),i.d(e,"FluroStatToggle",(function(){return sr})),i.d(e,"FluroStatTotal",(function(){return dr})),i.d(e,"FluroCard",(function(){return mr})),i.d(e,"FluroCardBody",(function(){return gr})),i.d(e,"FluroCardTitle",(function(){return _r})),i.d(e,"FluroPanel",(function(){return wr})),i.d(e,"FluroPanelBody",(function(){return Dr})),i.d(e,"FluroPanelTitle",(function(){return Pr})),i.d(e,"FlexColumn",(function(){return jr})),i.d(e,"FlexRow",(function(){return Ar})),i.d(e,"FlexColumnHeader",(function(){return Br})),i.d(e,"FlexColumnBody",(function(){return Ur})),i.d(e,"FlexColumnFooter",(function(){return Wr})),i.d(e,"ListGroup",(function(){return Jr.a})),i.d(e,"ListGroupItem",(function(){return Xr.a})),i.d(e,"MailoutRenderPreview",(function(){return Qr.a})),i.d(e,"MailoutTestPanel",(function(){return Zr.a})),i.d(e,"MailoutPreflightPanel",(function(){return ta.a})),i.d(e,"MailoutResultsPanel",(function(){return ea.a})),i.d(e,"Layout",(function(){return ui.a})),i.d(e,"DynamicListMixin",(function(){return ia.a})),i.d(e,"DynamicPageMixin",(function(){return na})),i.d(e,"FluroContactCommunicateMixin",(function(){return ra.a})),i.d(e,"FluroSelectionMixin",(function(){return wn.a})),console.log("fluro-vue-ui 2.0.70");var aa={install:function(t,e){var i=t.prototype.$fluro;i.global.modals=[],i.modal=function(t){return new Promise((function(e,n){t.modalID=i.global.modals.length,t.resolve=e,t.reject=n,i.global.modals.splice(t.modalID,0,t)}))},i.options=function(t,e,n){return i.modal({component:ni.a,options:{title:e,description:n,options:t}})},i.prompt=function(t,e,n){return i.modal({component:li,options:{title:e,fields:t,model:n}})},i.confirm=function(t,e,n){return n||(n={}),n.title=t,n.description=e,i.modal({component:pi,options:n})},i.closeModal=function(t){var e=_.find(i.global.modals,{modalID:t}),n=_.findIndex(i.global.modals,e);i.global.modals.splice(n,1)},t.mixin(ui.a),t.component("fluro-icon",an),t.component("fluro-realm-dots",on.a),t.component("fluro-realm-tags",un),t.component("fluro-realm-bar",hi.default),t.component("fluro-status-label",dn.a),t.component("fluro-avatar",r.default),t.component("fluro-image",d),t.component("fluro-list-item",bi),t.component("fluro-toggle-item",ei.a),t.component("fluro-video",C),t.component("fluro-video-thumbnail",M),t.component("fluro-page-preloader",Ji),t.component("flex-row",Ar),t.component("flex-column",jr),t.component("flex-column-body",Ur),t.component("flex-column-header",Br),t.component("flex-column-footer",Wr)}};e.default=aa},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=vuedraggable}]);