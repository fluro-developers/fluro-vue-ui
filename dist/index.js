!function(e){function t(t){for(var i,n,a=t[0],o=t[1],s=0,c=[];s<a.length;s++)n=a[s],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&c.push(r[n][0]),r[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(l&&l(t);c.length;)c.shift()()}var i={},r={6:0};function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.e=function(e){var t=[],i=r[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,n){i=r[e]=[t,n]}));t.push(i[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.src=function(e){return n.p+""+e+".index.js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var i=r[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},n.m=e,n.c=i,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;n(n.s=462)}([function(e,t,i){"use strict";function r(e,t,i,r,n,a,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return r}))},function(e,t){e.exports=lodash},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([n]).join("\n")}var o;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];null!=a&&(r[a]=!0)}for(n=0;n<e.length;n++){var o=e[n];null!=o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";function r(e,t){for(var i=[],r={},n=0;n<t.length;n++){var a=t[n],o=a[0],s={id:e+":"+n,css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):i.push(r[o]={id:o,parts:[s]})}return i}i.r(t),i.d(t,"default",(function(){return f}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,i,n){c=i,d=n||{};var o=r(e,t);return m(o),function(t){for(var i=[],n=0;n<o.length;n++){var s=o[n];(l=a[s.id]).refs--,i.push(l)}t?m(o=r(e,t)):o=[];for(n=0;n<i.length;n++){var l;if(0===(l=i[n]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],r=a[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(v(i.parts[n]));r.parts.length>i.parts.length&&(r.parts.length=i.parts.length)}else{var o=[];for(n=0;n<i.parts.length;n++)o.push(v(i.parts[n]));a[i.id]={id:i.id,refs:1,parts:o}}}}function h(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function v(e){var t,i,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(p){var n=l++;r=s||(s=h()),t=y.bind(null,r,n,!1),i=y.bind(null,r,n,!0)}else r=h(),t=_.bind(null,r),i=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else i()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function y(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function _(e,t){var i=t.css,r=t.media,n=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},function(e,t){e.exports=fluro},function(e,t,i){"use strict";t.a={props:{options:{type:Object,default:()=>({})}},methods:{dismiss(){this.$emit("dismiss")},close(e){this.$emit("close",e)}}}},function(e,t){e.exports=tiptap-extensions},function(e,t){e.exports=vue},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return n.default}}),t.regex=t.ref=t.len=t.req=void 0;var r,n=(r=i(302))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=o;t.len=function(e){return Array.isArray(e)?e.length:"object"===a(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,i){return"function"==typeof e?e.call(t,i):i[e]};t.regex=function(e,t){return(0,n.default)({type:e},(function(e){return!o(e)||t.test(e)}))}},function(e,t){e.exports=tiptap},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-content-form"},[e._t("form",[e._l(e.fields,(function(t){return[i("v-container",{staticClass:"grid-list-lg",attrs:{fluid:"","pa-0":""}},[i("fluro-content-form-field",{attrs:{debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,context:e.context,parent:e.formModel,outline:e.showOutline,"form-fields":e.formFields,options:e.options,field:t},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]}))],{parent:e.formModel,context:e.context,formFields:e.formFields,fieldHash:e.fieldHash,model:e.model,update:e.update,options:e.options})],2)};r._withStripped=!0;var n=i(11),a=i(1),o=i.n(a),s=i(7),l=i.n(s),c={props:{contextField:{type:Object},recursiveClick:{type:Function},debugMode:{type:Boolean},debounce:{type:Number,default:0},disableDefaults:{type:Boolean},dynamic:{type:Boolean},context:{type:String,default(){return this.$fluro.global.defaultFormContext}},parent:{type:Object},fields:{type:Array},value:{type:Object},formFields:{default:()=>[],type:Array},options:{default:function(){return{}},type:Object},outline:{type:Boolean}},computed:{fieldsOutput(){return this.fields},formModel(){return this.parent||this.model},showOutline(){return this.outline||this.options.outline},errorMessages(){return o.a.chain(this.formFields).filter((function(e){return e.errorMessages.length})).map((function(e){return{title:e.errorTitle,messages:e.errorMessages}})).value()},fieldHash(){return o.a.reduce(this.fieldsOutput,(function(e,t){return e[t.key]=t,e}),{})}},data(){return{model:this.value}},components:{FluroContentFormField:n.default},watch:{value(e){return this.$set(this,"model",e),this.reset()},fields(e){return this.reset()},errorMessages(e){this.$emit("errorMessages",e)}},created(){this.reset()},methods:{touch(){o.a.each(this.formFields,(function(e){e.touch&&e.touch()}))},reset(){var e=this;e.formFields.forEach((function(e){e.reset()})),e.disableDefaults||(e.fieldsOutput||[]).forEach((function t(i){var r=o.a.get(e.model,i.key);if(r)return void l.a.set(e.model,i.key,r);var n=e.$fluro.utils.getDefaultValueForField(i);"date"==i.type&&"now"==n&&(n=new Date);"group"!=i.type||i.asObject||(i.fieldsOutput||[]).forEach(t);l.a.set(e.model,i.key,n)})),e.$emit("default")},update(e,t){this.model=e,this.$emit("input",this.model)},dispatch(){this.$emit("input",this.model)}}},u=(i(326),i(0)),d=Object(u.a)(c,r,[],!1,null,"2b3e3a7c",null);d.options.__file="src/components/form/FluroContentForm.vue";t.default=d.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",e._b({staticClass:"fluro-content-form-field",class:e.fieldClass,attrs:{"data-field-key":e.key},on:{click:function(t){return e.clicked(t)}}},"div",e.attributes,!1),[e.officeUseOnly?void 0:e.customComponent?[i(e.customComponent,{tag:"component",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:"dynamicdate"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,"persistent-hint":!0,hint:e.dynamicDateHint}},[i("div",{staticStyle:{margin:"10px 0"}},[i("v-btn-toggle",{model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},[i("v-btn",{attrs:{flat:"",value:null}},[e._v("\n                        None\n                    ")]),e._v(" "),i("v-btn",{attrs:{flat:"",value:"DATE_NOW"}},[e._v("\n                        Dynamic Date\n                    ")]),e._v(" "),i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{flat:"",value:e.currentDateOrToday}},r),[e._v("\n                                Specific Date\n                            ")])]}}],null,!1,599550346),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),i("v-card",[i("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{change:function(t){e.modal=!1}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Done")])],1)],1)],1)],1)],1)])]:"custom"==e.renderer?[i("fluro-compile-html",{attrs:{template:e.customTemplate,context:e.customContext}})]:"embedded"==e.renderer?[1==e.field.maximum?[i("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.valueChange},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:e._e(),e._v(" "),1!=e.field.maximum?[e._l(e.fieldModel,(function(t,r){return[i("v-card",[i("v-toolbar",{staticClass:"elevation-0"},[i("v-toolbar-title",{staticClass:"hidden-xs"},[e._v(e._s(e.groupTitle(t,r)))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-toolbar-items",[e.canRemoveValue?i("v-btn",{attrs:{icon:"",small:"",flat:"",color:"error"},on:{click:function(t){return e.removeValue(r)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1)],1),e._v(" "),i("v-card-text",[i("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.valueChange},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})],1)],1)]})),e._v(" "),e.fieldModel&&e.fieldModel.length?[e.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n                    "+e._s(e.addLabel)+"\n                ")]):e._e()]:[e.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n                    "+e._s(e.addLabel)+"\n                ")]):e._e()]]:e._e()]:"group"==e.renderer?[e.asObject?[1==e.field.maximum?[i("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.valueChange},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[e._l(e.fieldModel,(function(t,r){return[i("v-card",[i("v-toolbar",{staticClass:"elevation-0"},[i("v-toolbar-title",{staticClass:"hidden-xs"},[e._v(e._s(e.groupTitle(t,r)))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-toolbar-items",[e.canRemoveValue?i("v-btn",{attrs:{small:"",icon:"",flat:"",color:"error"},on:{click:function(t){return e.removeValue(r)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1)],1),e._v(" "),i("v-card-text",[i("fluro-content-form",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,fields:e.fields},on:{input:e.valueChange},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})],1)],1)]})),e._v(" "),e.fieldModel&&e.fieldModel.length?[e.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n                        "+e._s(e.addLabel)+"\n                    ")]):e._e()]:[e.canAddValue?i("v-btn",{staticClass:"ml-0",attrs:{block:"",large:"",color:"primary"},on:{click:function(t){return e.addValue({})}}},[e._v("\n                        "+e._s(e.addLabel)+"\n                    ")]):e._e()]]]:[e.field.sameLine?[i("v-layout",{staticClass:"same-line",attrs:{row:""}},[e._l(e.fields,(function(t){return[i("fluro-content-form-field",{staticClass:"flex",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,field:t},on:{input:e.valueChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))],2)]:[e._l(e.fields,(function(t){return[i("fluro-content-form-field",{staticClass:"flex",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,disableDefaults:e.disableDefaults,dynamic:e.dynamic,parent:e.formModel,"form-fields":e.formFields,options:e.options,field:t},on:{input:e.valueChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))]]]:"checkbox"==e.renderer?[e.savedTerms?i("div",{staticClass:"terms",class:{"has-error":e.errorMessages.length}},[i("v-checkbox",{attrs:{outline:e.showOutline,success:e.success,mandatory:e.required,"persistent-hint":!0,label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{change:function(t){return e.valueChange(t,!0)}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}}),e._v(" "),i("div",{staticClass:"conditions"},[e._v(e._s(e.field.params.storeData))])],1):[i("v-checkbox",{attrs:{outline:e.showOutline,success:e.success,mandatory:e.required,"persistent-hint":!0,label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{change:function(t){return e.valueChange(t,!0)}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"number"==e.renderer?[i("v-text-field",{attrs:{"persistent-hint":e.persistentDescription,suffix:e.suffix,prefix:e.prefix,outline:e.showOutline,success:e.success,required:e.required,pattern:"^-?(\\d*\\.)?\\d+$;",label:e.displayLabel,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"realmselect"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{"persistent-hint":!0,label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[i("fluro-realm-select",{attrs:{block:"",type:"collection"},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"datepicker"==e.renderer?[i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-text-field",e._g({attrs:{outline:e.showOutline,success:e.success,value:e.formattedDate,"persistent-hint":!0,hint:e.dateHint,label:e.displayLabel,"prepend-inner-icon":"event",readonly:""},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}}},r))]}}],null,!1,2936903296),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),i("v-card",[i("v-date-picker",{attrs:{attach:"","no-title":"",scrollable:""},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},change:function(t){e.modal=!1}},model:{value:e.dateStringModel,callback:function(t){e.dateStringModel=t},expression:"dateStringModel"}},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Done")])],1)],1)],1)]:"timepicker"==e.renderer?[i("v-dialog",{ref:"dialog",attrs:{persistent:"","return-value":e.fieldModel,lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){e.fieldModel=t},"update:return-value":function(t){e.fieldModel=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-text-field",e._g({attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,"prepend-inner-icon":"access_time",readonly:""},on:{blur:function(t){return e.touch()},focus:function(t){return e.modalFocussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},r))]}}],null,!1,799680477),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),e.modal?i("v-card",[i("v-toolbar",{attrs:{color:"primary",dark:""}},[i("v-toolbar-title",[e._v(e._s(e.displayLabel))])],1),e._v(" "),i("v-time-picker",{attrs:{attach:"","full-width":""},model:{value:e.sudoModel,callback:function(t){e.sudoModel=t},expression:"sudoModel"}},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Cancel")]),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.sudoModel)}}},[e._v("OK")])],1)],1):e._e()],1)]:"datetimepicker"==e.renderer?[i("fluro-date-time-picker",{attrs:{outline:e.showOutline,min:e.minDate,max:e.maxDate,success:e.success,format:"ddd D MMM - h:mma ",timePickerFormat:"ampm",label:e.displayLabel,placeholder:e.field.placeholder,hint:e.field.description},on:{blur:function(t){return e.touch()},focus:function(t){return e.modalFocussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"timezoneselect"==e.renderer?[e.mobile?[i("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.timezoneOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.timezoneOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"countrycodeselect"==e.renderer?[e.mobile?[i("v-select",{attrs:{"persistent-hint":!0,dense:"",outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryCodeOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,dense:"",outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryCodeOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"countryselect"==e.renderer?[e.mobile?[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[i("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.countryOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"textarea"==e.renderer?[i("v-textarea",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:e.displayLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"select"==e.renderer?[e.mobile||e.params.dropdown?[i("v-select",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"return-object":"reference"==e.type,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.selectOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"return-object":"reference"==e.type,label:e.displayLabel,chips:e.multipleInput,"no-data-text":"No options available",multiple:e.multipleInput,"item-text":"title",items:e.selectOptions,"error-messages":e.errorMessages,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:"content-select-button"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[i("fluro-content-select-button",{attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,block:"",recursiveClick:e.recursiveClick,type:e.restrictType,minimum:e.minimum,maximum:e.maximum,searchInheritable:e.searchInheritable,allDefinitions:e.allDefinitions},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"content-select"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.field.description}},[i("fluro-content-select",{attrs:{context:e.context,template:e.params.template,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,success:e.success,required:e.required,"error-messages":e.errorMessages,label:e.displayLabel,outline:e.showOutline,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.field.placeholder,minimum:e.minimum,type:e.restrictType,lockFilter:e.referenceFilter,searchInheritable:e.searchInheritable,maximum:e.maximum},on:{input:e.valueChange,blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]:"search-select"==e.renderer?[i("v-autocomplete",{attrs:{"persistent-hint":!0,outline:e.showOutline,success:e.success,"deletable-chips":!0,"hide-selected":!0,"prepend-inner-icon":"search","error-messages":e.errorMessages,"cache-items":!e.defaultReferences||!e.defaultReferences.length,chips:e.multipleInput,clearable:!e.required,"return-object":!0,"item-text":"title",multiple:e.multipleInput,loading:e.loading,items:e.searchResults,"search-input":e.keywords,flat:"","hide-no-data":"",label:e.displayLabel},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},change:e.valueChange,"update:searchInput":function(t){e.keywords=t},"update:search-input":function(t){e.keywords=t}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[i("fluro-avatar",{staticClass:"xs",attrs:{id:r._id,type:"contact"}}),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",{domProps:{textContent:e._s(r.title)}})],1)]}}],null,!1,2762711489),model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"signature"==e.renderer?[i("fluro-signature-field",{attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,required:e.required,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"code"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{hint:e.field.description,"persistent-hint":!0}},[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,r){return[i("fluro-code-editor",{attrs:{autoformat:e.autoformat,outline:e.showOutline,success:e.success,lang:e.syntax,height:200},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[i("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n                        "+e._s(e.multiLabel)+"\n                        "),i("fluro-icon",{attrs:{icon:"plus"}})],1)]:e._e()]:[i("v-label",[e._v(e._s(e.displayLabel))]),e._v(" "),i("v-card",{staticClass:"no-flex"},[i("fluro-code-editor",{attrs:{autoformat:e.autoformat,outline:e.showOutline,success:e.success,lang:e.syntax,height:200},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]],2)]:"wysiwyg"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,success:e.success,required:e.required,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description}},[e.multipleInput?[e.fieldModel&&e.fieldModel.length?[e._l(e.fieldModel,(function(t,r){return[i("v-layout",{attrs:{wrap:"",row:""}},[i("v-flex",{staticClass:"vertical-center"},[i("v-label",[e._v(e._s(e.groupTitle(t,r)))])],1),e._v(" "),i("v-spacer"),e._v(" "),e.canRemoveValue?i("v-btn",{attrs:{icon:"",flat:"",color:"error"},on:{click:function(t){return e.removeValue(r,!0)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1):e._e()],1),e._v(" "),i("fluro-editor",{attrs:{options:e.multiEditorOptions,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()},input:e.valueChange},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})]}))]:e._e(),e._v(" "),e.canAddValue?[i("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.addValue("")}}},[e._v("\n                        "+e._s(e.multiLabel)+"\n                        "),i("fluro-icon",{attrs:{icon:"plus"}})],1)]:e._e()]:e._e(),e._v(" "),e.multipleInput?e._e():[i("v-label",[e._v(e._s(e.displayLabel))]),e._v(" "),i("fluro-editor",{attrs:{options:e.editorOptions,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]],2)]:"upload"==e.renderer?[i("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,success:e.success,label:e.displayLabel,required:e.required,"error-messages":e.errorMessages,"persistent-hint":!0,hint:e.fileHint}},[e.files&&e.files.length?i("div",{staticClass:"file-items"},e._l(e.files,(function(t){return i("div",{staticClass:"file-item"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{grow:""}},[i("strong",[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"small"},["progress"==t.state?i("span",[e._v("Uploaded "+e._s(t.progress)+"% of ")]):e._e(),i("span",{staticClass:"muted"},[e._v(e._s(e._f("filesize")(t.size)))])])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},["error"==t.state?[i("v-btn",{attrs:{icon:""}},[i("fluro-icon",{attrs:{icon:"exclamation"}})],1)]:"complete"==t.state?[i("v-hover",{scopedSlots:e._u([{key:"default",fn:function(r){var n=r.hover;return i("v-btn",{attrs:{icon:""},on:{click:function(i){return e.removeFile(t)}}},[i("fluro-icon",n?{attrs:{icon:"times"}}:{attrs:{icon:"check"}})],1)}}],null,!0)})]:"uploading"==t.state?[i("v-hover",{scopedSlots:e._u([{key:"default",fn:function(r){var n=r.hover;return i("v-btn",{attrs:{icon:""},on:{click:function(i){return e.removeFile(t)}}},[n?e._e():i("v-progress-circular",{attrs:{value:t.progress}}),e._v(" "),n?i("fluro-icon",{attrs:{icon:"times"}}):e._e()],1)}}],null,!0)})]:[i("v-btn",{attrs:{icon:""},on:{click:function(i){return e.removeFile(t)}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)]],2)],1)],1)})),0):e._e(),e._v(" "),e.canAddFile?i("label",{staticClass:"file-drop"},[i("input",{ref:"file",attrs:{type:"file",multiple:e.multipleInput},on:{change:function(t){return e.filesSelected(t.target.files)}}}),e._v("\n                Drag and drop or click here to select "+e._s(e.multipleInput?"files":"a file")+"\n            ")]):e._e()])]:"currency"!=e.renderer||e.multipleInput?"app-menu-select"==e.renderer?[i("fluro-app-menu-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-block-select"==e.renderer?[i("fluro-app-block-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-font-select"==e.renderer?[i("fluro-app-font-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-page-select"==e.renderer?[i("fluro-app-page-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-size-select"==e.renderer?[i("fluro-app-size-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"app-theme-select"==e.renderer?[i("fluro-app-theme-select",{attrs:{options:e.options,label:e.displayLabel},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]:"color"!=e.renderer||e.multipleInput?[e.multipleInput?[i("v-input",{staticClass:"no-flex",attrs:{outline:e.showOutline,label:e.displayLabel,success:e.success}},[e.fieldModel&&e.fieldModel.length?[i("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}},"draggable",e.dragOptions,!1),[i("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.fieldModel,(function(t,r){return i("div",{key:t,staticClass:"multi-input-row"},[i("v-flex",{staticStyle:{padding:"0 !important"}},[e._v(e._s(t))]),e._v(" "),i("span",{on:{click:function(t){return e.removeValue(r,!0)}}},[e._v("Remove")])],1)})),0)],1)]:e._e(),e._v(" "),e.canAddValue?[i("v-text-field",{staticClass:"faint",attrs:{mask:e.params.mask,autofocus:e.shouldAutofocus,"append-inner-icon":"plus",outline:e.showOutline,success:e.success,"browser-autocomplete":"off","append-icon":"plus",required:e.required,label:e.multiLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.hint,placeholder:e.field.placeholder},on:{focus:function(t){return e.focussed()},input:e.valueChange,blur:function(t){return e.addProposedValue()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.addProposedValue())}},model:{value:e.proposedValue,callback:function(t){e.proposedValue=t},expression:"proposedValue"}})]:e._e()],2)]:e._e(),e._v(" "),e.multipleInput?e._e():[i("v-text-field",{attrs:{mask:e.params.mask,autofocus:e.shouldAutofocus,outline:e.showOutline,success:e.success,"browser-autocomplete":"off",required:e.required,label:e.displayLabel,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.field.placeholder},on:{input:e.valueChange,blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]]:[i("v-menu",{attrs:{fixed:!0,"min-width":"290px",right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-input",{staticClass:"no-flex",attrs:{label:e.displayLabel,"persistent-hint":!0}},[i("div",e._g({staticClass:"color-swatch"},r),[i("div",{staticClass:"swatch",style:{backgroundColor:e.colorModel.hex8}},[i("span",[e._v(e._s(e.colorModel.hex8?e.colorModel.hex8:"transparent"))])])])])]}}],null,!1,3970237788),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),i("div",[i("color-picker",{on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.colorModel,callback:function(t){e.colorModel=t},expression:"colorModel"}})],1)])]:[i("fluro-currency-input",{attrs:{currency:e.params.currency,hideSuffix:e.params.hideSuffix,min:e.minValue,max:e.maxValue,label:e.displayLabel,required:e.required,autofocus:e.shouldAutofocus,outline:e.showOutline,success:e.success,"error-messages":e.errorMessages,"persistent-hint":e.persistentDescription,hint:e.field.description,placeholder:e.field.placeholder},on:{blur:function(t){return e.touch()},focus:function(t){return e.focussed()}},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})]],2):e._e()};r._withStripped=!0;var n=i(199),a=i(44),o=i(1),s=i.n(o),l=(i(7),i(198)),c=i(32),u=i.n(c);function d(e,t){var i=[],r=e.type,n=s.a.get(e.field,"params.minValue"),o=s.a.get(e.field,"params.maxValue"),l="currency"==e.field.directive?s.a.get(e.field,"params.currency"):null;switch(r){case"email":if(e.multipleInput)if(s.a.isArray(t))s.a.some(t,(function(e){return!Object(a.email)(e)}))&&(console.log("Invalid Emails",t),i.push("All emails must be valid",t));else!Object(a.email)(t)&&String(t).length&&i.push("Must be a valid email",t);else!Object(a.email)(t)&&String(t).length&&i.push("Must be a valid email",t);break;case"url":Object(a.url)(t)||i.push("Must be a valid url eg. https://...");break;case"boolean":e.minimum&&(t||i.push("This is required"));break;case"integer":case"decimal":case"float":case"number":!0;var c=Number(t);s.a.isFinite(c)&&!s.a.isNaN(c)||(console.log("Is not a valid number??",t,c),i.push((t||"")+" is not a valid number!"));var u=function(e,t,i,r,n,a){var o=Number;switch(r){case"integer":o=parseInt;break;case"float":case"decimal":o=parseFloat}return void 0!==e&&(e=o(e)),void 0!==t&&e<(t=o(t))?(console.log("MINIMUM",t,e,e<t),"Must be at least "+(n&&a?a.$fluro.utils.formatCurrency(i,n):t)):void 0!==i&&e>(i=o(i))?"Must be less than "+(n&&a?a.$fluro.utils.formatCurrency(i,n):i):void 0}(t,n,o,r,l,e);u&&i.push(u)}return i}var p={components:{"color-picker":l.Chrome,draggable:()=>Promise.resolve().then(i.t.bind(null,511,7)),FluroCompileHtml:()=>Promise.resolve().then(i.bind(null,188)),FluroEditor:()=>Promise.resolve().then(i.bind(null,45)),FluroCurrencyInput:()=>i.e(67).then(i.bind(null,780)),FluroCodeEditor:()=>Promise.resolve().then(i.bind(null,28)),FluroSignatureField:()=>Promise.resolve().then(i.bind(null,193)),FluroDateTimePicker:()=>Promise.resolve().then(i.bind(null,192)),FluroContentSelect:()=>Promise.resolve().then(i.bind(null,190)),FluroContentSelectButton:()=>Promise.resolve().then(i.bind(null,17)),FluroRealmSelect:()=>Promise.resolve().then(i.bind(null,19))},data(){return{hasInitialValue:!1,asyncOptionsLoading:!1,drag:!1,test:null,modal:!1,model:this.value,proposedValue:null,sudoModel:null,color:null,keywords:"",results:[],loading:!1,files:[],cancelTokens:[],bytesLoaded:0,bytesTotal:0,uploadState:"ready"}},watch:{model:"checkInitialValue",keywords:s.a.debounce((function(){var e=this,t=this.field,i=e.keywords;if(i&&i.length&&(!t.allowedReferences||!t.allowedReferences.length)){e.loading=!0;var r={limit:5,select:"title"},n=s.a.get(t,"params.restrictType");n&&n.length&&(r.types=[n]),e.$fluro.content.search(i,r).then((function(t){e.results=t,e.loading=!1}))}}),500),expressionDefaultValue(e){this.$v.model.$dirty||this.hasInitialValue||this.expressions&&this.expressions.defaultValue&&(this.fieldModel=e)},expressionValue(e){this.expressions&&this.expressions.value&&(this.fieldModel=e)},value(e){return this.$set(this,"model",e),this.reset()}},computed:{autoformat(){return 0!=this.params.autoformat},isContext(){return this.contextField==this.field},isNew(){return this.field.isNew},shouldAutofocus(){return this.autofocus||this.params.autofocus},customComponent(){return this.field.customComponent},mobile(){return this.$vuetify.breakpoint.xsOnly},dynamicDateHint(){if(this.fieldModel)return"DATE_NOW"==this.fieldModel?"The date will be stored at the time of action.":"Date will be set to "+this.$fluro.date.formatDate(this.fieldModel,"dddd D MMM YYYY")},currentDateOrToday(){return e=this.fieldModel,isNaN(e)&&!isNaN(Date.parse(e))?new Date(this.fieldModel):new Date;var e},params(){return this.field.params||{}},persistentDescription(){if(this.params.persistentDescription)return!0},formModel(){return this.parent||this.model},minValue(){return s.a.get(this,"field.params.minValue")},maxValue(){return s.a.get(this,"field.params.maxValue")},minDate(){return s.a.get(this,"field.params.minDate")},maxDate(){return s.a.get(this,"field.params.maxDate")},dateFormat:()=>"D MMM YYYY",dateHint(){if(this.fieldModel)switch(this.field.key){case"dob":case"_dob":var e=parseInt(this.$fluro.date.moment().format("YYYY"))-parseInt(this.$fluro.date.moment(this.fieldModel).format("YYYY"));return this.model.dobVerified?e+" Years old":e+" Years old (estimated)"}return this.dateFormat},dateStringModel:{get(){return this.fieldModel?this.$fluro.date.formatDate(this.fieldModel,"YYYY-MM-DD"):null},set(e){e?(this.fieldModel=new Date(e),console.log("SET",e,this.fieldModel)):this.fieldModel=null}},formattedDate(){if(void 0!==this.fieldModel&&null!==this.fieldModel&&""!==this.fieldModel)return this.fieldModel?this.$fluro.date.moment(this.fieldModel).format(this.dateFormat):""},asyncOptionsURL(){switch(this.renderer){case"countryselect":case"countrycodeselect":return"/system/countries"}},dragOptions:()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),params(){return this.field.params||{}},showOutline(){return this.outline||this.params.outline||this.options.outline},searchInheritable(){if(this.field.params&&this.field.params.searchInheritable)return this.field.params.searchInheritable},allDefinitions(){if(this.field.params&&this.field.params.allDefinitions)return this.field.params.allDefinitions},referenceFilter(){if(this.field.params&&this.field.params.referenceFilter)return this.field.params.referenceFilter},restrictType(){if(this.field.params&&this.field.params.restrictType)return this.field.params.restrictType},fileHint(){switch(this.uploadState){case"uploading":return"Uploading...";default:return this.field.description}},success(){if(this.options.validateSuccess)return this.$v.$dirty&&!this.$v.$invalid},editorOptions(){var e=this.options.editor||this.params.editor||{};return this.params.tokens&&this.params.tokens.length&&(e.tokens=this.params.tokens),e},multiEditorOptions(){return Object.assign({},this.options.editor,{label:""})},savedTerms(){return s.a.get(this.field,"params.storeCopy")},syntax(){return s.a.get(this.field,"params.syntax")},multiLabel(){return this.multipleInput?this.total?"Add another "+this.title:"Add "+this.title:this.label},displayLabel(){if(this.overrideLabel&&this.overrideLabel.length)return this.overrideLabel;if(this.showLabel){var e=this.title||"";return e.length?this.required?e+" *":e:void 0}},hint(){return 1==this.maximum?this.field.description:this.minimum&&this.total<this.minimum?`Type and press enter (${this.total} of ${this.minimum} required)`:this.maximum?`Type and press enter (Max ${this.maximum})`:"Type and press enter"},customContext(){return{field:this.field,model:this.fieldModel,data:this.model}},customTemplate(){return this.field.template},searchResults(){return this.allowedReferences&&this.allowedReferences.length?this.allowedReferences:this.allowedValues&&this.allowedValues.length?this.allowedValues:this.results},canAddFile(){return!!this.canAddValue||(!(1!=this.maximum||this.files&&this.files.length)||void 0)},canAddValue(){return 0==this.maximum||this.total<this.maximum},canRemoveValue(){if(this.total>this.minimum)return!0},allowedValues(){return this.field.allowedValues},allowedReferences(){return this.field.allowedReferences},defaultValues(){return this.disableDefaults?[]:this.field.defaultValues},defaultReferences(){return this.disableDefaults?[]:this.field.defaultReferences},attributes(){return this.field.attributes},sameLine(){return this.field.sameLine},fieldClass(){var e=[];switch(e.push("fluro-content-form-field-"+this.renderer),this.isContext&&e.push("is-context"),this.renderer){case"group":case"embedded":(this.asObject||"embedded"==this.renderer)&&this.multipleInput&&(e.push("multiple-input"),e.push("multiple-input-values-"+this.fieldModel.length))}return e.push(this.className),e.join(" ")},groupClass(){if("group"==this.type||"embedded"==this.type)return""+this.className},colorModel:{get(){return this.color||(this.color={}),this.color.hex8=this.fieldModel?this.fieldModel:null,this.color},set(e){this.color=e,this.fieldModel=e?e.hex8:""}},fieldModel:{get(){var e=this.model[this.key];if(this.expressions&&this.expressions.transform&&"function"==typeof this.expressions.transform.set)return this.expressions.transform.get(e);if(this.dynamic&&"dynamicdate"==this.renderer){if("DATE_NOW"==e)return e;if(!e)return;return new Date(e).toISOString()}switch(this.field.type){case"boolean":if(this.field.inverse)return!e}return e},set(e){var t=this;if(t.expressions&&t.expressions.transform&&"function"==typeof t.expressions.transform.set){var i=t.expressions.transform.set(e);e=i}if(t.dynamic&&"dynamicdate"==t.renderer)return"DATE_NOW"==e?(t.$set(t.model,t.key,e),t.valueChange()):e?(t.$set(t.model,t.key,new Date(e).toISOString()),t.valueChange()):(t.$set(t.model,t.key,null),t.valueChange());switch(t.type){case"date":"now"==String(e).toLowerCase()&&(e=new Date);break;case"integer":null!=e&&null!=e&&(e=String(e).length?parseInt(e):null),console.log("SET VALUE",e);break;case"number":var r;if(null!=e&&null!=e&&!isNaN(e))r=String(e).length?Number(e):null,parseFloat(e)!=parseFloat(r)&&(e=r);break;case"float":case"decimal":null!=e&&null!=e&&(e=String(e).length?Number(e):null);break;case"boolean":if(t.field.inverse&&(e=!e),!e)return e=!1,t.$nextTick((function(){t.$set(t.model,t.key,e),t.valueChange()}))}t.$set(t.model,t.key,e),t.valueChange()}},addLabel(){return this.total?"Add another "+this.title:"Add "+this.title},className(){return String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},(this.field.className||"").replaceAll("col-xs-","xs").replaceAll("col-sm-","sm").replaceAll("col-md-","md").replaceAll("col-lg-","lg").replaceAll("col-xl-","xl")},key(){return this.field.key},asObject(){return this.field.asObject},fields(){return this.field.fields},officeUseOnly(){return s.a.get(this.field,"params.disableWebform")},type(){return this.field.type},expressions(){return this.field.expressions},errorTitle(){return this.field.title},title(e){return this.options.labels&&this.options.labels.hasOwnProperty(this.key)?this.options.labels[this.key]:this.field.title},multipleInput(){return 0===this.maximum||this.maximum>1},countryCodeOptions(){var e=s.a.chain(this.asyncOptions).map((function(e){return{title:`${e.name} - ${e.alpha2} (${e.countryCallingCodes.join(", ")})`,value:e.alpha2}})).orderBy((function(e){return e.title})).value();return e.unshift({title:"United Kingdom - GB (+44)",value:"GB"}),e.unshift({title:"United States - USA (+1)",value:"US"}),e.unshift({title:"Australia - AU (+61)",value:"AU"}),e},countryOptions(){return s.a.map(this.asyncOptions,(function(e){return{title:e.name,value:e.name}}))},timezoneOptions(){var e=s.a.map(this.$fluro.date.timezones(),(function(e){return{title:e,value:e}}));return e.unshift({title:"None / Default",value:null}),e},selectOptions(){return this.field?this.field.options&&this.field.options.length?s.a.map(this.field.options,(function(e){return e.title=e.title?e.title:e.name,e})):this.allowedValues&&this.allowedValues.length?s.a.chain(this.allowedValues).compact().map((function(e){return{name:e,value:e,title:e}})).value():this.allowedReferences?this.allowedReferences:this.asyncOptions&&this.asyncOptions.length?this.asyncOptions:[]:[]},minimum(){return Math.max(parseInt(this.field.minimum),0)},maximum(){return parseInt(this.field.maximum)},total(){if(this.multipleInput&&this.fieldModel)return s.a.get(this.fieldModel,"length")},askCount(){return Math.max(this.minimum,this.field.askCount)},errorMessages(){const e=[];if("void"==this.type)return e;if(!this.isVisible)return e;if(!this.$v.model.$dirty)return e;if(!this.$v.uploading&&"uploading"==this.uploadState)return e.push("Waiting for files to upload"),e;if(!this.$v.model.validateInput){this.proposedValue&&s.a.each(d(this,this.proposedValue),(function(t){e.push(t)})),s.a.each(d(this,this.fieldModel),(function(t){e.push(t)}));var t="answer";if("upload"==this.directive&&(t="file"),this.minimum==this.maximum)this.minimum&&(1==this.minimum?e.push("This field is required"):e.push(`Please provide ${this.minimum} ${t}s`));else if(1==this.maximum)e.push("This field is required");else{Array.isArray(this.model[this.key])||e.push(`Requires at least ${this.minimum} ${t}s`);var i=(this.model[this.key]||"").length;i<this.minimum&&(1==this.minimum?e.push("Requires at least 1 "+t):(console.log("ANSWERS IS",i,this.minimum,this.maximum),e.push(`Please provide at least ${this.minimum} ${t}s`))),this.maximum&&i>this.maximum&&e.push(`Maximum ${this.maximum} ${t}s`)}}return this.field.errorMessage&&this.field.errorMessage.length&&e.length?[this.field.errorMessage]:e},prefix(){return this.field.prefix},suffix(){return this.field.suffix},renderer(){var e=this.type,t=this.field.directive;if(this.dynamic&&"date"==e)return"dynamicdate";switch(t){case"app-menu-select":case"app-page-select":case"app-theme-select":case"app-block-select":case"app-font-select":case"app-size-select":case"app-style-select":break;case"value":t="value";break;case"color":t="color";break;case"currency":t="currency";break;case"realm-select":case"realmselect":t="realmselect";break;case"content-select-button":break;case"dob-select":case"date-select":case"datepicker":t="datepicker";break;case"time-select":case"timepicker":t="timepicker";break;case"datetime-select":case"datetimepicker":t="datetimepicker";break;case"timezone-select":t="timezoneselect";break;case"country-codeselect":t="countrycodeselect";break;case"country-select":t="countryselect";break;case"textarea":case"wysiwyg":case"select":case"embedded":break;case"upload":switch(this.context){case"admin":t="content-select"}break;case"button-select":case"order-select":t="select";break;default:switch(e){case"date":t="datepicker";break;case"group":t="group";break;case"boolean":t="checkbox";break;case"number":case"integer":case"decimal":t="number";break;case"reference":t="content-select"}}return t}},methods:{fixCorruptedData(){if(this.multipleInput)switch(this.type){case"string":s.a.isArray(this.fieldModel)||(this.fieldModel=[this.fieldModel],console.log(this.field.title,"Transformed to multiple value"));break;case"reference":this.results=(this.defaultReferences||[]).slice();break;case"group":this.field.asObject&&(s.a.isArray(this.fieldModel)||(this.fieldModel?this.fieldModel=[this.fieldModel]:this.fieldModel=[]));break;case"void":break;default:this.results=(this.defaultValues||[]).slice()}else if(s.a.isArray(this.fieldModel))switch(this.type){case"string":this.fieldModel=s.a.first(this.fieldModel),console.log(this.field.title,"Transformed array to single value")}},debugSelect(e){"builder"==this.context&&this.recursiveClick&&(e&&(e.preventDefault(),e.stopPropagation()),this.recursiveClick(this))},checkInitialValue(){null==this.fieldModel||null===this.fieldModel||""==this.fieldModel?this.hasInitialValue=!1:this.hasInitialValue=!0},clear(){this.fieldModel=null,this.reset()},reset(){this.files=[],this.$v.$reset()},removeFile(e){e.cancelToken&&e.cancelToken.cancel("Operation canceled by the user."),this.files.splice(this.files.indexOf(e),1),this.mapFilesToValues(),"uploading"==e.state&&this.uploadNextFile()},filesSelected(e){if(this.touch(),e.length){var t=s.a.map(e,(function(e){return{file:e,data:{},name:e.name,size:e.size}}));return this.files=s.a.chain(this.files.concat(t)).compact().uniqBy((function(e){return e.name})).value(),this.maximum&&(this.files=this.files.slice(0,this.maximum)),this.$refs.file.value=null,this.uploadNextFile()}},upload(e){var t=this;switch(e.state){case"complete":case"uploading":return}e.state="uploading";var i=new FormData;i.append("file",e.file,e.name),t.$forceUpdate();var r=i,n={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i=>{let r=Math.floor(100*i.loaded/i.total);e.progress=r,e.bytesLoaded=i.loaded,e.bytesTotal=i.total,t.bytesLoaded=s.a.reduce(t.files,(function(e,t){return"complete"==t.state?e+=t.size||t.bytesTotal||0:e+=t.bytesLoaded||0,e}),0),t.$forceUpdate()}};const a=t.$fluro.api.CancelToken.source();n.cancelToken=a.token,e.cancelToken=a,n.headers={"Content-Type":void 0};var o=s.a.chain(t.field).get("params.realm").first().value();if(!o){var l=s.a.get(t.options,"backupUploadRealm");l?o=l:(e.state="error",t.uploadNextFile())}return console.log("Uploading to ",o),this.$fluro.api.post("/file/attach/"+o,r,n).then((function(i){e.state="complete",e.result=i.data,e.attachmentID=i.data._id,e.cancelToken=null,t.uploadNextFile()})).catch((function(i){e.state="error",e.cancelToken=null,t.uploadNextFile()}))},uploadNextFile(){this.uploadState="uploading";var e=s.a.find(this.files,(function(e){switch(e.state){case"complete":case"error":return;default:return!0}}));e?this.upload(e):this.uploadState="ready",this.mapFilesToValues()},mapFilesToValues(){this.multipleInput?this.fieldModel=s.a.map(this.files,"result"):this.fieldModel=s.a.chain(this.files).first().get("result").value(),this.$forceUpdate()},resolveExpression(e){var t,i,r={data:this.parent,interaction:this.parent,model:this.model,Math:Math,String:String,Array:Array,Date:Date,moment:this.$fluro.date.moment,matchInArray:this.$fluro.utils.matchInArray};try{t=u.a.parse(e),i=u.a.eval(t,r)}catch(e){}finally{return i}},groupTitle(e,t){if(e){if(e.title&&e.title.length)return e.title;if(e.name&&e.name.length)return e.name;if(e.firstName)return e.lastName?`${e.firstName} ${e.lastName}`:e.firstName}return`${this.title} ${t+1}`},includesValue(e){return s.a.includes(this.fieldModel,e)},addProposedValue(){var e=this.proposedValue;(this.touch(),this.canAddValue)&&(e&&""!=e&&(d(this,e).length||(this.includesValue(e)||this.addValue(e),this.proposedValue=null)))},addValue(e){console.log("ADD ANOTHER VALUE",e),this.fieldModel||(this.fieldModel=[],console.log("Create Field Model")),this.canAddValue&&(this.fieldModel.push(e),this.valueChange())},removeValue(e,t){console.log("REMOVE VALUE",e,this.fieldModel),(this.canRemoveValue||t)&&this.fieldModel&&(this.fieldModel.splice(e,1),this.valueChange())},touch(){this.$v.model.$touch()},clicked(e){this.debugSelect(e)},focussed(){this.debugSelect()},modalFocussed(){this.focussed(),this.modal=!0},valueChange(e,t){t&&this.touch(),this.$emit("input",this.model,this.fieldModel)}},mounted(){var e=this;e.debugMode&&e.field.isNew&&e.$nextTick((function(){e.$nextTick((function(){e.$el&&e.$el.scrollIntoView&&(e.$el.scrollIntoView({behavior:"smooth",block:"center"}),e.field.isNew=void 0)}))}))},created(){if(this.fixCorruptedData(),!this.multipleInput)if(s.a.isArray(this.fieldModel))switch(this.type){case"string":this.fieldModel=s.a.first(this.fieldModel),console.log(this.field.title,"Transformed array to single value")}else if(!this.fieldModel&&this.defaultValues&&this.defaultValues.length){var e=s.a.first(this.defaultValues);if(e){switch(this.type){case"date":"now"==String(e).toLowerCase()&&(e=new Date);break;case"number":e=Number(e);break;case"integer":e=parseInt(e);break;case"decimal":case"float":e=parseFloat(e)}this.fieldModel=e}}switch(this.type){case"group":this.asObject&&(this.fieldModel||(this.multipleInput?this.fieldModel=[]:this.fieldModel={}));break;default:this.formFields&&this.$set(this.formFields,this.formFields.length,this)}this.checkInitialValue(),this.$emit("created",this)},beforeDestroy(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},props:{debugMode:{type:Boolean},contextField:{type:Object},recursiveClick:{type:Function},disableDefaults:{type:Boolean},context:{type:String,default(){return this.$fluro.global.defaultFormContext}},dynamic:{type:Boolean},parent:{type:Object},autofocus:{type:Boolean},outline:{type:Boolean},showLabel:{type:Boolean,default:!0},overrideLabel:{type:String},formFields:{type:Array},field:{type:Object},value:{required:!0},options:{default:function(){return{}},type:Object}},asyncComputed:{asyncOptions:{default:[],get(){var e=this;return e.asyncOptionsURL&&e.asyncOptionsURL.length?(e.asyncOptionsLoading=!0,new Promise((function(t,i){e.$fluro.api.get(e.asyncOptionsURL).then((function(i){t(i.data),e.asyncOptionsLoading=!1})).catch((function(t){i(t),e.asyncOptionsLoading=!1}))}))):(Promise.resolve([]),void(e.asyncOptionsLoading=!1))}},required:{default:!1,get(){return 1==this.minimum||this.expressionRequired?Promise.resolve(!0):Promise.resolve(!1)}},isVisible:{get(){var e="value"==this.renderer||this.expressionHideGroup||this.expressionHide;return Promise.resolve(!e)}},expressionValue:{get(){if(!this.expressions||!this.expressions.value||!this.expressions.value.length)return Promise.resolve();var e=this.resolveExpression(this.expressions.value);return Promise.resolve(e)}},expressionDefaultValue:{get(){if(!this.expressions||!this.expressions.defaultValue)return Promise.resolve();if("function"==typeof this.expressions.defaultValue)return this.expressions.defaultValue();if(!String(this.expressions.defaultValue).length)return Promise.resolve();var e=this.resolveExpression(this.expressions.defaultValue);return Promise.resolve(e)}},expressionRequired:{default:!1,get(){var e;return this.expressions&&this.expressions.required&&this.expressions.required.length?(e=this.resolveExpression(this.expressions.required),Promise.resolve(e)):Promise.resolve(!1)}},expressionHide:{default:!1,get(){var e;if(this.expressions&&this.expressions.show){if("function"==typeof this.expressions.show)return!this.expressions.show();var t=this.resolveExpression(this.expressions.show);return Promise.resolve(!t)}return this.expressions&&this.expressions.hide?"function"==typeof this.expressions.hide?this.expressions.hide():String(this.expressions.hide).length?(e=this.resolveExpression(this.expressions.hide),Promise.resolve(e)):Promise.resolve(!1):Promise.resolve(!1)}},expressionHideGroup:{default:!1,get(){var e=!1;return this.field.hideExpression&&this.field.hideExpression.length?(e=this.resolveExpression(this.field.hideExpression),Promise.resolve(e)):e}}},mixins:[n.validationMixin],beforeCreate:function(){this.$options.components.FluroContentForm=i(10).default,this.$options.components.FluroContentFormField=i(11).default},validations:{model:{validateInput:function(e,t){var i=e[this.key],r=t.minimum,n=t.maximum,a=Array.isArray(i);if(this.proposedValue){if(d(t,this.proposedValue).length)return!1}if(!r&&!i)return!0;if(1==n)return!!i&&!d(t,i).length;if(!a)return!1;var o=(i||"").length;if(o<r)return!1;if(o>n)return!1;if(s.a.some(i,(function(e){return d(t,e).length})))return!1;return!0},uploading:function(e,t){return"uploading"!=t.uploadState}}}},f=(i(324),i(0)),m=Object(f.a)(p,r,[],!1,null,null,null);m.options.__file="src/components/form/FluroContentFormField.vue";t.default=m.exports},function(e,t,i){"use strict";t.a={components:{wrapper:()=>Promise.resolve().then(i.bind(null,172)),constrain:()=>Promise.resolve().then(i.bind(null,173)),"fluro-realm-bar":()=>Promise.resolve().then(i.bind(null,22))}}},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"tabset",class:{justified:e.justified,vertical:e.vertical}},[e.enabledTabs.length>1||e.persist?i("flex-column-header",{staticClass:"tabset-header"},[e._t("menuprefix"),e._v(" "),i("div",{ref:"outer",staticClass:"tabset-menu"},[i("div",{ref:"inner",staticClass:"tabset-menu-inner"},[e._l(e.enabledTabs,(function(t,r){return[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],class:{active:r==e.activeTabIndex,muted:t.muted},attrs:{flat:"",content:t.tooltip},on:{click:function(t){return e.selectTab(r)}}},[e._v("\n                        "+e._s(t.heading)+" \n                        "),t.icon?[t.icon.icon?i("fluro-icon",{style:{color:t.icon.color},attrs:{icon:t.icon.icon,library:t.icon.library}}):e._e(),e._v(" "),t.icon.type?i("fluro-icon",{style:{color:t.icon.color},attrs:{type:t.icon.type,library:t.icon.library}}):e._e()]:e._e()],2)]}))],2)]),e._v(" "),e._t("menusuffix")],2):e._e(),e._v(" "),i("flex-column",{staticClass:"tabset-content"},[e._t("default")],2)],1)};r._withStripped=!0;var n={props:{value:{type:Number},options:{type:Object},justified:{type:Boolean},persist:{type:Boolean},vertical:{type:Boolean}},provide(){return{removeTab:this.removeTab,addTab:this.addTab,tabs:this.tabs,activeTabIndex:this.activeTabIndex}},data(){return{tabs:[],activeTabIndex:this.value||0}},watch:{value:"selectTab",activeTabIndex(e){this.$emit("input",e)}},computed:{enabledTabs(){return this.tabs}},methods:{removeTab(e){_.pull(this.tabs,e)},addTab(e){_.includes(this.tabs,e)||this.tabs.push(e)},selectTab(e){var t=this;e=Math.max(e,0),e=Math.min(e,t.tabs.length-1),t.activeTabIndex=e;var i=t.$refs.outer,r=t.$refs.inner,n=r.children[t.activeTabIndex],a=r.getBoundingClientRect(),o=n.getBoundingClientRect(),s={};s.top=o.top-a.top,s.right=o.right-a.right,s.bottom=o.bottom-a.bottom,s.left=o.left-a.left;var l=i.offsetWidth,c=n.offsetWidth,u=(i.scrollWidth,s.left-(l/2-c/2));i.scrollTo({left:u,behavior:"smooth"}),_.each(t.tabs,(function(e){e.active=e.index==t.activeTabIndex}))}}},a=(i(338),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/tabset/FluroTabset.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"slide"}},[this.active?t("flex-column",[this._t("default")],2):this._e()],1)};r._withStripped=!0;var n={props:{muted:{type:Boolean},enabled:{type:Boolean,default:!0},heading:{type:String},tooltip:{type:String},iconType:{type:String},icon:{type:Object}},inject:["tabs","addTab","activeTabIndex","removeTab"],created(){this.index=this.tabs.length,this.addTab(this),this.active=this.index==this.activeTabIndex},watch:{active:"emitActive"},beforeDestroy(){this.removeTab(this)},methods:{emitActive(e){this.active&&this.$emit("activeTab")}},data:()=>({index:0,active:!1})},a=(i(340),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/tabset/FluroTab.vue";t.a=o.exports},function(e,t){e.exports=tiptap-commands},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isArray?e._l(e.rendered,(function(t){return i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"inline-tag",attrs:{content:e._f("timeago")(t)}},[e._v(e._s(e._f("formatDate")(t,"MMM D, YYYY")))])})):e.rendered?[e.rendered?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"inline-tag",attrs:{content:e._f("timeago")(e.rendered)}},[e._v(e._s(e._f("formatDate")(e.rendered,"MMM D, YYYY")))]):e._e()]:e._e()],2)};function n(e){if(e){var t=new Date(e);return t instanceof Date&&!isNaN(t)?t:"Invalid date "+e}}r._withStripped=!0;var a={props:{row:{type:Object},column:{type:Object},data:{}},computed:{isArray(){return _.isArray(this.data)},rendered(){if(this.data){if(_.isArray(this.data)){var e=_.chain(this.data).compact().map(n).value();return e.length?e:void 0}return!!this.data&&n(this.data)}}}},o=(i(253),i(0)),s=Object(o.a)(a,r,[],!1,null,"25ee0c3f",null);s.options.__file="src/components/table/cells/DateCell.vue";t.a=s.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-select-button"},[i("v-btn",{staticClass:"pill mx-0",attrs:{small:e.small,large:e.large,color:e.color,block:e.block},nativeOn:{click:function(t){return e.showModal(t)}}},[i("span",[e._v(e._s(e.selectionSummary))])])],1)};r._withStripped=!0;var n=i(7),a=i.n(n),o=i(26),s=i(48),l={props:{label:{type:String},filter:{type:Object,default:()=>({operator:"and",filters:[{operator:"and",filters:[{key:"status",comparator:"in",values:["active","draft"]}]}]})},small:{type:Boolean},block:{type:Boolean},large:{type:Boolean},color:{type:String},searchInheritable:{type:Boolean,default:!0},allDefinitions:{type:Boolean},singleValue:{type:Boolean},type:{type:String,default:()=>"node"},minimum:{type:Number,default:0},maximum:{type:Number,default:0},value:{}},computed:{selection(){return this.selector.selection},title(){return this.$fluro.types.readable(this.type,!1)},plural(){return this.$fluro.types.readable(this.type,!0)},selectionSummary(){var e=this,t=_.filter(e.selection,(function(t){if(t)return!e.type||"node"==e.type||(t.definition?t.definition==e.type:t._type==e.type)}));return t.length?t.length>3?`${t.length} ${e.plural} selected`:_.map(t,"title").join(", "):e.label&&e.label.length?e.label:e.small?"Select "+e.plural:"Click to select "+e.plural}},data(){var e=a.a.extend(s.a),t=this.singleValue?[this.value]:this.value;return{selector:new e({propsData:{minimum:this.minimum,maximum:this.maximum,allDefinitions:this.allDefinitions,searchInheritable:this.searchInheritable,value:t}})}},watch:{minimum(e){this.selector.minimum=e},maximum(e){this.selector.maximum=e},value:function(e){this.selector.value=this.singleValue?[e]:e},selection:function(e){this.singleValue&&(e=_.first(e)),this.$emit("input",e)}},methods:{showModal(){console.log("SHOW MODAL",this.selector);this.$fluro.modal({component:o.a,options:{selector:this.selector,type:this.type,allDefinitions:this.allDefinitions,searchInheritable:this.searchInheritable,filter:this.filter}})}}},c=i(0),u=Object(c.a)(l,r,[],!1,null,null,null);u.options.__file="src/components/form/contentselect/FluroContentSelectButton.vue";t.default=u.exports},function(e,t,i){"use strict";t.a={data:()=>({selectionMinimum:0,selectionMaximum:0,selection:[]}),methods:{select(e){if(!this.isSelected(e)){var t=this.selection.length,i=this.selectionMaximum;return!i||t<i?this.$set(this.selection,this.selection.length,e):this.$set(this.selection,this.selection.length-1,e)}},selectMultiple(e){var t=[...this.selection,...e];t=_.uniqBy(t,(function(e){return e._id||e})),console.log("SELECT NEW ITEMS",this.selectionMaximum,t.length),this.setSelection(t)},setSelection(e){this.selectionMaximum&&e.length>this.selectionMaximum&&(e=e.slice(0,this.selectionMaximum)),this.selection=e},deselect(e){var t=this;if(e){var i=t.$fluro.utils.getStringID(e),r=_.findIndex(t.selection,(function(e){var r=t.$fluro.utils.getStringID(e);return i==r}));t.selection.splice(r,1)}},toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)},deselectAll(){this.selection=[]},isSelected(e){var t=this,i=t.$fluro.utils.getStringID(e);return _.some(t.selection,(function(e){var r=t.$fluro.utils.getStringID(e);return i==r}))}}}},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.singleOptionAvailable,expression:"!singleOptionAvailable"}],staticClass:"realm-select"},[i("v-btn",{staticClass:"pill mx-0",attrs:{small:e.small,block:e.block},nativeOn:{click:function(t){return e.showModal(t)}}},[i("fluro-realm-dots",{attrs:{realms:e.selection}}),e._v(" "),i("span",{staticClass:"label"},[e._v(e._s(e.selectionSummary))])],1)],1)};r._withStripped=!0;i(7);var n=i(37),a=i(42),o=i(18),s=i(12),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"realm-select-modal"},[e.loading?i("flex-column",[i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"py-2":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[i("v-flex",[i("h3",{staticStyle:{margin:"0"}},[e._v(e._s(e.title))])]),e._v(" "),i("div",[i("v-btn",{staticClass:"ma-0",attrs:{color:"primary"},on:{click:function(t){return e.dismiss()}}},[e._v("\n                            Done\n                        ")])],1)],1)],1)],1),e._v(" "),i("flex-column",[i("fluro-tabset",e._l(e.tree,(function(t){return i("fluro-tab",{key:t.definitionName,attrs:{heading:t.plural}},[i("flex-column-body",{staticClass:"realm-select-item-outer",class:{"has-selection":e.selection.length}},[i("div",{staticClass:"children"},[e._l(t.realms,(function(t){return[i("fluro-realm-select-item",{attrs:{item:t,check:e.isSelected,callback:e.toggleRealm}})]}))],2)])],1)})),1)],1),e._v(" "),e.selector.selection.length?i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"pa-1":""}},[i("v-btn",{attrs:{small:"",flat:""},on:{click:function(t){return e.selector.deselectAll()}}},[e._v("\n                    Deselect all "+e._s(e.selector.selection.length)+"\n                ")])],1)],1):e._e()]],2)};l._withStripped=!0;var c=i(5),u=i(13),d=i(14),p={props:{options:{type:Object}},components:{FluroRealmSelectItem:a.default,FluroTabset:u.a,FluroTab:d.a},mixins:[c.a,s.a],data(){return{selector:this.options.selector}},methods:{isSelected(e){return this.selector.isSelected(e)},toggleRealm(e){return this.selector.toggleRealm(e)}},computed:{title(){var e="Realms";return 1==this.tree.length&&(e=this.tree[0].plural),"Select "+e},selection(){return this.selector.selection},tree(){return this.selector.tree},loading(){return this.selector.loading},ids(){return this.$fluro.utils.arrayIDs(this.options.items)}}},f=(i(346),i(0)),m=Object(f.a)(p,l,[],!1,null,null,null);m.options.__file="src/components/form/realmselect/RealmSelectModal.vue";var h=m.exports,v={computed:{singleOption:{get(){return this.singleOptionAvailable},set(e){this.singleOptionAvailable=e,this.$emit("single",e)}},mainType(){var e=this.tree;return 1==e.length?e[0].definition||e[0]._type:"realm"},title(){return this.$fluro.types.readable(this.mainType,!1,"realm")},plural(){return this.$fluro.types.readable(this.mainType,!0,"realm")},selectionSummary(){return this.selection.length?this.selection.length>3?`${this.selection.length} ${this.plural} selected`:_.map(this.selection,"title").join(", "):"Select "+this.plural}},components:{FluroRealmSelectItem:a.default,FluroRealmDots:n.a},mixins:[s.a,o.a],props:{small:{type:Boolean},block:{type:Boolean},action:{type:String,default:"create"},expanded:{type:Boolean},value:{type:Array,default:function(){return[]}},type:{type:String},definition:{type:String},filterDiscriminator:{type:String}},data:()=>({singleOptionAvailable:!0,loading:!0}),asyncComputed:{tree:{default:[],get(){var e=this;return e.loading=!0,new Promise((function(t,i){e.$fluro.access.retrieveSelectableRealms(e.action,e.definition,e.type).then((function(i){var r=_.filter(i,(function(t){return!e.filterDiscriminator||!e.filterDiscriminator.length||t.definition==e.filterDiscriminator})),n=_.reduce(i,(function(e,t){return _.each(t.realms,(function(t){!function e(t,i){i[t._id]=t,t.children&&t.children.length&&_.each(t.children,(function(t){e(t,i)}))}(t,e)})),e}),{}),a=_.map(n,(function(e){return e})),o=_.chain(e.$fluro.utils.arrayIDs(e.value)).map((function(e){return n[e]})).compact().value();t(r);var s=!1;o&&o.length?e.setSelection(o):1==a.length&&e.setSelection(a),1==a.length&&(s=!0),e.singleOption=s,e.loading=!1}),(function(t){i(t),e.loading=!1}))}))}}},watch:{value:function(){this.setSelection(this.value)},selection:function(){this.$emit("input",this.selection)}},methods:{showModal(){this.$fluro.modal({component:h,options:{selector:this,fixed:!0}})},toggleRealm(e){console.log("TOGGLE REALM"),this.toggle(e)}}},g=(i(348),Object(f.a)(v,r,[],!1,null,"6d8c49ce",null));g.options.__file="src/components/form/realmselect/FluroRealmSelect.vue";t.default=g.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"fluro-inline-edit",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.blur(t)},click:function(t){return t.stopPropagation(),t.preventDefault(),e.enableEdit(t)}}},[e.enabled?[i("span",{staticClass:"inline-edit-input",class:{"inline-hide":!e.props.editing,"inline-show":e.props.editing}},[e._t("edit",null,{props:e.props,blur:e.blur,focus:e.focus})],2),e._v(" "),i("span",{staticClass:"inline-edit-default",class:{"inline-hide":e.props.editing,"inline-show":e.props.editing}},[e._t("default",null,{props:e.props,blur:e.blur,focus:e.focus})],2)]:[e._t("default",null,{props:e.props,blur:e.blur,focus:e.focus})]],2)};r._withStripped=!0;var n={props:{autofocus:{type:Boolean},enabled:{type:Boolean,default:!0}},data:()=>({props:{element:null,editing:!1},dblclick:{type:Boolean}}),beforeDestroy(){this.element&&(this.element.removeEventListener("focus",this.focus),this.element.removeEventListener("blur",this.blur),this.element=null)},mounted(){this.mount(),this.autofocus&&this.enableEdit()},methods:{doubleClickEnableEdit(){return this.dblclick?this.enableEdit():void 0},clickEnableEdit(){return this.dblclick?void 0:this.enableEdit()},mount(){this.element=this.$el.querySelector("input, textarea, select, [contenteditable]"),this.element&&(this.element.addEventListener("focus",this.focus),this.element.addEventListener("blur",this.blur))},enableEdit(){this.enabled&&(this.element||this.mount(),this.element&&this.element.focus(),this.props.editing=!0)},focus(e){this.enabled&&(this.props.editing=!0,this.element&&this.element.select&&this.element.select())},blur(){this.props.editing=!1}}},a=(i(235),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/form/FluroInlineEdit.vue";t.default=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"print"!=e.context?i("div",[e.$vuetify.breakpoint.smAndUp?i("fluro-realm-dots",{attrs:{realms:e.data}}):e._e(),e.$vuetify.breakpoint.xsOnly?i("fluro-realm-bar",{attrs:{realm:e.data}}):e._e()],1):e._e()};r._withStripped=!0;var n={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/RealmDotCell.vue";t.a=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"realm-bar",style:this.style})};r._withStripped=!0;var n={props:{realm:{type:[Object,Array,String]}},computed:{allRealms(){var e=[];return this.realm&&(Array.isArray(this.realm)?e=e.concat(this.realm):e.push(this.realm)),e},primaryRealm(){return _.find(this.allRealms,(function(e){return e.bgColor&&e.bgColor.length}))},style(){if(this.primaryRealm)return{backgroundColor:this.primaryRealm.bgColor}}}},a=(i(332),i(0)),o=Object(a.a)(n,r,[],!1,null,"4a6cff45",null);o.options.__file="src/components/ui/FluroRealmBar.vue";t.default=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-cell"},[i("div",{staticClass:"grow"},[i("strong",[e._v(e._s(e.row.title))]),e._v(" "),e.firstLine?i("div",{staticClass:"summary"},[e._v(e._s(e.firstLine))]):e._e()]),e._v(" "),e.status?i("div",{staticClass:"shrink"},[e.row.status&&"active"!=e.row.status?i("fluro-status-label",{attrs:{value:e.row.status}}):e._e()],1):e._e()])};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:()=>!1}},computed:{firstLine(){var e=this.row;if(e.deployment)return e.deployment;if(e.event){if(e.event.startDate)return`${this.$fluro.date.formatDate(e.event.startDate,"ddd D MMM YYYY - h:mma")} - ${e.event.title}`;if(e.event.title)return""+e.event.title}return e.firstLine?e.firstLine:e.subject?e.subject:e.description?e.description:void 0}}},a=(i(265),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/TitleCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",["print"==this.context?t("div",[this._v("\n        "+this._s(this.data)+"\n    ")]):t("div",[t("fluro-status-label",{attrs:{value:this.data}})],1)])};r._withStripped=!0;var n={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/StatusCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-table-wrapper"},[e.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):e._e(),e._v(" "),e.rows.length&&!e.sorted.length?i("v-container",{staticClass:"flex-center"},[e._t("emptytext",[e._v("\n            No results were found matching your criteria\n        ")])],2):[i("div",{ref:"scrollableArea",staticClass:"fluro-table-scroll",class:{clickable:e.clickable,loading:e.showLoading}},[i("span",{ref:"top"}),e._v(" "),i("table",{staticClass:"fluro-table-main no-select"},[i("thead",[i("tr",[e.selectionEnabled?i("th",{staticClass:"first shrink checkbox-cell"},[i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("div",e._g({},r),[i("table-header-checkbox",{tag:"div",attrs:{all:e.allSelected,some:e.someSelected}})],1)]}}],null,!1,3536504858)},[e._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[e.allSelected?e._e():i("v-list-tile",{on:{click:function(t){return e.selectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Select this page\n                                                ")])],1)],1),e._v(" "),e.someSelected?i("v-list-tile",{on:{click:function(t){return e.deselectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Deselect this page\n                                                ")])],1)],1):e._e(),e._v(" "),e.filteredTotal?i("v-list-tile",{on:{click:function(t){return e.selectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Select all "+e._s(e.filteredTotal)+" items\n                                                ")])],1)],1):e._e(),e._v(" "),e.$selection.selection.length?i("v-list-tile",{on:{click:function(t){return e.deselectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Deselect all "+e._s(e.filteredTotal)+" items\n                                                ")])],1)],1):e._e()],1)],1)],1)],1):e._e(),e._v(" "),e._l(e.columns,(function(t){return i("th",{class:[t.classes,{shrink:t.shrink,sortable:e.isSortable(t),sorting:e.sort.sortKey==t.key,"text-xs-center":"center"==t.align,"text-xs-right":"right"==t.align}],on:{click:function(i){return e.toggleSort(t)}}},[e.isActiveSort(t.key)?i("div",{staticClass:"sort-icon"},["desc"==e.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-down"}}):e._e(),e._v(" "),"asc"==e.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-up"}}):e._e()],1):e._e(),e._v("\n                            "+e._s(t.title)+"\n                        ")])})),e._v(" "),e.selectionEnabled?i("th",{staticClass:"last shrink"}):e._e()],2)]),e._v(" "),i("tbody",[e.grouped?[e._l(e.grouped,(function(t){return[t.title?i("tr",{staticClass:"breaker"},[i("th"),e._v(" "),i("td",{attrs:{colspan:1+e.columns.length}},[e._v(e._s(t.title))])]):e._e(),e._v(" "),e._l(t.items,(function(t,r){return i("tr",{key:t[e.trackingKey],class:e.classes(t)},[t._populating?[i("table-row-checkbox",{tag:"th"}),e._v(" "),i("td",{attrs:{colspan:e.columns.length},nativeOn:{click:function(i){return e.clicked(t,e.column,r)}}},[e._v("-")]),e._v(" "),i("th",{staticClass:"shrink"})]:[i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:e.$selection.isSelected(t),value:t},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.checkboxClick(t,i,t._pageIndex)}}}),e._v(" "),e._l(e.columns,(function(n){return i("table-cell",{class:[n.classes,{sorting:e.sort.sortKey==n.key}],attrs:{row:t,column:n},nativeOn:{click:function(i){return e.clicked(t,n,r)}}})})),e._v(" "),i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)])]],2)}))]}))]:e._l(e.page,(function(t,r){return t.hidden?e._e():i("tr",{key:t[e.trackingKey],class:e.classes(t)},[t._populating?[e.selectionEnabled?i("table-row-checkbox",{tag:"th"}):e._e(),e._v(" "),i("td",{attrs:{colspan:e.columns.length},nativeOn:{click:function(i){return e.clicked(t,e.column,r)}}},[e._v("-")]),e._v(" "),e.selectionEnabled?i("th",{staticClass:"shrink"}):e._e()]:[e.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:e.$selection.isSelected(t),value:t},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.checkboxClick(t,i,r)}}}):e._e(),e._v(" "),e._l(e.columns,(function(n){return i("table-cell",{class:[n.classes,{sorting:e.sort.sortKey==n.key}],attrs:{row:t,column:n},nativeOn:{click:function(i){return e.clicked(t,n,r)}}})})),e._v(" "),e.selectionEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):e._e()]],2)}))],2)])]),e._v(" "),e.footerEnabled?i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[e.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[e._v("\n                        "+e._s(e._f("numberWithCommas")(e.startOffset+1))+" to "+e._s(e._f("numberWithCommas")(e.endOffset))+" of "+e._s(e._f("numberWithCommas")(e.filteredTotal))+" matches\n                        ")]),e._v(" "),i("v-flex",{staticClass:"text-xs-right",staticStyle:{"white-space":"nowrap"},attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[e.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[e._v("Page "+e._s(e.currentPage)+" of "+e._s(e.totalPages))]):e._e(),e._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],e._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[e._v("\n                        No matches\n                    ")])]],2)],1):e._e()]],2)};r._withStripped=!0;var n,a,o=i(165),s=i(166),l=i(29),c=i(4),u={props:{showFooter:{type:Boolean},trackingKey:{type:String,default:"_id"},defaultFields:{type:Array,default:()=>[]},grouping:{type:Function},includeArchivedByDefault:{type:Boolean},enableSelection:{type:Boolean,default:!0},defaultSort:{type:String,default:"title"},defaultSortType:{type:String,default:"string"},defaultSortDirection:{type:String,default:"asc"},clickable:{type:Boolean,default:()=>!0},clicked:{type:Function,default:()=>function(e,t){}},columns:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},filterConfig:{type:Object,default:()=>({operator:"and",filters:[]})},initPage:{type:[Number,String],default:1},initSort:{type:Object,default(){return{key:this.defaultSort||"title",direction:this.defaultSortDirection||"asc",type:this.defaultSortType||"string"}}},pageSize:{type:Number,default:100},dataSource:{type:String},allDefinitions:{type:Boolean},search:{type:String},startDate:{type:Date},endDate:{type:Date}},data(){return{filtered:[],refined:[],debouncedSearch:this.search,perPage:this.pageSize,loading:!1,loadingItems:!1,currentPage:parseInt(this.initPage),previousSelectionIndex:-1,sort:JSON.parse(JSON.stringify(this.initSort)),rowsLoaded:0}},computed:{footerEnabled(){return!!this.showFooter||(this.totalPages>1||void 0)},selectionEnabled(){return!(!1===this.enableSelection)&&this.$selection},grouped(){return this.grouping?this.grouping(this.page):void 0},excludeArchived(){return!this.includeArchivedByDefault&&!_.some(this.activeFilterRows,(function(e){if("status"==e.key){var t="archived"==e.value||_.includes(e.values,"archived"),i="deceased"==e.value||_.includes(e.values,"deceased");switch(e.comparator){case"==":case"startswith":case"endswith":case"like":case"contains":case"in":return t||i;default:return!t&&!i}}}))},rowsTotal(){return this.rowsLoaded||this.rows.length||5e3},showLoading(){return this.loading||this.loadingItems},activeFilters(){return c.FilterService.activeFilters(this.filterConfig)},activeFilterRows(){return _.filter(this.activeFilters,(function(e){return e.comparator&&e.comparator.length}))},activeFilterKeys(){return c.FilterService.activeFilterKeys(this.filterConfig)},activeFilterValues(){return c.FilterService.activeFilterValues(this.filterConfig)},activeFilterComparators(){return c.FilterService.activeFilterComparators(this.filterConfig)},activeFilterOperators(){return c.FilterService.activeFilterComparators(this.filterConfig)},rowCheckString(){var e=this.rows||[];return`${_.map(e,"_id").join("")}${_.keys(e[0])}`},dateWatchString(){if(this.startDate&&this.endDate)return String(this.startDate)+String(this.endDate)},filterCheckString(){return c.FilterService.getFilterChangeString(this.filterConfig)},isAsync(){return this.dataSource&&this.dataSource.length},previousPageDisabled(){return this.currentPage<=1},nextPageDisabled(){return this.currentPage==this.totalPages},sorted(){var e=this.refined;if(!this.sort||!e.length)return e;var t=this.sort.sortKey,i=this.sort.sortType,r=this.sort.sortDirection;return t&&t.length||(t=this.defaultSort),i&&i.length||(i=this.defaultSortType),r&&r.length||(r=this.defaultSortDirection),e=_.orderBy(e,(function(e){var r=_.get(e,t);_.isArray(r)&&r.length&&(r=r[0]);var n=null==r;switch(i){case"boolean":return r?1:0;case"number":case"integer":case"decimal":case"float":return n||isNaN(r)?-1e34:"integer"==i?parseInt(r):parseFloat(r);case"date":if(n)return 0;var a=new Date(r).getTime();return isNaN(a)?0:a;default:return _.isObject(r)&&(r.title?r=r.title:r.name&&(r=r.name)),String(r).toLowerCase()}})),"desc"==r&&e.reverse(),e},filteredTotal(){return this.refined?this.refined.length:0},availablePages(){return _.chunk(this.sorted,this.perPage)},startOffset(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},rawPage(){return this.currentPage>this.totalPages?_.first(this.availablePages):this.availablePages[this.currentPage-1]},totalPages(){return this.availablePages?this.availablePages.length:0},allSelected(){var e=this;if(e.page&&e.page.length)return!_.some(e.page,(function(t){return!e.$selection.isSelected(t)}))},someSelected(){var e=this;return!!e.allSelected||_.some(e.page,(function(t){return e.$selection.isSelected(t)}))},selectAllIcon(){return this.allSelected?"check-square":this.someSelected?"minus-square":"square"}},asyncComputed:{rows:{default:[],get(){var e=this;if(!e.isAsync)return Promise.resolve([]);var t=["_id","title","status"];(e.startDate||e.endDate)&&(t.push("startDate"),t.push("endDate")),e.sort&&e.sort.sortKey&&t.push(e.sort.sortKey);var i=e.excludeArchived;t=t.concat(e.activeFilterKeys);return e.loadingItems=!0,e.rowsLoaded=0,t=_.chain(t).compact().uniq().value(),new Promise((function(r,a){var o=0,s=0,l=[];return c();function c(){n=e.$fluro.api.CancelToken.source();var u={fields:t,limit:5e3,offset:s};e.dataSource,i&&(u.excludeArchived=!0),e.allDefinitions&&(u.allDefinitions=!0);var d=_.chain(JSON.stringify(u)).compact().orderBy((function(e){return e})).value().join("");d=`${e.dataSource}-${d}`;var p=e.$fluro.cache.get("async-table-cache"),f=p.get(d);if(f)return m(f);function m(t){return l=l.concat(t),e.rowsLoaded+=l.length,function(t){var i=5e3==t.length,n=l.length>=1e5;if(i&&!n)return o++,s=5e3*o,console.log("Loading Chunk",o,s,"-",s+5e3),c();r(l),e.loadingItems=!1,e.$emit("raw",l)}(t)}return e.$fluro.api.get(e.dataSource,{params:u,cancelToken:n.token}).then((function(e){p.set(d,e.data),m(e.data)}),(function(t){if(!e.$fluro.api.axios.isCancel(t))return a(t)}))}}))}},page:{default:[],get(){var e=this;if(!e.isAsync)return Promise.resolve(e.rawPage);var t=_.map(e.rawPage,"_id");if(!t||!t.length)return e.loading=!1,Promise.resolve([]);var i=["title","_type","definition"];return i=i.concat(_.chain(e.columns).map((function(e){switch(e.key){case"firstName":return["firstName","preferredName","ethnicName"];case"lastName":return["lastName","maidenName"]}return e.additionalFields&&e.additionalFields.length?[].concat(e.additionalFields,e.key):e.key})).flatten().uniq().compact().value()),e.loading=!0,new Promise((function(r,n){a=e.$fluro.api.CancelToken.source(),e.$fluro.api.get("/content/multiple",{params:{ids:t,select:i,populateAll:!0,limit:t.length},cancelToken:a.token}).then((function(i){var n=_.reduce(i.data,(function(e,t,i){return e[t._id]=t,e}),{}),a=_.chain(t).map((function(e,t){var i=n[e];if(i)return i._pageIndex=t,i;console.log("No entry for",e)})).compact().value();r(a),e.loading=!1}),(function(t){if(!e.$fluro.api.axios.isCancel(t))return n(t)}))}))}}},filters:{numberWithCommas:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},watch:{items:"refilter",rows:"refilter",filterCheckString:"refilter",search:_.debounce((function(e){this.debouncedSearch=e,this.refine()}),500),dateWatchString:_.debounce((function(e){this.refine()}),500)},methods:{refilter(){var e=this,t=e.isAsync?e.rows:e.items;if(!t||!t.length)return e.filtered=t,e.refine();c.FilterService.isValidFilter(e.filterConfig)&&(t=_.filter(t,(function(t){return c.FilterService.filterGroupMatch(e.filterConfig,t)}))),e.filtered=t,e.refine()},refine(){var e=this.filtered;if(e&&e.length){var t=e;if(this.debouncedSearch&&this.debouncedSearch.length){var i=String(this.debouncedSearch).toLowerCase().trim(),r=i.split(" ");t=_.filter(t,(function(e){var t=String(e.title).trim().toLowerCase();return!!_.includes(t,i)||(!!_.every(t.split(" "),(function(e){return _.some(r,(function(t){return _.includes(t,e)}))}))||c.FilterService.matchAnyString(i,e))}))}if(this.startDate&&this.endDate){var n=new Date(this.startDate);n.setHours(0,0,0,0);var a=new Date(this.endDate);a.setHours(0,0,0,0),t=_.filter(t,(function(e){var t=new Date(e.startDate);t.setHours(0,0,0,0);var i=new Date(e.endDate);if(i.setHours(0,0,0,0),!(i<n||t>a))return!0}))}this.refined=t}else this.refined=[]},checkboxClick(e,t,i){return this.toggleSelection(e,t,i)},toggleSelection(e,t,i,r){if(!t)return r?void this.$selection.setSelection([e]):void this.$selection.toggle(e);if(t.metaKey)return this.previousSelectionIndex=-1,this.$selection.toggle(e);if(!t.shiftKey)return this.previousSelectionIndex=i,r?(this.$selection.previousIntent="select",this.$selection.setSelection([e])):this.$selection.toggle(e);if(i||(this.previousSelectionIndex=-1),-1!=this.previousSelectionIndex){var n=Math.min(this.previousSelectionIndex,i),a=Math.max(this.previousSelectionIndex,i);i>this.previousSelectionIndex&&(a+=1),this.previousSelectionIndex=i;var o=this.page.slice(n,a);switch(this.$selection.previousIntent){case"deselect":return this.$selection.deselectMultiple(o);default:return this.$selection.selectMultiple(o)}}return this.previousSelectionIndex=i,this.$selection.toggle(e)},isActiveSort(e){return this.sort.sortKey==e},isSortable(e){if(e)return!(!1===e.sortable)},setSort(e){this.sort=e,this.$emit("sort",e)},toggleSort(e){if(this.isSortable(e)&&e.key&&e.key.length){var t=e.key,i=e.sortType||"string",r=this.sort&&this.sort.sortKey==t,n=this.sort.sortDirection,a=r&&"asc"==n?"desc":"asc";this.isAsync,this.setSort({sortKey:t,sortType:i,sortDirection:a}),this.setPage(1)}},classes(e){var t=[];return e?(this.$selection.isSelected(e)&&t.push("selected"),t.push("status-"+e.status),t):t},setPage(e){if(this.currentPage!=e){this.currentPage=e;var t=this.$refs.top;t&&t.scrollIntoView({}),this.$emit("page",e)}else console.log("already at page",e)},firstPage(){this.currentPage=1},lastPage(){this.currentPage=this.totalPages},nextPage(){this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage(){this.page&&this.page.length&&this.$selection.selectMultiple(this.page)},deselectPage(){this.page&&this.page.length&&this.$selection.deselectMultiple(this.page)},selectAll(){this.$selection.selectMultiple(this.refined)},deselectAll(){this.$selection.deselectAll()},toggleSelectAll(){this.page&&this.page.length&&(this.allSelected?this.$selection.deselectMultiple(this.page):this.$selection.selectMultiple(this.page))}},components:{TableHeaderCheckbox:o.a,TableRowCheckbox:s.a,TableCell:l.a}},d=(i(257),i(0)),p=Object(d.a)(u,r,[],!1,null,null,null);p.options.__file="src/components/table/FluroTable.vue";t.a=p.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"content-select-modal"},[e.loading?i("flex-column",[i("v-container",{staticClass:"text-xs-center",attrs:{fluid:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{fluid:"","pa-2":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[e.$vuetify.breakpoint.smAndUp?[i("v-flex",{attrs:{shrink:""}},[i("h5",[i("fluro-icon",{attrs:{left:"",type:e.type}}),e._v(" "+e._s(e.modalTitle))],1)]),e._v(" "),i("v-spacer")]:e._e(),e._v(" "),i("v-flex",[e.showFilters?e._e():[i("div",{staticClass:"search",class:{active:e.searchFocussed||e.search.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{autofocus:e.$vuetify.breakpoint.smAndUp,placeholder:"Search by keyword"},domProps:{value:e.search},on:{focus:function(t){e.searchFocussed=!0},blur:function(t){e.searchFocussed=!1},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),i("div",{staticClass:"search-icon",on:{click:function(t){e.search=""}}},[e.search.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])]],2),e._v(" "),i("v-spacer"),e._v(" "),e.$vuetify.breakpoint.smAndUp?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"my-0",attrs:{icon:"",small:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[i("fluro-icon",{attrs:{icon:"filter"}})],1)],1):e._e(),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"my-0 mr-0",attrs:{color:"primary",small:""},on:{click:function(t){return e.close(e.selector.selection)}}},[e._v("\n                            Done\n                        ")])],1)],2)],1)],1),e._v(" "),i("flex-column",[i("v-layout",{attrs:{"fill-height":""}},[i("flex-column",{staticStyle:{"min-height":"50vh"}},[i("fluro-dynamic-table",{attrs:{queryString:!1,"enable-actions":!1,allDefinitions:e.retrieveAllDefinitions,searchInheritable:e.options.searchInheritable,"filter-config":e.filterConfig,"lock-filter":e.options.lockFilter,"selection-controller":e.selector,clicked:e.rowClicked,search:e.search,"data-type":e.type,columns:e.columns},on:{raw:e.rowsChanged,filtered:e.filteredChanged,page:e.pageChanged,sort:e.sortChanged}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}],staticClass:"filter-sidebar scroll-y"},[i("div",[i("v-container",{attrs:{"pa-2":""}},[i("div",{staticClass:"search",class:{active:e.searchFocussed||e.search.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{placeholder:"Keyword search"},domProps:{value:e.search},on:{focus:function(t){e.searchFocussed=!0},blur:function(t){e.searchFocussed=!1},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),i("div",{staticClass:"search-icon",on:{click:function(t){e.search=""}}},[e.search.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])]),e._v(" "),i("filter-condition-group",{attrs:{rows:e.rows,mini:!0,type:e.type,debounce:e.filterDebounce},model:{value:e.filterConfig,callback:function(t){e.filterConfig=t},expression:"filterConfig"}})],1)])],1)],1)]],2)};r._withStripped=!0;var n=i(5),a=i(12),o=i(13),s=i(14),l=i(162),c=i(27),u=i(21),d=i(16),p=i(23),f=i(24),m=i(39),h=i(40),v=i(31),g=i(4),b=i(7);let y=i.n(b).a.extend({props:{row:{type:Object},column:{type:Object},data:{}},template:'\n    <div >\n        <strong>{{row.title}}</strong>\n        <div>\n            <em class="text-muted small">{{row | readableEventDate}}</em>\n            <div v-if="row.firstLine" ><em class="text-muted small">{{row.firstLine | limit(100)}}</em> </div>\n            <div v-if="row.rooms && row.rooms.length"  class="text-muted small" ><strong>Rooms:</strong> <em>{{row.rooms | comma(\'title\')}}</em></div>\n        </div>\n\n       \n    </div>'});var _={props:{options:{type:Object}},components:{FilterConditionGroup:c.default,FluroTabset:o.a,FluroTab:s.a,FluroDynamicTable:l.a,RealmDotCell:u.a,DateCell:d.a,TitleCell:p.a,StatusCell:f.a,DefinitionCell:m.a,ThumbnailCell:h.a,TypeImageCell:v.a},mixins:[n.a,a.a],data(){var e=["active","draft"],t=this.$fluro.types.parentType(this.options.type)||this.options.type;switch(t){case"plan":e.push("template")}console.log("PLAN STATUSES",t,e);var i=this.options.filter||{operator:"and",filters:[{operator:"and",filters:[{key:"status",comparator:"in",values:e}]}]};return console.log("INITIAL FILTER",this.options.filter,i),{sorted:[],rows:[],search:"",searchFocussed:!1,showFilters:!1,filterConfig:JSON.parse(JSON.stringify(i)),selector:this.options.selector}},methods:{rowClicked(e){this.selectionManager.toggle(e)},isSelected(e){return this.selectionManager.isSelected(e)},toggleRealm(e){return this.selectionManager.toggleRealm(e)},resetFilter(){this.filterConfig={}},filteredChanged(e){this.sorted=e},rowsChanged(e){this.rows=e},pageChanged(e){this.$router.push({query:Object.assign({},this.$route.query,{page:e})})},sortChanged(e){this.$router.replace({query:Object.assign({},this.$route.query,e)})}},computed:{retrieveAllDefinitions(){return this.options.allDefinitions||this.selector.allDefinitions},selectionManager(){return this.selector},filterChangeString(){return g.FilterService.getFilterChangeString(this.filterConfig)},filterDebounce(){return this.$vuetify.breakpoint.smAndDown?1500:700},modalTitle(){var e=this.selectionManager.selection.length;return e?1==e?`1 ${this.title} selected`:`${e} ${this.plural} selected`:this.options.title?this.options.title:1==this.selector.maximum?"Select "+this.title:"Select "+this.plural},type(){return this.options.type||"node"},parentType(){return this.$fluro.types.parentType(this.type)},title(){return this.$fluro.types.readable(this.type,!1)},plural(){return this.$fluro.types.readable(this.type,!0)},selection(){return this.selectionManager.selection},tree(){return this.selectionManager.tree},loading(){return this.selectionManager.loading},ids(){return this.$fluro.utils.arrayIDs(this.options.items)},columns(){var e=[{title:"",shrink:!0,align:"center",key:"realms",renderer:u.a}];switch(this.parentType){case"node":e=e.concat([{title:"",key:"_id",renderer:v.a,shrink:!0},{title:"Title",key:"title",renderer:p.a}]);break;case"image":e=e.concat([{title:"Thumbnail",key:"_id",renderer:h.a},{title:"Title",key:"title",renderer:p.a},{title:"Width",key:"width",sortType:"number"},{title:"Height",key:"height",sortType:"number"}]);break;case"event":e=e.concat([{title:"",key:"_id",renderer:v.a,shrink:!0},{title:"Title",key:"title",renderer:y,additionalFields:["startDate","endDate","firstLine"]}]);break;default:e=e.concat([{title:"Title",key:"title",renderer:p.a}])}return e=e.concat([{title:"Definition",key:"definition",shrink:!0,renderer:m.a},{title:"Status",key:"status",shrink:!0,renderer:f.a},{type:"date",title:"Updated",shrink:!0,key:"updated",renderer:d.a,sortType:"date"},{type:"date",title:"Created",shrink:!0,key:"created",renderer:d.a,sortType:"date"}])}},watch:{type(){this.filterConfig=JSON.parse(JSON.stringify(defaultFilters)),this.$router.replace({query:Object.assign({},this.$route.query,{filter:JSON.stringify(this.filterConfig)})})},filterChangeString(){this.$router.replace({query:Object.assign({},this.$route.query,{filter:JSON.stringify(this.filterConfig)})})}}},x=(i(354),i(0)),k=Object(x.a)(_,r,[],!1,null,null,null);k.options.__file="src/components/form/contentselect/FluroContentSelectModal.vue";t.a=k.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter-group-outer",class:{mini:e.mini,large:!e.mini}},[i("v-container",{ref:"element",class:[{"pa-2":e.mini},e.model.operator]},[e.model.filters.length>1?i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{"d-flex":"","align-center":""}},[e.mini?[i("div",{staticClass:"description"},[e._v("\n                        Match\n                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"operator",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"and"}},[e._v("all")]),e._v(" "),i("option",{attrs:{value:"or"}},[e._v("any")]),e._v(" "),i("option",{attrs:{value:"nor"}},[e._v("none")])]),e._v("\n                        of these rules\n                    ")])]:[i("div",{staticClass:"description"},[e._v("\n                        Show items that match\n                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"operator",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"and"}},[e._v("all")]),e._v(" "),i("option",{attrs:{value:"or"}},[e._v("any")]),e._v(" "),i("option",{attrs:{value:"nor"}},[e._v("none")])]),e._v(" of these conditions\n                    ")])]],2)],1):e._e(),e._v(" "),e._l(e.model.filters,(function(t,r){return i("v-layout",{key:t.guid,attrs:{row:""}},[e.model.filters.length>1?i("div",{staticClass:"operator-column offset ",class:e.model.operator,attrs:{"d-flex":"","align-center":""}},[i("span",{staticClass:"operator",class:[{additional:r},e.model.operator]},[e._v(e._s(e.operatingWord(e.model,r)))])]):e._e(),e._v(" "),i("v-flex",{staticStyle:{overflow:"hidden"}},[i("v-container",{staticClass:"additional filter-group",class:[{"pa-2":e.mini},{"py-2 px-0":!e.mini},t.operator]},[t.filters?[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{"d-flex":"","align-center":""}},[e.mini?[i("div",{staticClass:"description"},[e._v("\n                                        Matches\n                                        "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.operator,expression:"group.operator"}],staticClass:"select-operator",on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"operator",i.target.multiple?r:r[0])}}},[i("option",{attrs:{value:"and"}},[e._v("all")]),e._v(" "),i("option",{attrs:{value:"or"}},[e._v("any")]),e._v(" "),i("option",{attrs:{value:"nor"}},[e._v("none")])]),e._v("\n                                        of these conditions\n                                    ")])]:[i("div",[i("h4",[e._v("Rule "+e._s(r+1))]),e._v(" "),t.filters.length>1?i("div",[e._v("\n                                            Show items that match\n                                            "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.operator,expression:"group.operator"}],on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"operator",i.target.multiple?r:r[0])}}},[i("option",{attrs:{value:"and"}},[e._v("All")]),e._v(" "),i("option",{attrs:{value:"or"}},[e._v("Any")]),e._v(" "),i("option",{attrs:{value:"nor"}},[e._v("None")])]),e._v(" of these conditions\n                                        ")]):e._e()])]],2),e._v(" "),i("v-spacer"),e._v(" "),e.mini?[i("div",{staticClass:"hover",staticStyle:{"white-space":"nowrap"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Duplicate rule",color:"grey"},on:{click:function(t){return e.duplicateEntry(e.model,r)}}},[i("fluro-icon",{attrs:{icon:"copy"}})],1),e._v(" "),i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Remove rule",color:"red"},on:{click:function(t){return e.removeEntry(e.model,r)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)]:[i("div",{staticClass:"hover"},[i("v-btn",{attrs:{small:"",color:"grey",outline:""},on:{click:function(t){return e.duplicateEntry(e.model,r)}}},[i("span",{staticClass:"btn-label"},[e._v("Duplicate")]),e._v(" "),i("fluro-icon",{attrs:{right:"",icon:"copy"}})],1),e._v(" "),i("v-btn",{attrs:{small:"",color:"red",outline:""},on:{click:function(t){return e.removeEntry(e.model,r)}}},[i("span",{staticClass:"btn-label"},[e._v("Remove")]),e._v(" "),i("fluro-icon",{attrs:{right:"",icon:"trash-alt"}})],1)],1)]],2),e._v(" "),e._l(t.filters,(function(r,n){return i("div",{key:r.guid},[i("v-layout",[t.filters.length>1?i("div",{staticClass:"operator-column",class:[t.operator],attrs:{"d-flex":"","align-center":""}},[i("span",{staticClass:"operator",class:[{additional:n},t.operator]},[e._v(e._s(e.operatingWord(t,n)))])]):e._e(),e._v(" "),i("v-flex",{staticStyle:{overflow:"hidden"}},[e.availableKeys.length?[i("filter-condition-row",{attrs:{type:e.type,useSample:e.useSample,rows:e.rows,loadingKeys:e.loadingKeys,definition:e.definition,fields:e.availableKeys,mini:e.mini},model:{value:t.filters[n],callback:function(i){e.$set(t.filters,n,i)},expression:"group.filters[index]"}})]:e._e()],2),e._v(" "),t.filters.length>1?i("div",[e.mini?[i("v-btn",{staticClass:"ma-0",attrs:{small:"",flat:"",color:"error",icon:""},on:{click:function(i){return e.removeEntry(t,n)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)]:[i("v-btn",{attrs:{icon:"",small:"",flat:"",color:"error"},on:{click:function(i){return e.removeEntry(t,n)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)]],2):e._e()],1)],1)}))]:e._e(),e._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{small:""},on:{click:function(i){return e.addCondition(t)}}},[e._v("\n                        Add Condition\n                        "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)],1)})),e._v(" "),e.limit?e._e():i("v-btn",{staticClass:"mx-0",attrs:{color:"white"},on:{click:function(t){return e.addRule(e.model)}}},[e._v("\n            Add "+e._s(e.model.filters.length?"Another":"")+" Rule\n            "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)};r._withStripped=!0;i(7);var n=i(4);var a={props:{useSample:{type:Boolean},type:{type:String},fields:{type:Array,default:()=>[]},mini:{type:Boolean},rows:{type:Array},value:{type:Object,required:!0,default(){return{guid:this.$fluro.utils.guid(),operator:"and",filters:[]}}},debounce:{type:Number,default:500},limit:{type:Boolean}},data(){var e=this,t=JSON.parse(JSON.stringify(this.value));return t.filters||(t.filters=[]),_.each(t.filters,(function(t){t.guid=e.$fluro.utils.guid()})),{model:t,debounced:null,operatorOptions:[{text:"All",value:"and"},{text:"Any",value:"or"},{text:"All",value:"and"}],asyncKeys:[],loadingKeys:!1}},beforeCreate:function(){this.$options.components.FilterConditionRow=i(51).default,this.$options.components.FilterConditionGroup=i(27).default},created(){var e=this;e.debounced=_.debounce((function(){e.$emit("input",e.model)}),e.debounce)},methods:{operatingWord(e,t){if(t)return e.operator;switch(e.operator){case"nor":return"Not";default:return"Where"}},addRule(e){e.filters.push({operator:"and",guid:this.$fluro.utils.guid(),filters:[{comparator:"in"}]})},addCondition(e){e.filters.push({guid:this.$fluro.utils.guid(),comparator:"in"})},duplicateEntry(e,t){var i=JSON.parse(JSON.stringify(e.filters[t]));i.guid=this.$fluro.utils.guid(),e.filters.splice(t,0,i)},removeEntry(e,t){this.$delete(e.filters,t),e.filters.length<2&&(console.log("Set to AND"),this.$set(e,"operator","and"))},retrieveKeys(){var e=this;if(!e.rows||!e.rows.length)return e.asyncKeys=[],void(this.loadingKeys=!1);this.loadingKeys=!0;var t=e.rowChangeString,i=this.$fluro.cache.get("filter-distinct-keys"),r=i[t];if(!r){var n=e.$fluro.utils.arrayIDs(e.rows),a={};e.definition&&e.definition.type&&(a.type=e.definition.type.definitionName),r=i[t]=e.$fluro.content.keys(n,a)}r.then((function(t){console.log("Keys!!",t),e.asyncKeys=t,e.loadingKeys=!1}),(function(r){console.log("Error",r),e.asyncKeys=[],e.loadingKeys=!1,i[t]=null}))}},asyncComputed:{eventRealms:{default:[],get(){var e=this;return e.isContactType?new Promise((function(t,i){return e.$fluro.access.retrieveSelectableRealms("view","event","event",{flat:!0}).then((function(e){var i=_.reduce(e,(function(e,t){return e=e.concat(t.realms)}),[]);t(i)})).catch(i)})):Promise.resolve([])}},eventTracks:{get(){var e=this;return e.isContactType?new Promise((function(t,i){e.$fluro.api.get("/content/eventtrack",{params:{fields:["title","definition","status"],allDefinitions:!0}}).then((function(i){var r=_.chain(i.data).map((function(t){if("active"==t.status)return t.definitionTitle=e.$fluro.types.readable(t.definition),t})).compact().value();t(r)})).catch(i)})):Promise.resolve([])}},groupNames:{get:()=>Promise.resolve([])},interactionTypes:{get(){return this.isContactType?this.$fluro.types.subTypes("interaction"):Promise.resolve([])}},rosterTypes:{get(){return this.isContactType?this.$fluro.types.subTypes("roster"):Promise.resolve([])}},eventTypes:{get(){return this.isContactType?this.$fluro.types.subTypes("event"):Promise.resolve([])}},teamTypes:{get(){return this.isContactType?this.$fluro.types.subTypes("team"):Promise.resolve([])}},processTypes:{get(){return this.$fluro.types.subTypes("process")}},postTypes:{get(){return this.$fluro.types.subTypes("post")}},tagTypes:{get(){return this.$fluro.types.subTypes("tag")}},definition:{get(){var e=this;return e.type&&e.type.length?new Promise((function(t,i){return e.$fluro.types.get(e.type).then((function(e){return t(e)})).catch(i)})):Promise.resolve(null)}}},computed:{definitionFields(){return _.chain(this.definition).get("definition.fields").map((function(e){return Object.assign({},e,{key:"data."+e.key})})).value()},typeFields(){return _.get(this,"definition.type.fields")||[]},detailSheetFields(){return this.definition&&this.definition.details&&this.definition.details.length?_.reduce(this.definition.details,(function(e,t){var i=function e(t,i,r){return _.chain(t).map((function(t,n){var a=[];if(t.fields&&t.fields.length){(t.asObject||"embedded"==t.directive)&&(i.push(t.key),r.push(t.title),t.trail=i.slice(),t.titles=r.slice(),i.pop(),r.pop(),a.push(t),1!=t.maximum?(i.push(t.key+"[]"),r.push(t.title)):(i.push(t.key),r.push(t.title)));var o=e(t.fields,i,r);(t.asObject||"embedded"==t.directive)&&(i.pop(),r.pop()),a.push(o)}else i.push(t.key),r.push(t.title),t.trail=i.slice(),t.titles=r.slice(),i.pop(),r.pop(),a.push(t);return a})).flattenDeep().value()}(t.fields,[],[]),r=_.chain(i).map((function(e){if("group"!=e.type)return{title:t.title+" - "+e.titles.join(" > "),key:`details.${t.definitionName}.items[].data.${e.trail.join(".")}`,minimum:e.minimum,maximum:e.maximum,detail:t.definitionName,type:e.type}})).compact().value();return e.concat(r)}),[]):[]},isContactType(){return"contact"==this.type||(!(!this.definition||"contact"!=this.definition.parentType)||void 0)},availableKeys(){var e=[],t=[];if(t=t.concat(_.map(this.postTypes,(function(e){return{text:e.title,value:e.definitionName}}))),e.push({title:"Posts and Notes > Total linked posts",key:"_posts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where post matches...",subfields:[{title:"Created Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Post Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:t}]}),this.isContactType){var i=[],r=[],a=[],o=[],s=[],l=[];l=l.concat(_.map(this.groupNames,(function(e){return{text:e.title,value:e.title}}))),o=o.concat(_.map(this.interactionTypes,(function(e){return{text:e.title,value:e.definitionName}}))),a=a.concat(_.map(this.rosterTypes,(function(e){return{text:e.title,value:e.definitionName}}))),r=r.concat(_.map(this.eventTracks,(function(e){return{title:e.title,_id:e._id}}))),i=i.concat(_.map(this.eventTypes,(function(e){return{title:e.title,text:e.title,value:e.definitionName}}))),s=s.concat(_.map(this.teamTypes,(function(e){return{title:e.title,text:e.title,value:e.definitionName}}))),e.push({title:"Total number of groups",key:"_teams.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where group matches...",subfields:[{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Tags",key:"tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"},{title:"Definition",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:s}]}),e.push({title:"Total number of tickets",key:"_tickets.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where...",subfields:[{title:"Event",key:"event",maximum:1,minimum:0,type:"reference",typeSelect:"event"},{title:"Event Date",key:"eventDate",maximum:1,minimum:0,type:"date"},{title:"Event Type",key:"eventDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:i},{title:"Event Track",key:"eventTrack",maximum:1,minimum:0,type:"reference",typeSelect:"eventtrack"},{title:"Ticket Title / Type",key:"title",maximum:1,minimum:0,type:"string"},{title:"Collected",key:"collected",maximum:1,minimum:0,type:"boolean"},{title:"Collected By",key:"collectedBy",maximum:1,minimum:0,type:"string"},{title:"Collection Date",key:"collectionDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Tags",key:"tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"},{title:"Definition",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:s}]}),e.push({title:"Attendance > Total times checked in",key:"_checkins.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where event matches...",subfields:[{title:"Date",key:"startDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Event Track",key:"track",maximum:0,minimum:0,type:"reference",directive:"select",options:r},{title:"Event Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:i}]}),e.push({title:"Rostered Assignments > Total times rostered",key:"_assignments.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where assignment matches...",subfields:[{title:"Position",key:"title",maximum:1,minimum:0,type:"string",directive:"select"},{title:"Confirmation Status",key:"confirmationStatus",maximum:1,minimum:0,type:"string",directive:"select",options:[{value:"",name:"None"},{value:"confirmed",name:"Confirmed"},{value:"denied",name:"Declined"},{value:"unknown",name:"Unknown"}]},{title:"Roster Type",key:"rosterDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:a},{title:"Event Type",key:"eventDefinition",maximum:1,minimum:0,type:"string",directive:"select",options:i},{title:"Date",key:"startDate",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Event Track",key:"track",maximum:0,minimum:0,type:"reference",directive:"select",options:r}]}),e.push({title:"Forms > Total submissions",key:"_interactions.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where submission matches...",subfields:[{title:"Submission Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Form",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:o}]}),e.push({title:"Mailouts > Total Emails",key:"_mailouts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"That matches criteria...",subfields:[{title:"Send Date",key:"date",maximum:1,minimum:0,type:"date"},{title:"State",key:"state",maximum:1,minimum:0,type:"string",directive:"select",options:[{text:"Unopened",value:"sent"},{text:"Opened",value:"open"},{text:"Clicked",value:"click"},{text:"Unsubscribed",value:"unsubscribe"},{text:"Bounced / Failed",value:"error"}]},{title:"Mailout Type",key:"mailoutType",maximum:0,minimum:0,type:"string",directive:"select",options:[{text:"Promotional",value:"promotional"},{text:"Transactional",value:"transactional"}]},{title:"Mailout",key:"_id",maximum:0,minimum:0,type:"reference",typeSelect:"mailout"}]}),e.push({title:"Fluro Login > Access Passes",key:"_persona.policies",maximum:1,minimum:0,type:"reference",typeSelect:"policy"}),e.push({title:"Fluro Login > Status",key:"_persona.state",maximum:1,minimum:0,type:"string",directive:"select",options:[{text:"None / No Access",value:"none"},{text:"Awaiting Collection",value:"waiting"},{text:"Connected",value:"connected"}]}),e.push({title:"Posts and Notes > Total linked posts to family members",key:"_familyPosts.all.length",maximum:1,minimum:0,type:"integer",subfieldTitle:"Where post matches...",subfields:[{title:"Created Date",key:"created",maximum:1,minimum:0,type:"date"},{title:"Realms",key:"realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"},{title:"Post Type",key:"definition",maximum:0,minimum:0,type:"string",directive:"select",options:t}]}),e.push({title:"Family Members > Number of Family Members",key:"family.items.length",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Parents > Number of Parents",key:"family._parents.length",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Children > Number of Children",key:"family._children.length",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Parents > Definition",key:"family._parents[]definition",maximum:1,minimum:0,type:"string"}),e.push({title:"Family Children > Definition",key:"family._children[]definition",maximum:1,minimum:0,type:"string"}),e.push({title:"Family Members > Definition",key:"family.items[]definition",maximum:1,minimum:0,type:"string"}),e.push({title:"Family Parents > Of Gender",key:"family._parents[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),e.push({title:"Family Members > Of Gender",key:"family.items[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),e.push({title:"Family Members > Of Household Role",key:"family.items[]householdRole",maximum:1,minimum:0,type:"string"}),e.push({title:"Family Children > Of Gender",key:"family._children[]gender",maximum:1,minimum:0,type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Unknown",value:"unknown"}]}),e.push({title:"Family Children > Of Age",key:"family._children[]age",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Parents > Of Age",key:"family._parents[]age",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Members > Of Age",key:"family.items[]age",maximum:1,minimum:0,type:"integer"}),e.push({title:"Family Children > Realms",key:"family._children[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),e.push({title:"Family Members > Realms",key:"family.items[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),e.push({title:"Family Parents > Realms",key:"family._parents[]realms",maximum:0,minimum:0,type:"reference",directive:"select",_discriminatorDefinition:"realm"}),e.push({title:"Assigned position in any active Group/Team",key:"_positions.active",maximum:0,minimum:0,type:"string",directive:"select"}),_.each(this.teamTypes,(function(t){e.push({title:"Family Members > "+t.plural,key:"family.items[]realms|"+t.definitionName,maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:t.definitionName,_discriminatorType:"team"}),e.push({title:"Family Children > "+t.plural,key:"family._children[]realms|"+t.definitionName,maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:t.definitionName,_discriminatorType:"team"}),e.push({title:"Family Parents > "+t.plural,key:"family._parents[]realms|"+t.definitionName,maximum:0,minimum:0,type:"reference",directive:"select",_discriminator:t.definitionName,_discriminatorType:"team"}),e.push({title:"Assigned position in "+t.plural,key:"_positions."+t.definitionName,maximum:0,minimum:0,type:"string",directive:"select"})})),e.push({title:"Family Children > Tags",key:"family._children[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),e.push({title:"Family Members > Tags",key:"family.items[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),e.push({title:"Family Parents > Tags",key:"family._parents[]tags",maximum:0,minimum:0,type:"reference",typeSelect:"tag"}),_.each(this.tagTypes,(function(t){e.push({title:`Family Children > ${t.plural} (Tag)`,key:"family._children[]tags|"+t.definitionName,maximum:0,minimum:0,type:"reference",typeSelect:t.definitionName}),e.push({title:`Family Members > ${t.plural} (Tag)`,key:"family.items[]tags|"+t.definitionName,maximum:0,minimum:0,type:"reference",typeSelect:t.definitionName}),e.push({title:`Family Parents > ${t.plural} (Tag)`,key:"family._parents[]tags|"+t.definitionName,maximum:0,minimum:0,type:"reference",typeSelect:t.definitionName})})),e.push({title:"Family Children > Academic Calendar",key:"family._children[]academicCalendar",maximum:0,minimum:0,type:"reference",directive:"select"}),e.push({title:"Family Children > Academic Grade",key:"family._children[]academicGrade",maximum:0,minimum:0,type:"string",directive:"select"}),_.each(this.processTypes,(function(t){e.push({title:`Process > ${t.plural} > In Process`,key:`_processes.${t.definitionName}.in`,maximum:0,minimum:0,type:"boolean"}),e.push({title:`Process > ${t.plural} > Due Date`,key:`_processes.${t.definitionName}.dueDate`,maximum:0,minimum:0,type:"date"}),e.push({title:`Process > ${t.plural} > Entered Process`,key:`_processes.${t.definitionName}.created`,maximum:0,minimum:0,type:"date"}),e.push({title:`Process > ${t.plural} > Last Update`,key:`_processes.${t.definitionName}.updated`,maximum:0,minimum:0,type:"date"}),e.push({title:`Process > ${t.plural} > Current State`,key:`_processes.${t.definitionName}.state`,maximum:0,minimum:0,type:"string"}),e.push({title:`Process > ${t.plural} > Status`,key:`_processes.${t.definitionName}.processStatus`,maximum:0,minimum:0,type:"string"})}))}else switch(this.type){case"family":e.push({title:"Total Number of Family Members",key:"memberCount.total",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Parents / Guardians",key:"memberCount.parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Children",key:"memberCount.child",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Active Parents / Guardians",key:"memberCount.active_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Active Children",key:"memberCount.active_child",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Archived Parents / Guardians",key:"memberCount.archived_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Total Number of Archived Children",key:"memberCount.archived_child",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Active Family Members",key:"memberCount.active",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Archived Family Members",key:"memberCount.archived",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Male Family Members",key:"memberCount.gender_male",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Female Family Members",key:"memberCount.gender_female",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Unknown Gender Family Members",key:"memberCount.gender_unknown",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Female Parents / Guardians",key:"memberCount.gender_female_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Male Parents / Guardians",key:"memberCount.gender_male_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Unknown Gender Parents / Guardians",key:"memberCount.gender_unknown_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Active Female Parents / Guardians",key:"memberCount.gender_female_active_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Active Male Parents / Guardians",key:"memberCount.gender_male_active_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Active Unknown Gender Parents / Guardians",key:"memberCount.gender_unknown_active_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Archived Female Parents / Guardians",key:"memberCount.gender_female_archived_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Archived Male Parents / Guardians",key:"memberCount.gender_male_archived_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Archived Unknown Parents / Guardians",key:"memberCount.gender_unknown_archived_parental",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Female Children",key:"memberCount.gender_female_child",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Male Children",key:"memberCount.gender_male_child",maximum:1,minimum:0,type:"integer"}),e.push({title:"Number of Unknown Gender Children",key:"memberCount.gender_unknown_child",maximum:1,minimum:0,type:"integer"});break;case"photo":e.push({title:"EXIF > Copyright",key:"data.exif.tags.Copyright",maximum:0,minimum:0,type:"string"}),e.push({title:"EXIF > Camera Make",key:"data.exif.tags.Make",maximum:0,minimum:0,type:"string"}),e.push({title:"EXIF > Camera Model",key:"data.exif.tags.Model",maximum:0,minimum:0,type:"string"})}e=e.concat(this.asyncKeys);var c=n.FilterService.allKeys(e,this.definition);return _.orderBy(c,"title")}},watch:{value(e){this.model=JSON.parse(JSON.stringify(e))},model:{handler:function(){this.debounced()},deep:!0}}},o=(i(352),i(0)),s=Object(o.a)(a,r,[],!1,null,"3dbdcd7b",null);s.options.__file="src/components/form/filters/FilterConditionGroup.vue";t.default=s.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"outer",staticClass:"fluro-code-editor"},[i("code-editor",{attrs:{lang:e.syntax,theme:"tomorrow_night_eighties",height:100},on:{init:e.editorInit},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)};r._withStripped=!0;var n=i(200),a=i.n(n),o=i(43),s=i.n(o),l={props:{autoformat:{type:Boolean,default:!0},value:{type:String,default:""},lang:{type:String,default:"html"},height:{default:300,type:Number},readonly:{type:Boolean}},data(){return{editor:null,model:this.value}},computed:{syntax(){switch(this.lang){case"css":case"sass":case"scss":return"scss";case"js":return"javascript";case"html":return"html";default:return""+this.lang}}},methods:{beautify(){if(this.autoformat){var e=this.editor.session.getValue()||"",t=e.split(/\n/);switch(t[0]=t[0].trim(),e=t.join("\n"),this.syntax){case"html":e=s.a.html(e);break;case"json":case"javascript":e=s()(e);break;case"scss":e=s.a.css(e)}this.editor.session.setValue(e)}},editorInit:function(e){i(370),i(371),i(372),i(186),i(373),i(374),i(375),i(376),this.editor=e;var t=this.$refs.outer,r=e.getSession().getDocument();e.on("change",(function(){var i=e.renderer.lineHeight;t.style.height=i*r.getLength()+"px",e.resize()})),this.readonly?(e.setReadOnly(!0),e.renderer.setShowGutter(!1)):e.on("blur",this.beautify)}},beforeDestroy(){this.editor.off("blur",self.beautify)},mounted(){this.beautify()},components:{CodeEditor:a.a},watch:{value(e){e!==this.model&&this.editor.session.setValue(e)},model(e){e!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},c=(i(377),i(0)),u=Object(c.a)(l,r,[],!1,null,"77fb60eb",null);u.options.__file="src/components/form/FluroCodeEditor.vue";t.default=u.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{class:{wrap:e.shouldWrap,"text-xs-center":"center"==e.column.align,"text-xs-right":"right"==e.column.align}},[i("div",{class:{"wrap-limit":e.shouldWrap}},[e.renderer?i(e.renderer,{tag:"component",attrs:{data:e.preValue,row:e.row,column:e.column}}):e.simpleArray?[e._l(e.formattedArray,(function(t){return[e.renderer?i(e.renderer,{tag:"component",attrs:{data:t,row:e.row,column:e.column}}):i("div",[i("span",{staticClass:"inline-tag"},[e._v("\n                     "+e._s(e._f("simple")(t))+"\n                 ")])])]}))]:e.formattedArray?i("div",{staticStyle:{"max-width":"600px","white-space":"normal"}},[e._l(e.formattedArray,(function(t){return[t._id?i("a",{staticClass:"inline-tag",style:{color:t.color,backgroundColor:t.bgColor},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.clicked(t)}}},["event"==t._type?[i("fluro-icon",{attrs:{type:"event"}}),e._v(" "+e._s(t.title)+" "),i("span",{staticClass:"text-muted"},[e._v("// "+e._s(e._f("readableEventDate")(t)))])]:e._e(),e._v(" "),"post"==t._type?[i("fluro-icon",{attrs:{type:"post"}}),e._v(" "+e._s(t.title)+" "),i("span",{staticClass:"text-muted"},[e._v("// "+e._s(t.managedAuthor?t.managedAuthor.title:"")+" "+e._s(e._f("timeago")(t.created)))])]:"ticket"==t._type?[i("fluro-icon",{attrs:{type:"ticket"}}),e._v(" "+e._s(t.title)+" - "+e._s(t.event.title)),i("span",{staticClass:"text-muted"},[e._v("// "+e._s(e._f("readableEventDate")(t.event)))])]:"team"==t._type&&t.position?[e._v("\n                     "+e._s(t.position)+"\n                     ")]:[t._type?i("fluro-icon",{attrs:{type:t._type}}):e._e(),e._v(" "+e._s(t.title)+" "),t.appendage?[e._v(" - "+e._s(t.appendage))]:e._e()]],2):e.renderer?[i(e.renderer,{tag:"component",attrs:{data:t,row:e.row,column:e.column}})]:[e._v(e._s(t))]]}))],2):e.complexObject?i("div",["event"==e.preValue._type?[i("a",{staticClass:"inline-tag",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clicked(e.preValue)}}},[i("fluro-icon",{attrs:{type:"event"}}),e._v(" "+e._s(e.preValue.title)+" "),i("span",{staticClass:"text-muted"},[e._v("// "+e._s(e._f("readableEventDate")(e.preValue)))])],1)]:"team"==e.preValue._type&&e.preValue.position?[e._v("\n             "+e._s(e.preValue.position)+"\n         ")]:[i("a",{staticClass:"inline-tag",style:{color:e.preValue.color,backgroundColor:e.preValue.bgColor},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clicked(e.preValue)}}},[e.preValue._type?i("fluro-icon",{attrs:{type:e.preValue._type}}):e._e(),e._v(" "+e._s(e.complexTitle)+" "),e.complexAppendage?[e._v(" - "+e._s(e.complexAppendage))]:e._e()],2)]],2):e.renderer?i(e.renderer,{tag:"component",attrs:{data:e.rawValue,row:e.row,column:e.column}}):e._t("default",[e._v("\n         "+e._s(e.value)+"\n     ")],{value:e.value,row:e.row,column:e.column})],2)])};r._withStripped=!0;var n=i(160),a=i(161),o=i(16),s=i(21),l=i(30),c={props:{column:{type:Object},row:{type:Object}},methods:{clicked(e){e._id&&(console.log("Sub item click",e),this.$actions.open([e]))}},computed:{characterCount(){return String(this.rawValue).length},shouldWrap(){return this.column.wrap||_.isString(this.rawValue)&&this.characterCount>100},complexTitle(){return this.preValue.title},complexAppendage(){return this.subField?_.get(this.preValue,this.subField):null},renderer(){var e=this.column.renderer;switch(this.column.renderer){case"date":case"datetime":return this.column.type="date",o.a;case"timeago":return this.column.type="date",l.a;case"capitalize":e=null;break;case"realmDots":e=s.a}if(e)return e;switch(this.column.type){case"date":return o.a;case"number":case"integer":case"decimal":case"float":if(!this.subField)return n.a;break;case"boolean":return a.a;default:return}},preArray(){return _.isArray(this.preValue)&&this.preValue.length},formattedArray(){var e=this;if(e.preArray){var t=e.subField;return t?("."==t[0]&&(t=t.slice(1)),_.chain(e.preValue).map((function(i){if(i){if(!_.isObject(i))return i;var r=i.title||i.name,n=e.subField?_.get(i,t):null;if(i._id){if(t.indexOf(".")){if(!r&&!n)return;if(!r&&n&&t.indexOf("."))return n}return{title:r,appendage:n,_type:i._type,_id:i._id,color:i.color,bgColor:i.bgColor,startDate:i.startDate,endDate:i.endDate,created:i.created}}return i}})).compact().value()):e.preValue}},simpleArray(){return _.some(this.formattedArray,(function(e){return!(e._id||e.title||e.name||e.id)}))},complexObject(){return _.isObject(this.preValue)},value(){var e=this,t=e.preValue;if(t)return t.join?e.subField?_.map(t,(function(t){return t[e.subField]})).join(", "):_.map(t,(function(e){return e.title||e.name||e})).join(", "):"date"==e.column.sortType||"date"==e.column.type?e.column.format?e.$fluro.date.formatDate(t,e.column.format):e.$fluro.date.formatDate(t,"D MMM YYYY"):t.title||t.name||t},key(){return(this.column.key||"").split("|")[0]},subField(){var e=(this.column.key||"").split("[]");if(e.length>1)return e.shift(),e.join("")},rawValue(){var e=this.key.split("[]");e.length;if(e.length<2)return _.get(this.row,this.key);if(2==e.length){var t=_.get(this.row,e[0]),i=this.subField;return i&&("."==i[0]&&(i=i.slice(1)),t=_.isArray(t)?_.map(t,i):_.get(t,i)),t}var r=[],n=e.shift();return function e(t,i){_.each(t,(function(t){var n=i.slice(),a=n.shift();a&&"."==a[0]&&(a=a.slice(1));var o=_.get(t,a);o&&(n.length?e(o,n):r.push(o))}))}(_.get(this.row,n),e),_.chain(r).reduce((function(e,t){var i=t;return t._id&&(i=t._id),t.id&&(i=t.id),t.title&&(i=t.title),t.name&&(i=t.name),e[i]=i,e}),{}).values().compact().value()},preValue(){var e=this.rawValue,t=(this.column.key||"").split("|")[1];if(_.isArray(e)){var i=_.chain(e).filter((function(e){if(e)return!t||(e.definition==t||e._discriminator==t||e._discriminatorType==t)})).map((function(e){return e.title||e.name?(e.title=e.title||e.name,e):e})).compact().uniqBy((function(e){return e._id||e})).orderBy((function(e){return e.startDate?new Date(e.startDate):e.created?new Date(e.created):e.title||e.name||""})).reverse().value();if(!i.length)return;var r=Math.min(100,i.length);return i.slice(0,r)}return e}},filters:{simple:e=>_.isArray(e)?e.join(", "):e}},u=(i(255),i(0)),d=Object(u.a)(c,r,[],!1,null,"5349a862",null);d.options.__file="src/components/table/TableCell.vue";t.a=d.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"sm muted"},[this._v("\n    "+this._s(this._f("timeago")(this.data))+"\n")])};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/TimeagoCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-cell"},["image"==e.row._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.$fluro.asset.imageUrl(e.row._id,50)+")"}})]:"event"==e.row._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.$fluro.asset.coverUrl(e.row._id,"event",{w:50})+")"}})]:"contact"==e.row._type?[i("fluro-avatar",{attrs:{md:"",id:e.row._id,type:e.row._type}})]:[i("div",{staticClass:"icon-avatar"},[i("fluro-icon",{attrs:{type:e.row._type}})],1)]],2)};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}}},a=(i(267),i(0)),o=Object(a.a)(n,r,[],!1,null,"b9ba1978",null);o.options.__file="src/components/table/cells/TypeImageCell.vue";t.a=o.exports},function(e,t,i){const r=i(299),n={"||":function(e,t){return e||t},"&&":function(e,t){return e&&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"&":function(e,t){return e&t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t}},a={"-":function(e){return-e},"+":function(e){return+e},"~":function(e){return~e},"!":function(e){return!e}};function o(e,t){return e.map((function(e){return u(e,t)}))}async function s(e,t){return await Promise.all(e.map(e=>d(e,t)))}function l(e,t){const i=u(e.object,t);return e.computed?[i,i[u(e.property,t)]]:[i,i[e.property.name]]}async function c(e,t){const i=await d(e.object,t);return e.computed?[i,i[await d(e.property,t)]]:[i,i[e.property.name]]}function u(e,t){switch(e.type){case"ArrayExpression":return o(e.elements,t);case"BinaryExpression":return n[e.operator](u(e.left,t),u(e.right,t));case"CallExpression":let i,r,s;if("MemberExpression"===e.callee.type?(s=l(e.callee,t),i=s[0],r=s[1]):r=u(e.callee,t),"function"!=typeof r)return;return r.apply(i,o(e.arguments,t));case"ConditionalExpression":return u(e.test,t)?u(e.consequent,t):u(e.alternate,t);case"Identifier":return t[e.name];case"Literal":return e.value;case"LogicalExpression":return"||"===e.operator?u(e.left,t)||u(e.right,t):"&&"===e.operator?u(e.left,t)&&u(e.right,t):n[e.operator](u(e.left,t),u(e.right,t));case"MemberExpression":return l(e,t)[1];case"ThisExpression":return t;case"UnaryExpression":return a[e.operator](u(e.argument,t));default:return}}async function d(e,t){switch(e.type){case"ArrayExpression":return await s(e.elements,t);case"BinaryExpression":{const[i,r]=await Promise.all([d(e.left,t),d(e.right,t)]);return n[e.operator](i,r)}case"CallExpression":let i,r,o;if("MemberExpression"===e.callee.type?(o=await c(e.callee,t),i=o[0],r=o[1]):r=await d(e.callee,t),"function"!=typeof r)return;return await r.apply(i,await s(e.arguments,t));case"ConditionalExpression":return await d(e.test,t)?await d(e.consequent,t):await d(e.alternate,t);case"Identifier":return t[e.name];case"Literal":return e.value;case"LogicalExpression":{if("||"===e.operator)return await d(e.left,t)||await d(e.right,t);if("&&"===e.operator)return await d(e.left,t)&&await d(e.right,t);const[i,r]=await Promise.all([d(e.left,t),d(e.right,t)]);return n[e.operator](i,r)}case"MemberExpression":return(await c(e,t))[1];case"ThisExpression":return t;case"UnaryExpression":return a[e.operator](await d(e.argument,t));default:return}}e.exports={parse:r,eval:u,evalAsync:d,compile:function(e){return u.bind(null,r(e))},compileAsync:function(e){return d.bind(null,r(e))}}},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-content-render-field"},["embedded"==e.renderer&&e.raw?[e.multiple?e._e():[i("fluro-panel",[i("fluro-panel-title",{staticClass:"border-bottom"},[e._v("\n                    "+e._s(e.field.title)+"\n                ")]),e._v(" "),i("fluro-panel-body",[i("fluro-content-render",{attrs:{raw:e.raw,fields:e.fields},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)],1)],e._v(" "),e.multiple?[e._l(e.fieldModel,(function(t,r){return[i("fluro-panel",[i("fluro-panel-title",{staticClass:"border-bottom"},[i("h5",{attrs:{title:""}},[e._v(e._s(e.groupTitle(t,r)))])]),e._v(" "),i("fluro-panel-body",[i("fluro-content-render",{attrs:{raw:e.raw,fields:e.fields},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})],1)],1)]}))]:e._e()]:"group"==e.renderer?[e.asObject?[e.multiple?e._e():[i("fluro-content-render",{attrs:{raw:e.raw,fields:e.fields},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],e._v(" "),e.multiple?[e._l(e.fieldModel,(function(t,r){return[i("v-card",{staticClass:"panel"},[i("div",{staticClass:"panel-title"},[i("h5",{attrs:{title:""}},[e._v(e._s(e.groupTitle(t,r)))])]),e._v(" "),i("v-card-text",{staticClass:"panel-body"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("fluro-content-render",{attrs:{raw:e.raw,fields:e.fields},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[index]"}})],1)],1)],1)]}))]:e._e()]:[e.sameLine?[i("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.fields,(function(t){return[i("fluro-content-render-field",{staticClass:"flex",attrs:{raw:e.raw,field:t},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))],2)]:[i("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.fields,(function(t){return[i("fluro-content-render-field",{attrs:{raw:e.raw,field:t},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))],2)]]]:[e.isEmpty?void 0:"reference"==e.type?[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),e.multiple?e._e():[i("list-group",[i("list-group-item",{attrs:{item:e.fieldModel},on:{click:function(t){return e.$fluro.global.view(e.fieldModel,!0)}},scopedSlots:e._u([{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$actions.open([e.fieldModel])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}],null,!1,100277901)})],1)],e._v(" "),e.multiple?[i("list-group",e._l(e.fieldModel,(function(t,r){return i("list-group-item",{attrs:{item:t},on:{click:function(i){return e.$fluro.global.view(t,!0)}},scopedSlots:e._u([{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}],null,!0)})})),1)]:e._e()],2)]:"wysiwyg"==e.renderer?[e.multiple?[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),e._l(e.fieldModel,(function(t,r){return i("div",{domProps:{innerHTML:e._s(e.fieldModel[r])}})}))],2)]:e._e(),e._v(" "),e.multiple?e._e():[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.fieldModel)}})])]]:"code"==e.renderer?[e.multiple?[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),e._l(e.fieldModel,(function(t,r){return[i("fluro-code-editor",{attrs:{lang:e.syntax,readonly:!0,height:200},model:{value:e.fieldModel[r],callback:function(t){e.$set(e.fieldModel,r,t)},expression:"fieldModel[key]"}})]}))],2)]:e._e(),e._v(" "),e.multiple?e._e():[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),i("fluro-code-editor",{attrs:{lang:e.syntax,readonly:!0,height:200},model:{value:e.fieldModel,callback:function(t){e.fieldModel=t},expression:"fieldModel"}})],1)]]:["date"==e.type?[e.multiple?[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),e._l(e.fieldModel,(function(t,r){return i("div",[e._v("\n                            "+e._s(e._f("formatDate")(t,"h:mma dddd D MMM YYYY"))+"\n                        ")])}))],2)]:[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),i("div",[e._v("\n                            "+e._s(e._f("formatDate")(e.fieldModel,"h:mma dddd D MMM YYYY"))+"\n                        ")])])]]:[e.multiple?[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),e._l(e.fieldModel,(function(t,r){return i("div",[e._v("\n                            "+e._s(t)+"\n                        ")])}))],2)]:[i("div",{staticClass:"field-group"},[i("label",[e._v(e._s(e.label))]),e._v(" "),i("div",[e._v("\n                            "+e._s(e.fieldModel)+"\n                        ")])])]]]]],2)};r._withStripped=!0;var n=i(1),a=i.n(n),o=i(28),s=i(46),l=i(47),c={components:{FluroCodeEditor:o.default,ListGroup:s.a,ListGroupItem:l.a},data(){return{model:this.value}},watch:{value(e){this.model=e}},computed:{className(){function e(e,t,i){return e.split(t).join(i)}return this.field.className&&this.field.className.length?a.a.chain(this.field.className).split(" ").compact().map((function(t){return e(e(t,"col",""),"-","").toLowerCase()})).value():"xs12"},sameLine(){return this.field.sameLine||"row"==this.field.className},isEmpty(){return this.multiple?!this.fieldModel||!this.fieldModel.length:!this.fieldModel},fieldModel:{get(){var e=this.model[this.key],t=String(e).toLowerCase().trim();if(!(null==e||e==[]||""==t)){switch(1==this.maximum&&a.a.isArray(e)&&1==e.length&&(e=e[0]),0==this.maximum&&a.a.isString(e)&&(e=[e]),this.type){case"number":return Number(e);case"integer":return parseInt(e);case"decimal":return Number(parseFloat(e).toFixed(2));case"float":return parseFloat(e);case"boolean":switch(t){case"true":case"y":case"yes":case"1":return!0;case"false":case"n":case"no":case"0":return!1;default:return!0}}return e}},set(){}},key(){return this.field.key},label(){return this.field.title},asObject(){return this.field.asObject},fields(){return this.field.fields},type(){return this.field.type},multiple(){return 0===this.maximum||this.maximum>1},minimum(){return Math.max(parseInt(this.field.minimum),0)},maximum(){return parseInt(this.field.maximum)},total(){return a.a.get(this.fieldModel,"length")},renderer(){var e=this.type,t=this.field.directive;switch(t){case"date-select":t="datepicker";break;case"time-select":t="timepicker";break;case"datetime-select":t="datetimepicker";break;case"textarea":t="textarea";break;default:switch(e){case"group":t="group";break;case"boolean":t="checkbox";break;case"number":case"integer":case"decimal":t="number"}}return t},syntax(){return a.a.get(this,"field.params.syntax")}},methods:{defaultActions(e){if(e)return!0},groupTitle(e,t){if(e){if(e.title&&e.title.length)return e.title;if(e.name&&e.name.length)return e.name}return`${this.label} ${t+1}`}},created(){},props:{raw:{type:Boolean},field:{type:Object},value:{required:!0}},beforeCreate:function(){this.$options.components.FluroContentRender=i(167).default,this.$options.components.FluroContentRenderField=i(33).default}},u=(i(383),i(0)),d=Object(u.a)(c,r,[],!1,null,null,null);d.options.__file="src/components/FluroContentRenderField.vue";t.default=d.exports},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"add-post-modal",attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e.loading?i("fluro-page-preloader",{attrs:{contain:""}}):i("flex-column",[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"post"},scopedSlots:e._u([{key:"left",fn:function(){return[i("h3",[e._v("New "+e._s(e.definition.title)+" "),i("span",{staticClass:"muted"},[e._v("// "+e._s(e.summary))])])]},proxy:!0}])})],1),e._v(" "),i("flex-column-body",[i("v-container",[i("fluro-content-form",{ref:"form",attrs:{fields:e.definition.fields},on:{errorMessages:e.validate},model:{value:e.dataModel.data,callback:function(t){e.$set(e.dataModel,"data",t)},expression:"dataModel.data"}}),e._v(" "),i("fluro-realm-select",{attrs:{type:"event",definition:e.dataModel.definition},model:{value:e.dataModel.realms,callback:function(t){e.$set(e.dataModel,"realms",t)},expression:"dataModel.realms"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2"},[i("div",{staticClass:"actions"},["error"==e.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                            "+e._s(e.serverErrors)+"\n                        ")])]:[e.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                            Please check the following issues before submitting\n                            "),e._l(e.errorMessages,(function(t){return i("div",[i("strong",[e._v(e._s(t.title))]),e._v(": "+e._s(t.messages[0])+"\n                            ")])}))],2):e._e()]],2),e._v(" "),i("v-layout",[e.options.skip?[i("v-btn",{on:{click:function(t){return e.dismiss()}}},[e._v("\n                            Skip\n                        ")])]:[i("v-btn",{on:{click:function(t){return e.dismiss()}}},[e._v("\n                            Cancel\n                        ")])],e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{loading:"processing"==e.state,disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v("\n                        Submit\n                    ")])],2)],1)],1)],1)],1)};function n(e){return function(...t){var i=t.pop();return e.call(this,t,i)}}r._withStripped=!0;var a="function"==typeof setImmediate&&setImmediate,o="object"==typeof process&&"function"==typeof process.nextTick;function s(e){setTimeout(e,0)}function l(e){return(t,...i)=>e(()=>t(...i))}var c=l(a?setImmediate:o?process.nextTick:s);function u(e){return f(e)?function(...t){const i=t.pop();return d(e.apply(this,t),i)}:n((function(t,i){var r;try{r=e.apply(this,t)}catch(e){return i(e)}if(r&&"function"==typeof r.then)return d(r,i);i(null,r)}))}function d(e,t){return e.then(e=>{p(t,null,e)},e=>{p(t,e&&e.message?e:new Error(e))})}function p(e,t,i){try{e(t,i)}catch(e){c(e=>{throw e},e)}}function f(e){return"AsyncFunction"===e[Symbol.toStringTag]}function m(e){if("function"!=typeof e)throw new Error("expected a function");return f(e)?u(e):e}function h(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...i){return"function"==typeof i[t-1]?e.apply(this,i):new Promise((r,n)=>{i[t-1]=(e,...t)=>{if(e)return n(e);r(t.length>1?t:t[0])},e.apply(this,i)})}}function v(e){return function(t,...i){return h((function(r){var n=this;return e(t,(e,t)=>{m(e).apply(n,i.concat(t))},r)}))}}function g(e,t,i,r){t=t||[];var n=[],a=0,o=m(i);return e(t,(e,t,i)=>{var r=a++;o(e,(e,t)=>{n[r]=t,i(e)})},e=>{r(e,n)})}function b(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const y={};function x(e){function t(...t){if(null!==e){var i=e;e=null,i.apply(this,t)}}return Object.assign(t,e),t}function k(e){if(b(e))return function(e){var t=-1,i=e.length;return function(){return++t<i?{value:e[t],key:t}:null}}(e);var t,i,r,n,a=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return a?function(e){var t=-1;return function(){var i=e.next();return i.done?null:(t++,{value:i.value,key:t})}}(a):(i=(t=e)?Object.keys(t):[],r=-1,n=i.length,function(){var e=i[++r];return r<n?{value:t[e],key:e}:null})}function w(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var i=e;e=null,i.apply(this,t)}}function C(e,t,i,r){let n=!1,a=!1,o=!1,s=0,l=0;function c(){s>=t||o||n||(o=!0,e.next().then(({value:e,done:t})=>{if(!a&&!n){if(o=!1,t)return n=!0,void(s<=0&&r(null));s++,i(e,l,u),l++,c()}}).catch(d))}function u(e,t){if(s-=1,!a)return e?d(e):!1===e?(n=!0,void(a=!0)):t===y||n&&s<=0?(n=!0,r(null)):void c()}function d(e){a||(o=!1,n=!0,r(e))}c()}var S=e=>(t,i,r)=>{if(r=x(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if("AsyncGenerator"===t[Symbol.toStringTag])return C(t,e,i,r);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return C(t[Symbol.asyncIterator](),e,i,r);var n=k(t),a=!1,o=!1,s=0,l=!1;function c(e,t){if(!o)if(s-=1,e)a=!0,r(e);else if(!1===e)a=!0,o=!0;else{if(t===y||a&&s<=0)return a=!0,r(null);l||u()}}function u(){for(l=!0;s<e&&!a;){var t=n();if(null===t)return a=!0,void(s<=0&&r(null));s+=1,i(t.value,t.key,w(c))}l=!1}u()};var $=h((function(e,t,i,r){return S(t)(e,m(i),r)}),4);function D(e,t,i){i=x(i);var r=0,n=0,{length:a}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?i(e):++n!==a&&t!==y||i(null))}for(0===a&&i(null);r<a;r++)t(e[r],r,w(s))}function M(e,t,i){return $(e,1/0,t,i)}var P=h((function(e,t,i){return(b(e)?D:M)(e,m(t),i)}),3);var O=h((function(e,t,i){return g(P,e,t,i)}),3),F=v(O);var T=h((function(e,t,i){return $(e,1,t,i)}),3);var E=h((function(e,t,i){return g(T,e,t,i)}),3),j=v(E);const N=Symbol("promiseCallback");function A(){let e,t;function i(i,...r){if(i)return t(i);e(r.length>1?r:r[0])}return i[N]=new Promise((i,r)=>{e=i,t=r}),i}function I(e,t,i){"number"!=typeof t&&(i=t,t=null),i=x(i||A());var r=Object.keys(e).length;if(!r)return i(null);t||(t=r);var n={},a=0,o=!1,s=!1,l=Object.create(null),c=[],u=[],d={};function p(e,t){c.push(()=>function(e,t){if(s)return;var r=w((t,...r)=>{if(a--,!1!==t)if(r.length<2&&([r]=r),t){var c={};if(Object.keys(n).forEach(e=>{c[e]=n[e]}),c[e]=r,s=!0,l=Object.create(null),o)return;i(t,c)}else n[e]=r,(l[e]||[]).forEach(e=>e()),f();else o=!0});a++;var c=m(t[t.length-1]);t.length>1?c(n,r):c(r)}(e,t))}function f(){if(!o){if(0===c.length&&0===a)return i(null,n);for(;c.length&&a<t;){c.shift()()}}}function h(t){var i=[];return Object.keys(e).forEach(r=>{const n=e[r];Array.isArray(n)&&n.indexOf(t)>=0&&i.push(r)}),i}return Object.keys(e).forEach(t=>{var i=e[t];if(!Array.isArray(i))return p(t,[i]),void u.push(t);var r=i.slice(0,i.length-1),n=r.length;if(0===n)return p(t,i),void u.push(t);d[t]=n,r.forEach(a=>{if(!e[a])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+a+"` in "+r.join(", "));!function(e,t){var i=l[e];i||(i=l[e]=[]);i.push(t)}(a,()=>{0===--n&&p(t,i)})})}),function(){var e,t=0;for(;u.length;)e=u.pop(),t++,h(e).forEach(e=>{0==--d[e]&&u.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f(),i[N]}var L=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,R=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,V=/,/,B=/(=.+)?(\s*)$/,q=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;class z{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):U(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):U(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:i}=t;e(t)&&this.removeLink(t),t=i}return this}}function U(e,t){e.length=1,e.head=e.tail=t}function Y(e,t,i){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var r=m(e),n=0,a=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(o[e]=o[e].filter(e=>e!==t)):o[e]=[]:Object.keys(o).forEach(e=>o[e]=[])}function l(e,...t){o[e].forEach(e=>e(...t))}var u=!1;function d(e,t,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var n,a;function o(e,...t){return e?i?a(e):n():t.length<=1?n(t[0]):void n(t)}g.started=!0;var s={data:e,callback:i?o:r||o};if(t?g._tasks.unshift(s):g._tasks.push(s),u||(u=!0,c(()=>{u=!1,g.process()})),i||!r)return new Promise((e,t)=>{n=e,a=t})}function p(e){return function(t,...i){n-=1;for(var r=0,o=e.length;r<o;r++){var s=e[r],c=a.indexOf(s);0===c?a.shift():c>0&&a.splice(c,1),s.callback(t,...i),null!=t&&l("error",t,s.data)}n<=g.concurrency-g.buffer&&l("unsaturated"),g.idle()&&l("drain"),g.process()}}function f(e){return!(0!==e.length||!g.idle())&&(c(()=>l("drain")),!0)}const h=e=>t=>{if(!t)return new Promise((t,i)=>{!function(e,t){const i=(...r)=>{s(e,i),t(...r)};o[e].push(i)}(e,(e,r)=>{if(e)return i(e);t(r)})});s(e),function(e,t){o[e].push(t)}(e,t)};var v=!1,g={_tasks:new z,*[Symbol.iterator](){yield*g._tasks[Symbol.iterator]()},concurrency:t,payload:i,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>d(e,!1,!1,t))}return d(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>d(e,!1,!0,t))}return d(e,!1,!0,t)},kill(){s(),g._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>d(e,!0,!1,t))}return d(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>d(e,!0,!0,t))}return d(e,!0,!0,t)},remove(e){g._tasks.remove(e)},process(){if(!v){for(v=!0;!g.paused&&n<g.concurrency&&g._tasks.length;){var e=[],t=[],i=g._tasks.length;g.payload&&(i=Math.min(i,g.payload));for(var o=0;o<i;o++){var s=g._tasks.shift();e.push(s),a.push(s),t.push(s.data)}n+=1,0===g._tasks.length&&l("empty"),n===g.concurrency&&l("saturated");var c=w(p(e));r(t,c)}v=!1}},length:()=>g._tasks.length,running:()=>n,workersList:()=>a,idle:()=>g._tasks.length+n===0,pause(){g.paused=!0},resume(){!1!==g.paused&&(g.paused=!1,c(g.process))}};return Object.defineProperties(g,{saturated:{writable:!1,value:h("saturated")},unsaturated:{writable:!1,value:h("unsaturated")},empty:{writable:!1,value:h("empty")},drain:{writable:!1,value:h("drain")},error:{writable:!1,value:h("error")}}),g}var K=h((function(e,t,i,r){r=x(r);var n=m(i);return T(e,(e,i,r)=>{n(t,e,(e,i)=>{t=i,r(e)})},e=>r(e,t))}),4);function W(...e){var t=e.map(m);return function(...e){var i=this,r=e[e.length-1];return"function"==typeof r?e.pop():r=A(),K(t,e,(e,t,r)=>{t.apply(i,e.concat((e,...t)=>{r(e,t)}))},(e,t)=>r(e,...t)),r[N]}}var G=h((function(e,t,i,r){return g(S(t),e,i,r)}),4);var H=h((function(e,t,i,r){var n=m(i);return G(e,t,(e,t)=>{n(e,(e,...i)=>e?t(e):t(e,i))},(e,t)=>{for(var i=[],n=0;n<t.length;n++)t[n]&&(i=i.concat(...t[n]));return r(e,i)})}),4);var J=h((function(e,t,i){return H(e,1/0,t,i)}),3);var X=h((function(e,t,i){return H(e,1,t,i)}),3);function Q(e,t){return(i,r,n,a)=>{var o,s=!1;const l=m(n);i(r,(i,r,n)=>{l(i,(r,a)=>r||!1===r?n(r):e(a)&&!o?(s=!0,o=t(!0,i),n(null,y)):void n())},e=>{if(e)return a(e);a(null,s?o:t(!1))})}}var Z=h((function(e,t,i){return Q(e=>e,(e,t)=>t)(P,e,t,i)}),3);var ee=h((function(e,t,i,r){return Q(e=>e,(e,t)=>t)(S(t),e,i,r)}),4);var te=h((function(e,t,i){return Q(e=>e,(e,t)=>t)(S(1),e,t,i)}),3);function ie(e){return(t,...i)=>m(t)(...i,(t,...i)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&i.forEach(t=>console[e](t)))})}var re=ie("dir");var ne=h((function(e,t,i){i=w(i);var r,n=m(e),a=m(t);function o(e,...t){if(e)return i(e);!1!==e&&(r=t,a(...t,s))}function s(e,t){return e?i(e):!1!==e?t?void n(o):i(null,...r):void 0}return s(null,!0)}),3);function ae(e){return(t,i,r)=>e(t,r)}var oe=h((function(e,t,i){return P(e,ae(m(t)),i)}),3);var se=h((function(e,t,i,r){return S(t)(e,ae(m(i)),r)}),4);var le=h((function(e,t,i){return se(e,1,t,i)}),3);function ce(e){return f(e)?e:function(...t){var i=t.pop(),r=!0;t.push((...e)=>{r?c(()=>i(...e)):i(...e)}),e.apply(this,t),r=!1}}var ue=h((function(e,t,i){return Q(e=>!e,e=>!e)(P,e,t,i)}),3);var de=h((function(e,t,i,r){return Q(e=>!e,e=>!e)(S(t),e,i,r)}),4);var pe=h((function(e,t,i){return Q(e=>!e,e=>!e)(T,e,t,i)}),3);function fe(e,t,i,r){var n=new Array(t.length);e(t,(e,t,r)=>{i(e,(e,i)=>{n[t]=!!i,r(e)})},e=>{if(e)return r(e);for(var i=[],a=0;a<t.length;a++)n[a]&&i.push(t[a]);r(null,i)})}function me(e,t,i,r){var n=[];e(t,(e,t,r)=>{i(e,(i,a)=>{if(i)return r(i);a&&n.push({index:t,value:e}),r(i)})},e=>{if(e)return r(e);r(null,n.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function he(e,t,i,r){return(b(t)?fe:me)(e,t,m(i),r)}var ve=h((function(e,t,i){return he(P,e,t,i)}),3);var ge=h((function(e,t,i,r){return he(S(t),e,i,r)}),4);var be=h((function(e,t,i){return he(T,e,t,i)}),3);var ye=h((function(e,t){var i=w(t),r=m(ce(e));return function e(t){if(t)return i(t);!1!==t&&r(e)}()}),2);var _e=h((function(e,t,i,r){var n=m(i);return G(e,t,(e,t)=>{n(e,(i,r)=>i?t(i):t(i,{key:r,val:e}))},(e,t)=>{for(var i={},{hasOwnProperty:n}=Object.prototype,a=0;a<t.length;a++)if(t[a]){var{key:o}=t[a],{val:s}=t[a];n.call(i,o)?i[o].push(s):i[o]=[s]}return r(e,i)})}),4);var xe=ie("log");var ke=h((function(e,t,i,r){r=x(r);var n={},a=m(i);return S(t)(e,(e,t,i)=>{a(e,t,(e,r)=>{if(e)return i(e);n[t]=r,i(e)})},e=>r(e,n))}),4);var we=l(o?process.nextTick:a?setImmediate:s),Ce=h((e,t,i)=>{var r=b(t)?[]:{};e(t,(e,t,i)=>{m(e)((e,...n)=>{n.length<2&&([n]=n),r[t]=n,i(e)})},e=>i(e,r))},3);function Se(e,t){var i=m(e);return Y((e,t)=>{i(e[0],t)},t,1)}class $e{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Me(this.heap[e],this.heap[t=De(e)]);){let i=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=i,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Me(this.heap[t+1],this.heap[t])&&(t+=1),!Me(this.heap[e],this.heap[t]));){let i=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=i,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let i=0;i<this.heap.length;i++)e(this.heap[i])||(this.heap[t]=this.heap[i],t++);this.heap.splice(t);for(let e=De(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function De(e){return(e+1>>1)-1}function Me(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}var Pe=h((function(e,t){if(t=x(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var i=0,r=e.length;i<r;i++)m(e[i])(t)}),2);function Oe(e,t,i,r){var n=[...e].reverse();return K(n,t,i,r)}function Fe(e){var t=m(e);return n((function(e,i){return e.push((e,...t)=>{let r={};if(e&&(r.error=e),t.length>0){var n=t;t.length<=1&&([n]=t),r.value=n}i(null,r)}),t.apply(this,e)}))}function Te(e,t,i,r){const n=m(i);return he(e,t,(e,t)=>{n(e,(e,i)=>{t(e,!i)})},r)}var Ee=h((function(e,t,i){return Te(P,e,t,i)}),3);var je=h((function(e,t,i,r){return Te(S(t),e,i,r)}),4);var Ne=h((function(e,t,i){return Te(T,e,t,i)}),3);function Ae(e){return function(){return e}}function Ie(e,t,i){var r={times:5,intervalFunc:Ae(0)};if(arguments.length<3&&"function"==typeof e?(i=t||A(),t=e):(Le(r,e),i=i||A()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var n=m(t),a=1;function o(){n((e,...t)=>{!1!==e&&(e&&a++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(e))?setTimeout(o,r.intervalFunc(a-1)):i(e,...t))})}return o(),i[N]}function Le(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Ae(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}var Re=h((function(e,t,i){return Q(Boolean,e=>e)(P,e,t,i)}),3);var Ve=h((function(e,t,i,r){return Q(Boolean,e=>e)(S(t),e,i,r)}),4);var Be=h((function(e,t,i){return Q(Boolean,e=>e)(T,e,t,i)}),3);var qe=h((function(e,t,i){var r=m(t);return O(e,(e,t)=>{r(e,(i,r)=>{if(i)return t(i);t(i,{value:e,criteria:r})})},(e,t)=>{if(e)return i(e);i(null,t.sort(n).map(e=>e.value))});function n(e,t){var i=e.criteria,r=t.criteria;return i<r?-1:i>r?1:0}}),3);function ze(e,t,i,r){var n=m(i);return G(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,n,r)}var Ue=h((function(e,t){var i,r=null;return le(e,(e,t)=>{m(e)((e,...n)=>{if(!1===e)return t(e);n.length<2?[i]=n:i=n,r=e,t(e?null:{})})},()=>t(r,i))}));var Ye=h((function(e,t,i){i=w(i);var r=m(t),n=m(e),a=[];function o(e,...t){if(e)return i(e);a=t,!1!==e&&n(s)}function s(e,t){return e?i(e):!1!==e?t?void r(o):i(null,...a):void 0}return n(s)}),3);var Ke=h((function(e,t){if(t=x(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var i=0;function r(t){m(e[i++])(...t,w(n))}function n(n,...a){if(!1!==n)return n||i===e.length?t(n,...a):void r(a)}r([])})),We={apply:function(e,...t){return(...i)=>e(...t,...i)},applyEach:F,applyEachSeries:j,asyncify:u,auto:I,autoInject:function(e,t){var i={};return Object.keys(e).forEach(t=>{var r,n=e[t],a=f(n),o=!a&&1===n.length||a&&0===n.length;if(Array.isArray(n))r=[...n],n=r.pop(),i[t]=r.concat(r.length>0?s:n);else if(o)i[t]=n;else{if(r=function(e){const t=e.toString().replace(q,"");let i=t.match(L);if(i||(i=t.match(R)),!i)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,r]=i;return r.replace(/\s/g,"").split(V).map(e=>e.replace(B,"").trim())}(n),0===n.length&&!a&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");a||r.pop(),i[t]=r.concat(s)}function s(e,t){var i=r.map(t=>e[t]);i.push(t),m(n)(...i)}}),I(i,t)},cargo:function(e,t){return Y(e,1,t)},cargoQueue:function(e,t,i){return Y(e,t,i)},compose:function(...e){return W(...e.reverse())},concat:J,concatLimit:H,concatSeries:X,constant:function(...e){return function(...t){return t.pop()(null,...e)}},detect:Z,detectLimit:ee,detectSeries:te,dir:re,doUntil:function(e,t,i){const r=m(t);return ne(e,(...e)=>{const t=e.pop();r(...e,(e,i)=>t(e,!i))},i)},doWhilst:ne,each:oe,eachLimit:se,eachOf:P,eachOfLimit:$,eachOfSeries:T,eachSeries:le,ensureAsync:ce,every:ue,everyLimit:de,everySeries:pe,filter:ve,filterLimit:ge,filterSeries:be,forever:ye,groupBy:function(e,t,i){return _e(e,1/0,t,i)},groupByLimit:_e,groupBySeries:function(e,t,i){return _e(e,1,t,i)},log:xe,map:O,mapLimit:G,mapSeries:E,mapValues:function(e,t,i){return ke(e,1/0,t,i)},mapValuesLimit:ke,mapValuesSeries:function(e,t,i){return ke(e,1,t,i)},memoize:function(e,t=(e=>e)){var i=Object.create(null),r=Object.create(null),a=m(e),o=n((e,n)=>{var o=t(...e);o in i?c(()=>n(null,...i[o])):o in r?r[o].push(n):(r[o]=[n],a(...e,(e,...t)=>{e||(i[o]=t);var n=r[o];delete r[o];for(var a=0,s=n.length;a<s;a++)n[a](e,...t)}))});return o.memo=i,o.unmemoized=e,o},nextTick:we,parallel:function(e,t){return Ce(P,e,t)},parallelLimit:function(e,t,i){return Ce(S(t),e,i)},priorityQueue:function(e,t){var i=Se(e,t);return i._tasks=new $e,i.push=function(e,t=0,r=(()=>{})){if("function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&i.idle())return c(()=>i.drain());for(var n=0,a=e.length;n<a;n++){var o={data:e[n],priority:t,callback:r};i._tasks.push(o)}c(i.process)},delete i.unshift,i},queue:Se,race:Pe,reduce:K,reduceRight:Oe,reflect:Fe,reflectAll:function(e){var t;return Array.isArray(e)?t=e.map(Fe):(t={},Object.keys(e).forEach(i=>{t[i]=Fe.call(this,e[i])})),t},reject:Ee,rejectLimit:je,rejectSeries:Ne,retry:Ie,retryable:function(e,t){t||(t=e,e=null);let i=e&&e.arity||t.length;f(t)&&(i+=1);var r=m(t);return n((t,n)=>{function a(e){r(...t,e)}return(t.length<i-1||null==n)&&(t.push(n),n=A()),e?Ie(e,a,n):Ie(a,n),n[N]})},seq:W,series:function(e,t){return Ce(T,e,t)},setImmediate:c,some:Re,someLimit:Ve,someSeries:Be,sortBy:qe,timeout:function(e,t,i){var r=m(e);return n((n,a)=>{var o,s=!1;n.push((...e)=>{s||(a(...e),clearTimeout(o))}),o=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",i&&(r.info=i),s=!0,a(r)}),t),r(...n)})},times:function(e,t,i){return ze(e,1/0,t,i)},timesLimit:ze,timesSeries:function(e,t,i){return ze(e,1,t,i)},transform:function(e,t,i,r){arguments.length<=3&&"function"==typeof t&&(r=i,i=t,t=Array.isArray(e)?[]:{}),r=x(r||A());var n=m(i);return P(e,(e,i,r)=>{n(t,e,i,r)},e=>r(e,t)),r[N]},tryEach:Ue,unmemoize:function(e){return(...t)=>(e.unmemoized||e)(...t)},until:function(e,t,i){const r=m(e);return Ye(e=>r((t,i)=>e(t,!i)),t,i)},waterfall:Ke,whilst:Ye,all:ue,allLimit:de,allSeries:pe,any:Re,anyLimit:Ve,anySeries:Be,find:Z,findLimit:ee,findSeries:te,flatMap:J,flatMapLimit:H,flatMapSeries:X,forEach:oe,forEachSeries:le,forEachLimit:se,forEachOf:P,forEachOfSeries:T,forEachOfLimit:$,inject:K,foldl:K,foldr:Oe,select:ve,selectLimit:ge,selectSeries:be,wrapSync:u,during:Ye,doDuring:ne},Ge=i(19),He=i(10),Je=i(5),Xe={props:{options:{type:Object}},components:{FluroRealmSelect:Ge.default,FluroContentForm:He.default},mixins:[Je.a],data:()=>({loading:!0,dataModel:{data:{}},serverErrors:"",errorMessages:[],thread:[],state:"ready"}),asyncComputed:{definition:{default:null,get(){var e=this,t=e.options.definition,i=t?t.definitionName:e.options.definitionName;return e.loading=!0,new Promise((function(t,r){return e.$fluro.types.get(i).then((function(i){t(i.definition),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}},computed:{summary(){return 1!=this.items.length?this.items.length+" items":this.items[0].title},items(){var e=this.options.items||[this.options.item];return _.compact(e)},hasErrors(){return!!this.errorMessages.length}},methods:{validate(){this.errorMessages=_.get(this.$refs,"form.errorMessages")},clear(){this.reset()},reset(){this.$set(this,"dataModel",{}),this.state="ready",this.$emit("reset")},submit(){var e=this;if(e.validate(),!e.errorMessages||!e.errorMessages.length)return e.state="processing",1==e.items.length?(console.log("submit to one item",e.items),t(e.items[0],(function(t,i){if(t)return e.$fluro.error(t),e.state="error",e.$emit("error",t),void(e.serverErrors=e.$fluro.utils.errorMessage(t));e.$fluro.notify(`${e.definition.title} for ${e.items[0].title} was saved successfully`,{type:"success"}),e.close(i)}))):(console.log("Submit to multiple",e.items),We.mapLimit(e.items,3,t,(function(t,i){if(t)return e.$fluro.error(t),e.state="error",e.$emit("error",t),void(e.serverErrors=e.$fluro.utils.errorMessage(t));e.$fluro.notify(`${e.definition.title} for ${i.length} items were saved successfully`,{type:"success"}),e.close(i)})));function t(t,i){var r=JSON.parse(JSON.stringify(e.dataModel));return r.parent=e.$fluro.utils.getStringID(t),console.log("SUBMIT POST AGAINST",r.parent),e.$fluro.content.submitPost(r.parent,e.definition.definitionName,r).then((function(e){return i(null,e)})).catch(i)}}}},Qe=(i(387),i(0)),Ze=Object(Qe.a)(Xe,r,[],!1,null,null,null);Ze.options.__file="src/components/ui/modal/AddPost.vue";t.default=Ze.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"avatar"},[t("div",{staticClass:"avatar-inner",style:this.styles})])};r._withStripped=!0;var n={props:{id:{type:[String,Object]},type:{type:String,default:"contact"},width:{type:Number,default:100}},computed:{styles(){var e={};return this.url&&this.url.length&&(e.backgroundImage=`url(${this.url})`),e},url(){if(this.id)return this.$fluro.asset.avatarUrl(this.id,this.type,{w:this.width})}}},a=(i(205),i(0)),o=Object(a.a)(n,r,[],!1,null,"662e0ae5",null);o.options.__file="src/components/FluroAvatar.vue";t.default=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dots"},this._l(this.filtered,(function(e){return t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dot",style:{backgroundColor:e.bgColor||"#000"},attrs:{content:e.title,small:""}})})),0)};r._withStripped=!0;var n={props:{realms:{default:()=>[],type:[Array,Object]}},computed:{actualRealms(){if(this.realms)return this.realms.length?this.realms:[this.realms]},filtered(){var e=_.filter(this.actualRealms,(function(e){if(e&&!e._discriminatorType)return!0})),t=_.filter(e,"bgColor");return t.length?t:e.slice(0,1)}}},a=(i(344),i(0)),o=Object(a.a)(n,r,[],!1,null,"82bc59f0",null);o.options.__file="src/components/ui/FluroRealmDots.vue";t.a=o.exports},function(e,t){e.exports=vuex-map-fields},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.canEdit?i("span",{staticClass:"clickable",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.edit()}}},[e._v(e._s(e.readable))]):i("span",[e._v(e._s(e.readable))])])};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}},methods:{edit(){var e=this;e.$fluro.types.terms().then((function(t){var i=t[e.row.definition];i&&e.$fluro.global.edit(i,!0)}))}},computed:{canEdit(){return this.$fluro.access.can("edit","definition")},readable(){var e=this.data||this.row.definition||this.row._type;return this.$fluro.types.readable(e)}}},a=(i(263),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/DefinitionCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+this.url+")"}})};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}},computed:{url(){return"video"==this.row._type?this.$fluro.asset.posterUrl(this.id,50):this.$fluro.asset.imageUrl(this.id,50)},id(){return this.$fluro.utils.getStringID(this.data)}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/ThumbnailCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"status-label",class:this.value},[this._v(this._s(this.text||this.value))])};r._withStripped=!0;var n={props:{value:{type:String},text:{type:String}}},a=(i(358),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/FluroStatusLabel.vue";t.a=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"realm-select-item-outer",class:{"has-children":e.item.children&&e.item.children.length}},[i("div",{staticClass:"realm-select-item",class:{selected:e.isSelected},on:{click:function(t){return e.callback(e.item)}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("span",{staticClass:"dot",style:e.dot}),e._v(" "+e._s(e.item.title)+" \n            ")]),e._v(" "),i("div",{staticClass:"type"},[e._v(e._s("Realm"!=e.item.fullDefinition.title?e.item.fullDefinition.title:""))]),e._v(" "),i("div",{staticClass:"check-icon"},[e.isSelected?i("fluro-icon",{attrs:{icon:"check"}}):e._e()],1)],1)],1),e._v(" "),e.item.children&&e.item.children.length?i("div",{staticClass:"children"},[e._l(e.item.children,(function(t){return[i("fluro-realm-select-item",{attrs:{item:t,check:e.check,callback:e.callback}})]}))],2):e._e()])};r._withStripped=!0;var n={props:{item:{type:Object,required:!0},callback:{type:Function,required:!0},check:{type:Function,required:!0}},computed:{isSelected:{get(){return this.check(this.item)},set(){}},dot(){return{backgroundColor:this.item.bgColor}}},beforeCreate:function(){this.$options.components.FluroRealmSelectItem=i(42).default}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/form/realmselect/FluroRealmSelectItem.vue";t.default=o.exports},function(e,t){e.exports=js-beautify},function(e,t,i){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return C.default}}),t.helpers=void 0;var n=D(i(301)),a=D(i(304)),o=D(i(305)),s=D(i(306)),l=D(i(307)),c=D(i(308)),u=D(i(309)),d=D(i(310)),p=D(i(311)),f=D(i(312)),m=D(i(313)),h=D(i(314)),v=D(i(315)),g=D(i(316)),b=D(i(317)),y=D(i(318)),_=D(i(319)),x=D(i(320)),k=D(i(321)),w=D(i(322)),C=D(i(323)),S=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=$();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,t&&t.set(e,i);return i}(i(8));function $(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return $=function(){return e},e}function D(e){return e&&e.__esModule?e:{default:e}}t.helpers=S},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-editor"},[e.bubbleEnabled?i("editor-menu-bubble",{attrs:{editor:e.editor,"keep-in-bounds":e.keepInBounds},on:{hide:e.hideBubble},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands,n=t.isActive,a=t.getMarkAttrs,o=t.menu;return[i("div",{staticClass:"menububble",class:{active:o.isActive},style:"left: "+o.left+"px; bottom: "+o.bottom+"px;"},[e.isEnabled("formats")?i("v-menu",{attrs:{attach:"",transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},r),[i("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[e._v(" "),i("div",{staticStyle:{overflow:"auto",width:"300px","max-height":"300px"}},[i("v-list",[i("v-list-tile",{class:{active:n.heading({level:1})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:1})}}},[i("v-list-tile-content",[i("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[e._v("Heading 1")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:2})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:2})}}},[i("v-list-tile-content",[i("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[e._v("Heading 2")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:3})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:3})}}},[i("v-list-tile-content",[i("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[e._v("Heading 3")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:4})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:4})}}},[i("v-list-tile-content",[i("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[e._v("Heading 4")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:5})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:5})}}},[i("v-list-tile-content",[i("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[e._v("Heading 5")])])],1),e._v(" "),e._l(e.typographyOptions,(function(t){return i("v-list-tile",{class:{active:n.typography({level:t.level})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.typography({level:t.level})}}},[i("v-list-tile-content",[i("span",{class:t.level,staticStyle:{margin:"0 !important"}},[e._v(e._s(t.title))])])],1)})),e._v(" "),e._e(),e._v(" "),e._e()],2)],1)]):e._e(),e._v(" "),i("v-btn",{class:{active:n.bold()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.bold(e)}}},[i("fluro-icon",{attrs:{icon:"bold"}})],1),e._v(" "),i("v-btn",{class:{active:n.italic()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.italic(e)}}},[i("fluro-icon",{attrs:{icon:"italic"}})],1),e._v(" "),i("v-btn",{class:{active:n.underline()},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.underline(e)}}},[i("fluro-icon",{attrs:{icon:"underline"}})],1),e._v(" "),e.isEnabled("alignment")?[i("v-btn",{class:{active:n.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"left"})}}},[i("fluro-icon",{attrs:{icon:"align-left"}})],1),e._v(" "),i("v-btn",{class:{active:n.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"center"})}}},[i("fluro-icon",{attrs:{icon:"align-center"}})],1),e._v(" "),i("v-btn",{class:{active:n.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"right"})}}},[i("fluro-icon",{attrs:{icon:"align-right"}})],1)]:e._e(),e._v(" "),e.linkMenuIsActive?i("form",{staticClass:"menububble__form",on:{submit:function(t){return t.preventDefault(),e.setLinkUrl(r.link,e.linkUrl)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.linkUrl,expression:"linkUrl"}],ref:"linkInput",staticClass:"link-input",attrs:{type:"text",placeholder:"https://"},domProps:{value:e.linkUrl},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideLinkMenu(t)},input:function(t){t.target.composing||(e.linkUrl=t.target.value)}}}),e._v(" "),i("v-btn",{attrs:{small:"",icon:"",flat:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setLinkUrl(r.link,null)}}},[i("fluro-icon",{attrs:{icon:"unlink"}})],1)],1):[i("v-btn",{class:{active:n.link()},attrs:{small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showLinkMenu(a("link"))}}},[i("span",[e._v(e._s(n.link()?"Update Link":"Link"))]),e._v(" "),i("fluro-icon",{attrs:{right:"",icon:"link"}})],1)]],2)]}}],null,!1,3430240661)}):e._e(),e._v(" "),e.barEnabled?i("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands,n=t.isActive;return i("div",{staticClass:"fluro-editor-toolbar"},[e.isEnabled("source")?i("v-btn",{staticClass:"hidden-xs-only",class:{"is-active":e.showSource},attrs:{icon:"",small:"",flat:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showSource=!e.showSource}}},[e.showSource?i("fluro-icon",{attrs:{icon:"edit"}}):i("fluro-icon",{attrs:{icon:"code"}})],1):e._e(),e._v(" "),e.isEnabled("formats")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},r),[i("fluro-icon",{attrs:{icon:"paragraph"}})],1)]}}],null,!0)},[e._v(" "),i("v-list",[i("v-list-tile",{class:{active:n.heading({level:1})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:1})}}},[i("v-list-tile-content",[i("span",{staticClass:"h1",staticStyle:{margin:"0 !important"}},[e._v("Heading 1")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:2})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:2})}}},[i("v-list-tile-content",[i("span",{staticClass:"h2",staticStyle:{margin:"0 !important"}},[e._v("Heading 2")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:3})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:3})}}},[i("v-list-tile-content",[i("span",{staticClass:"h3",staticStyle:{margin:"0 !important"}},[e._v("Heading 3")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:4})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:4})}}},[i("v-list-tile-content",[i("span",{staticClass:"h4",staticStyle:{margin:"0 !important"}},[e._v("Heading 4")])])],1),e._v(" "),i("v-list-tile",{class:{active:n.heading({level:5})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.heading({level:5})}}},[i("v-list-tile-content",[i("span",{staticClass:"h5",staticStyle:{margin:"0 !important"}},[e._v("Heading 5")])])],1),e._v(" "),e._l(e.typographyOptions,(function(t){return i("v-list-tile",{class:{active:n.typography({level:t.level})},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.typography({level:t.level})}}},[i("v-list-tile-content",[i("span",{class:t.level,staticStyle:{margin:"0 !important"}},[e._v(e._s(t.title))])])],1)})),e._v(" "),e._e(),e._v(" "),e._e()],2)],1):e._e(),e._v(" "),e.isEnabled("bold")?i("v-btn",{class:{active:n.bold()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.bold(e)}}},[i("fluro-icon",{attrs:{icon:"bold"}})],1):e._e(),e._v(" "),e.isEnabled("italic")?i("v-btn",{class:{active:n.italic()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.italic(e)}}},[i("fluro-icon",{attrs:{icon:"italic"}})],1):e._e(),e._v(" "),e.isEnabled("underline")?i("v-btn",{class:{active:n.underline()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.underline(e)}}},[i("fluro-icon",{attrs:{icon:"underline"}})],1):e._e(),e._v(" "),e.tokens.length?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{small:"",disabled:e.showSource}},r),[e._v("\n                        Tokens\n                    ")])]}}],null,!0)},[e._v(" "),i("v-list",e._l(e.tokens,(function(t){return i("v-list-tile",{key:t.key,on:{click:function(e){return r.token(t.key)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[e._v(e._s(t.title))])])],1)})),1)],1):e._e(),e._v(" "),e.isEnabled("image")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:"",disabled:e.showSource}},r),[i("fluro-icon",{attrs:{icon:"plus"}})],1)]}}],null,!0)},[e._v(" "),i("v-list",[i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showImagePrompt(r.image)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"image"}}),e._v(" Add Image")],1)])],1),e._v(" "),i("v-list-tile",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showVideoPrompt(r.video)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"video"}}),e._v(" Add Video")],1)])],1),e._v(" "),i("v-list-tile",{class:{active:n.blockquote()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.blockquote(e)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"quote-right"}}),e._v(" Blockquote")],1)])],1),e._v(" "),i("v-list-tile",{class:{active:n.code_block()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.code_block(e)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"code"}}),e._v(" Code")],1)])],1),e._v(" "),i("v-list-tile",{class:{active:n.horizontal_rule()},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.horizontal_rule(e)}}},[i("v-list-tile-content",[i("span",{staticStyle:{margin:"0 !important"}},[i("fluro-icon",{attrs:{icon:"horizontal-rule"}}),e._v(" Horizontal Rule")],1)])],1)],1)],1):e._e(),e._v(" "),e.isEnabled("list")?i("v-btn",{class:{active:n.bullet_list()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.bullet_list(e)}}},[i("fluro-icon",{attrs:{icon:"list-ul"}})],1):e._e(),e._v(" "),e.isEnabled("list")?i("v-btn",{class:{active:n.ordered_list()},attrs:{icon:"",disabled:e.showSource,small:"",flat:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.ordered_list(e)}}},[i("fluro-icon",{attrs:{icon:"list-ol"}})],1):e._e(),e._v(" "),e.isEnabled("alignment")?[i("v-btn",{class:{active:n.alignment({textAlign:"left"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"left"})}}},[i("fluro-icon",{attrs:{icon:"align-left"}})],1),e._v(" "),i("v-btn",{class:{active:n.alignment({textAlign:"center"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"center"})}}},[i("fluro-icon",{attrs:{icon:"align-center"}})],1),e._v(" "),i("v-btn",{class:{active:n.alignment({textAlign:"right"})},attrs:{icon:"",small:"",flat:"",disabled:e.showSource},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.alignment({textAlign:"right"})}}},[i("fluro-icon",{attrs:{icon:"align-right"}})],1)]:e._e(),e._v(" "),e.isEnabled("table")?i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({staticClass:"hidden-xs-only",attrs:{small:"",icon:"",disabled:e.showSource}},r),[i("fluro-icon",{attrs:{icon:"table"}})],1)]}}],null,!0)},[e._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[i("v-list-tile-title",[e._v("Insert Table")])],1),e._v(" "),n.table()?i("span",[i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.addRowBefore(e)}}},[i("v-list-tile-content",[e._v("\n                                Insert Row Before\n                            ")])],1),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.addRowAfter(e)}}},[i("v-list-tile-content",[e._v("\n                                Insert Row After\n                            ")])],1),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.deleteRow(e)}}},[i("v-list-tile-content",[e._v("\n                                Delete Row\n                            ")])],1),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.addColumnBefore(e)}}},[i("v-list-tile-content",[e._v("\n                                Insert Column Before\n                            ")])],1),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.addColumnAfter(e)}}},[i("v-list-tile-content",[e._v("\n                                Insert Column After\n                            ")])],1),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.deleteColumn(e)}}},[i("v-list-tile-content",[e._v("\n                                Delete Column\n                            ")])],1),e._v(" "),i("v-divider"),e._v(" "),i("v-divider"),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.toggleCellMerge(e)}}},[i("v-list-tile-content",[e._v("\n                                Combine Cells\n                            ")])],1),e._v(" "),i("v-divider"),e._v(" "),i("v-list-tile",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),r.deleteTable(e)}}},[i("v-list-tile-content",[e._v("\n                                Delete table\n                            ")])],1)],1):e._e()],1)],1):e._e()],2)}}],null,!1,4193516208)}):e._e(),e._v(" "),e.showSource?[i("div",{staticClass:"editor-code-wrapper"},[i("fluro-code-editor",{staticClass:"fluro-editor-textarea",attrs:{lang:"html",height:e.codeEditorHeight},on:{blur:e.blurCode,focus:e.focusCode,input:e.sourceChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:e._e(),e._v(" "),e.showSource?e._e():[i("editor-content",{staticClass:"fluro-editor-textarea",attrs:{editor:e.editor}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuggestions,expression:"showSuggestions"}],ref:"suggestions",staticClass:"suggestion-list"},[e.filteredUsers.length?e._l(e.filteredUsers,(function(t,r){return i("div",{key:t._id,staticClass:"suggestion-list__item",class:{"is-selected":e.navigatedUserIndex===r},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.selectUser(t)}}},[i("fluro-avatar",{attrs:{left:"",id:t,type:"persona"}}),e._v(e._s(t.title)+"\n                ")],1)})):i("div",{staticClass:"suggestion-list__item is-empty"},[e._v("\n                No users found\n            ")])],2)]],2)};r._withStripped=!0;var n=i(201),a=i.n(n),o=i(28),s=i(9),l=i(15),c=i(6);class u extends s.Node{get name(){return"mention"}get defaultOptions(){return{matcher:{char:"@",allowSpaces:!1,startOfLine:!1},mentionClass:null,suggestionClass:"mention-suggestion"}}get schema(){return{attrs:{id:{},label:{}},group:"inline",inline:!0,selectable:!1,atom:!0,toDOM:e=>["mention",{class:this.options.mentionClass,"data-mention-id":e.attrs.id},""+e.attrs.label],parseDOM:[{tag:"mention[data-mention-id]",getAttrs:e=>({id:e.getAttribute("data-mention-id"),label:e.innerText.split(this.options.matcher.char).join("")})}]}}commands({schema:e}){return t=>Object(l.replaceText)(null,e.nodes[this.name],t)}get plugins(){return[Object(c.Suggestions)({command:({range:e,attrs:t,schema:i})=>Object(l.replaceText)(e,i.nodes[this.name],t),appendText:" ",matcher:this.options.matcher,items:this.options.items,onEnter:this.options.onEnter,onChange:this.options.onChange,onExit:this.options.onExit,onKeyDown:this.options.onKeyDown,onFilter:this.options.onFilter,suggestionClass:this.options.suggestionClass})]}}i(393),i(187);class d extends s.Node{get name(){return"fluroNode"}get defaultOptions(){return{classes:[{id:"lead",title:"Lead Text",tag:"span",className:"lead"}]}}get schema(){return{attrs:{id:{},label:{},title:{},tag:{},className:{}},content:"inline*",group:"inline",defining:!0,draggable:!1,inline:!0,toDOM:e=>["fluroNode",{class:this.options.mentionClass,"data-fluroNode-id":e.attrs.id}],parseDOM:[{tag:"fluroNode[data-fluroNode-id]",getAttrs:e=>({id:e.getAttribute("data-fluroNode-id")})}]}}commands({type:e,schema:t}){return i=>(r,n,a)=>{i.class=i.className;i.tag,i.title,i.className;console.log(e,t,i),Object(l.toggleBlockType)(e,t.nodes.paragraph,i)}}}i(187);class p extends s.Mark{get name(){return"fluroMark"}get defaultOptions(){return{classes:[{id:"xs",title:"Extra Small",tag:"span",class:"text-xs"},{id:"sm",title:"Small",tag:"span",class:"text-sm"},{id:"muted",title:"Muted",tag:"span",class:"text-muted"},{id:"lg",title:"Large",tag:"span",class:"text-lg"},{id:"xl",title:"Extra Large",tag:"span",class:"text-xl"}]}}get schema(){return{attrs:{level:{default:""}},parseDOM:[{tag:"span.typography",getAttrs:e=>({level:e.classList[1]})}],toDOM:e=>["span",{class:"typography "+e.attrs.level},0]}}commands({type:e}){return t=>Object(l.toggleMark)(e,t)}}class f extends s.Node{get name(){return"image"}get schema(){return{inline:!0,attrs:{item:{}},group:"inline",draggable:!0,parseDOM:[{tag:"fluro-image[item]",getAttrs:e=>({item:e.getAttribute("item")})}],toDOM:e=>["fluro-image",e.attrs]}}commands({type:e}){return t=>(i,r)=>{const{selection:n}=i,a=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t);r(i.tr.insert(a,o))}}get view(){return{props:["node","updateAttrs","view"],computed:{item:{get(){return this.$fluro.asset.imageUrl(this.node.attrs.item)},set(e){this.updateAttrs({item:e})}}},template:"<div class=\"fluro-image-preview\"><img :src='item' /></div>"}}}class m extends s.Node{get name(){return"video"}get schema(){return{inline:!0,attrs:{item:{}},group:"inline",draggable:!0,parseDOM:[{tag:"fluro-video[item]",getAttrs:e=>({item:e.getAttribute("item")})}],toDOM:e=>["fluro-video",e.attrs]}}commands({type:e}){return t=>(i,r)=>{const{selection:n}=i,a=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t);r(i.tr.insert(a,o))}}get view(){return{props:["node","updateAttrs","view"],computed:{item:{get(){return this.$fluro.asset.posterUrl(this.node.attrs.item)},set(e){this.updateAttrs({item:e})}}},template:"<div><img :src='item' /></div>"}}}class h extends s.Node{get name(){return"token"}get schema(){return{attrs:{},inline:!0,selectable:!1,content:"inline*",draggable:!1,isText:!0,toDOM:e=>e.attrs}}commands({type:e,schema:t}){return e=>(t,i)=>{const{$from:r}=t.selection,{pos:n}=r.pos;i(t.tr.insertText(`{{${e}}}`,n))}}}class v extends s.Mark{get name(){return"alignment"}get schema(){return{attrs:{textAlign:{default:"left"}},parseDOM:[{style:"text-align",getAttrs:e=>({textAlign:e})}],toDOM:e=>["span",{style:`text-align: ${e.attrs.textAlign};display: block`},0]}}commands({type:e}){return t=>Object(l.updateMark)(e,t)}inputRules({type:e}){return[Object(l.markInputRule)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}}class g extends s.Mark{get name(){return"typography"}get defaultOptions(){return{levels:[{title:"Muted",level:"text-muted"},{title:"Normal",level:""},{title:"Extra Small",level:"font-xs"},{title:"Small",level:"font-sm"},{title:"Large",level:"font-lg"},{title:"Extra Large",level:"font-xl"}]}}get schema(){return{attrs:{level:{default:""}},parseDOM:[{tag:"span",getAttrs:e=>(console.log(e.classList[1]),{level:e.classList[1]})}],toDOM:e=>["span",{class:""+e.attrs.level},0]}}commands({type:e}){return t=>Object(l.toggleMark)(e,t)}}var b={data(){return{keepInBounds:!0,showSource:!1,model:this.value,editor:null,query:null,suggestionRange:null,filteredUsers:[],navigatedUserIndex:0,insertMention:()=>{},observer:null,linkUrl:null,linkMenuIsActive:!1,TypographyPlugin:new g,FluroNodePlugin:new d,FluroMarkPlugin:new p}},computed:{typographyOptions(){return this.TypographyPlugin.options.levels},tokens(){return this.options.tokens||[]},barEnabled(){return!(this.options.disable&&this.options.disable.bar)},bubbleEnabled(){return!(this.options.disable&&this.options.disable.bubble)},showSuggestions(){return this.query||this.hasResults}},methods:{isEnabled(e){return!this.options.toolset||_.includes(this.options.toolset,e)},select(){console.log("SELECT EDITOR")},hideBubble(){this.hideLinkMenu()},addFluroNode(e){var t=this.FluroNodePlugin.options.classes;-1===t.indexOf(e)&&t.push(e)},getFluroNodes(){return this.FluroNodePlugin.options.classes},addFluroMark(e){var t=this.FluroMarkPlugin.options.classes;-1===t.indexOf(e)&&t.push(e)},getFluroMarks(){return this.FluroMarkPlugin.options.classes},showLinkMenu(e){this.linkUrl=e.href,this.linkMenuIsActive=!0,this.$nextTick(()=>{this.$refs.linkInput.focus()})},hideLinkMenu(){this.linkUrl=null,this.linkMenuIsActive=!1},setLinkUrl(e,t){e({href:t}),this.hideLinkMenu(),this.editor.focus()},blurEditor(e){this.$emit("blur")},focusEditor(e){this.$emit("focus")},blurCode(e){this.$emit("blur")},focusCode(e){this.$emit("focus")},sourceChange(e){this.model=e},showImagePrompt(e){this.$fluro.global.select("image",{title:"Select an Image/Photo",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(t){if(t){var i=_.first(t);e({item:i._id})}}))},showVideoPrompt(e){this.$fluro.global.select("video",{title:"Select a Video",minimum:1,maximum:1,allDefinitions:!0},!0).then((function(t){if(t){var i=_.first(t);e({item:i._id})}}))},addToken(e,t){e(t)},upHandler(){this.navigatedUserIndex=(this.navigatedUserIndex+this.filteredUsers.length-1)%this.filteredUsers.length},downHandler(){this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.filteredUsers.length},enterHandler(){const e=this.filteredUsers[this.navigatedUserIndex];e&&this.selectUser(e)},selectUser(e){this.insertMention({range:this.suggestionRange,attrs:{id:e._id,mentionID:e.mentionID,label:e.title}}),this.editor.focus()},renderPopup(e){this.popup||(this.popup=a()(e,{content:this.$refs.suggestions,trigger:"mouseenter",interactive:!0,theme:"dark",placement:"top-start",inertia:!0,duration:[400,200],showOnInit:!0,arrow:!0,arrowType:"round"}),MutationObserver&&(this.observer=new MutationObserver(()=>{this.popup.popperInstance.scheduleUpdate()}),this.observer.observe(this.$refs.suggestions,{childList:!0,subtree:!0,characterData:!0})))},destroyPopup(){this.popup&&(this.popup.destroy(),this.popup=null),this.observer&&this.observer.disconnect()}},props:{codeEditorHeight:{default:600,type:Number},value:{default:"",type:String},placeholder:{type:String},options:{default:function(){return{}},type:Object}},components:{EditorMenuBar:s.EditorMenuBar,EditorContent:s.EditorContent,FluroCodeEditor:o.default,EditorFloatingMenu:s.EditorFloatingMenu,EditorMenuBubble:s.EditorMenuBubble,FluroNode:d,FluroMark:p},created(){var e=this,t=(e.placeholder,new u({items:function(){return[]},onEnter:({items:e,query:t,range:i,command:r,virtualNode:n})=>{this.query=t,this.filteredUsers=e,this.suggestionRange=i,this.renderPopup(n),this.insertMention=r},onChange:({items:t,query:i,range:r,virtualNode:n})=>{var a=this;e.$fluro.content.mention(i,e.options.mentions).then((function(e){a.query=i,a.filteredUsers=e,a.suggestionRange=r,a.navigatedUserIndex=0,a.renderPopup(n)})).catch((function(e){}))},onExit:()=>{this.query=null,this.filteredUsers=[],this.suggestionRange=null,this.navigatedUserIndex=0,this.destroyPopup()},onKeyDown:({event:e})=>38===e.keyCode?(this.upHandler(),!0):40===e.keyCode?(this.downHandler(),!0):13===e.keyCode&&(this.enterHandler(),!0)})),i=[new c.Bold,new c.Italic,new c.Strike,new c.Underline,new c.Link,new v,new c.HorizontalRule,new c.Blockquote,new c.CodeBlock,new c.HardBreak,new c.Heading({levels:[1,2,3,4]}),new c.BulletList,new c.OrderedList,new c.ListItem,new f,new m,new c.Code,new c.History,new c.Table,new c.TableHeader,new c.TableCell,new c.TableRow,new h,this.FluroNodePlugin,this.FluroMarkPlugin,this.TypographyPlugin,t,new c.Placeholder({emptyClass:"placeholder-text",emptyNodeText:e.placeholder,showOnlyWhenEditable:!0})];"undefined"!=typeof window&&window.hljs&&i.push(new c.CodeBlockHighlight({languages:[json,javascript,scss]})),this.editor=new s.Editor({extensions:i,onUpdate:({getHTML:t})=>{var i=t();e.model=i},onBlur(t){e.blurEditor()},onFocus(t){e.focusEditor()}}),e.editor.setContent(e.model)},watch:{value(e){this.model=e},placeholder(e){this.editor.extensions.options.placeholder.emptyNodeText=e},model(e){e!==this.editor.getHTML()&&this.editor.setContent(e),this.$emit("input",e)}},beforeDestroy(){this.editor.destroy()}},y=(i(394),i(0)),x=Object(y.a)(b,r,[],!1,null,null,null);x.options.__file="src/components/form/FluroEditor.vue";t.default=x.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"list-group"},[this._t("default")],2)};r._withStripped=!0;var n={},a=(i(379),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/ListGroup.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentType,{tag:"component",staticClass:"list-group-item",class:e.isSelected?"active selected":"",attrs:{tag:"a",to:e.to},on:{click:e.clicked}},[i("div",[e.item?i("fluro-realm-bar",{attrs:{realm:e.item.realms}}):e._e(),e._v(" "),e._t("left",[e.item?i("fluro-item-image",{attrs:{item:e.item}}):e._e()])],2),e._v(" "),i("div",{staticClass:"list-group-item-content"},[e._t("default",[i("strong",[e._v(e._s(e.title))]),e._v(" "),e.renderFirstLine?i("div",{staticClass:"muted sm"},[e._v(e._s(e.renderFirstLine))]):e._e()])],2),e._v(" "),i("div",[e._t("right")],2),e._v(" "),e.selectable?i("div",[i("fluro-icon",{staticClass:"tick-icon",attrs:{icon:"check"}})],1):e._e()])};r._withStripped=!0;var n=i(163),a=(i(22),{components:{FluroItemImage:n.a},props:{to:{type:[String,Object]},item:{type:Object},firstLine:{type:String},selectable:{type:Boolean,required:!1,default:!1},isSelected:{type:Boolean,default:!1}},methods:{clicked(){this.$emit("click",this.item)}},created(){this.to?this.componentType="router-link":this.componentType="div"},computed:{title(){if(this.item)return this.item.title},renderFirstLine(){if(this.firstLine&&this.firstLine.length)return this.firstLine;if(this.item)switch(this.item._type){case"event":return this.item.firstLine&&this.item.firstLine.length?`${this.$fluro.date.readableEventDate(this.item)} - ${this.item.firstLine}`:this.$fluro.date.readableEventDate(this.item);default:if(this.item.firstLine&&this.item.firstLine.length)return this.item.firstLine}}}}),o=(i(381),i(0)),s=Object(o.a)(a,r,[],!1,null,null,null);s.options.__file="src/components/ui/ListGroupItem.vue";t.a=s.exports},function(e,t,i){"use strict";i(7);var r=i(18),n={props:{minimum:{type:Number,default:0},maximum:{type:Number,default:0},allDefinitions:{type:Boolean},value:{type:Array,default:function(){return[]}}},data(){return{selectionMinimum:this.minimum,selectionMaximum:this.maximum}},created(){this.setSelection(this.value)},mixins:[r.a],watch:{minimum(e){this.selectionMinimum=Math.max(parseInt(e),0)},maximum(e){if(this.selectionMaximum=Math.max(parseInt(e),0),this.selectionMaximum&&this.value.length>this.selectionMaximum){var t=this.value.slice(0,this.selectionMaximum);this.setSelection(t)}},value:function(e){this.setSelection(e)},selection:function(e){this.$emit("input",e)}}},a=i(0),o=Object(a.a)(n,void 0,void 0,!1,null,null,null);o.options.__file="src/components/form/contentselect/FluroSelector.vue";t.a=o.exports},function(e,t,i){"use strict";var r,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-input",class:{active:e.searchFocussed||e.model.length}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"input",attrs:{placeholder:e.placeholder},domProps:{value:e.model},on:{focus:function(t){e.searchFocussed=!0},blur:function(t){e.searchFocussed=!1},input:function(t){t.target.composing||(e.model=t.target.value)}}}),e._v(" "),i("div",{staticClass:"search-icon",on:{click:function(t){return e.reset()}}},[e.model.length?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"search"}})],1)])};n._withStripped=!0;var a={props:{placeholder:{type:String,default:"Search by keyword"},value:{type:String,default:""},debounce:{type:Number,default:300}},data(){return{model:this.value,searchFocussed:!1}},watch:{model(){var e=this;r&&clearTimeout(r),r=setTimeout(()=>e.change(),e.debounce)},value(e){this.model=e}},methods:{change(){this.$emit("input",this.model)},reset(){this.model="",this.$emit("input","")}}},o=(i(259),i(0)),s=Object(o.a)(a,n,[],!1,null,null,null);s.options.__file="src/components/ui/SearchInput.vue";t.a=s.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return"print"!=this.context?t("fluro-avatar",{attrs:{md:"",id:this.data,type:this.row._type}}):this._e()};r._withStripped=!0;var n={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/AvatarCell.vue";t.a=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"filter-condition-row grid-list-sm",class:{mini:e.mini},attrs:{"pa-0":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm4:""}},[e.fields.length?[e.$vuetify.breakpoint.xsOnly?[i("v-select",{attrs:{"single-line":"",dense:"",loading:e.loadingKeys,"return-object":!0,"item-text":"title","item-value":"key",items:e.fields},model:{value:e.selectedKey,callback:function(t){e.selectedKey=t},expression:"selectedKey"}})]:[i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.keyCaption}},[i("v-autocomplete",{ref:"inputKey",attrs:{"single-line":"",dense:"",loading:e.loadingKeys,"return-object":!0,"item-text":"title","item-value":"key",items:e.groupedFields},scopedSlots:e._u([{key:"item",fn:function(t){return["object"!=typeof t.item?void 0:[e._v("\n                                    "+e._s(t.item.title)+"\n                                    ")]]}}],null,!1,1731569652),model:{value:e.selectedKey,callback:function(t){e.selectedKey=t},expression:"selectedKey"}})],1)]]:[i("v-text-field",{attrs:{"single-line":"",label:""},model:{value:e.model.key,callback:function(t){e.$set(e.model,"key",t)},expression:"model.key"}})]],2),e._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-select",{ref:"inputComparator",attrs:{"single-line":"",dense:"","item-text":"title","item-value":"operator",items:e.comparators},model:{value:e.model.comparator,callback:function(t){e.$set(e.model,"comparator",t)},expression:"model.comparator"}})],1),e._v(" "),e.comparator&&"none"!=e.inputType?["daterange"==e.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-menu",{ref:"dateSelection",attrs:{fixed:!0,right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({staticClass:"ma-0",attrs:{small:"",flat:"",block:""}},r),[i("fluro-icon",{attrs:{library:"far",icon:"calendar",left:""}}),e._v(" "+e._s(e.readableStartDate)+" - "+e._s(e.readableEndDate)+"\n                        ")],1)]}}],null,!1,3011863967)},[e._v(" "),i("v-card",[i("v-layout",[i("v-flex",[i("v-card-text",[i("label",[e._v(" ")]),e._v(" "),i("v-list",{attrs:{dense:""}},e._l(e.datePeriodOptions,(function(t){return i("v-list-tile",{key:t.value,on:{click:function(i){return e.selectDatePeriod(t)}}},[e._v("\n                                            "+e._s(t.title)+"\n                                        ")])})),1)],1)],1),e._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[e._v("From Date")])]),e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.startDateString,callback:function(t){e.startDateString=t},expression:"startDateString"}})],1),e._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[e._v("To Date")])]),e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.endDateString,callback:function(t){e.endDateString=t},expression:"endDateString"}})],1)],1)],1)],1)],1):"datemeasure"==e.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Total"},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})],1),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"",label:"Period","item-text":"title","item-value":"value",items:e.dateMeasures},model:{value:e.model.value2,callback:function(t){e.$set(e.model,"value2",t)},expression:"model.value2"}})],1)],1)],1):"range"==e.inputType?i("v-flex",{attrs:{xs12:"",sm5:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"from"},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})],1),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"to"},model:{value:e.model.value2,callback:function(t){e.$set(e.model,"value2",t)},expression:"model.value2"}})],1)],1)],1):"array"==e.inputType&&"date"!=e.dataType?i("v-flex",{attrs:{xs12:"",sm5:""}},[e.simpleKeyIsRealms?[i("fluro-realm-select",{attrs:{action:"view any",filterDiscriminator:e.discriminator,block:"",small:""},model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]:e.useBasicReferenceSelect?[i("fluro-content-select-button",{attrs:{small:"",block:"",allDefinitions:!0,type:e.useBasicReferenceSelect},model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]:[e.referenceSelectField?[e.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:e.loadingValues,items:e.cleanedValueSelection},scopedSlots:e._u([{key:"item",fn:function(t){return["event"==t.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[e._v(e._s(t.item.title))]),e._v(" "),i("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(t.item)))])])]:[e._v("\n                                        "+e._s(t.item.title)+"\n                                    ")]]}}],null,!1,1211652998),model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:e.loadingValues,items:e.cleanedValueSelection},scopedSlots:e._u([{key:"item",fn:function(t){return["event"==t.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[e._v(e._s(t.item.title))]),e._v(" "),i("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(t.item)))])])]:[e._v("\n                                        "+e._s(t.item.title)+"\n                                    ")]]}}],null,!1,1211652998),model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]]:[e.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{multiple:"",dense:"",loading:e.loadingValues,items:e.cleanedValueSelection},model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{multiple:"",dense:"",loading:e.loadingValues,items:e.cleanedValueSelection},model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})]]]],2):i("v-flex",{attrs:{xs12:"",sm5:""}},["date"==e.dataType?["datesameweekday"==e.model.comparator?[i("div",[i("v-select",{attrs:{"single-line":"",multiple:"",dense:"","item-text":"title","item-value":"value",items:e.weekdays},model:{value:e.model.values,callback:function(t){e.$set(e.model,"values",t)},expression:"model.values"}})],1)]:[i("div",[i("v-menu",{ref:"date1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[e.model.computedValue&&e.model.computedValue.length?[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Relative Date"},model:{value:e.model.computedValue,callback:function(t){e.$set(e.model,"computedValue",t)},expression:"model.computedValue"}})]:[i("v-text-field",e._g({staticClass:"small-input",attrs:{"single-line":"",label:"Date",placeholder:e.model.computedValue},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}},r))]]}}],null,!1,183020790),model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}},[e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}},[i("v-spacer"),e._v(" "),i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"Relative Date"},model:{value:e.model.computedValue,callback:function(t){e.$set(e.model,"computedValue",t)},expression:"model.computedValue"}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.date1=!1}}},[e._v("Cancel")]),e._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.date1.save(e.model.value)}}},[e._v("OK")])],1)],1)],1)]]:"number"==e.dataType||"float"==e.dataType||"decimal"==e.dataType?i("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}}):"integer"==e.dataType?i("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",mask:"############"},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}}):e.useBasicReferenceSelect?[i("fluro-content-select-button",{attrs:{small:"",block:"",allDefinitions:!0,maximum:1,"single-value":!0,type:e.useBasicReferenceSelect},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]:e.referenceSelectField?[e.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:e.loadingValues,items:e.cleanedValueSelection},scopedSlots:e._u([{key:"item",fn:function(t){return["event"==t.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[e._v(e._s(t.item.title))]),e._v(" "),i("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(t.item)))])])]:[e._v("\n                                    "+e._s(t.item.title)+"\n                                ")]]}}],null,!1,1639746182),model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:e.loadingValues,items:e.cleanedValueSelection},scopedSlots:e._u([{key:"item",fn:function(t){return["event"==t.item._type?[i("v-list-tile-content",{staticClass:"border-bottom",staticStyle:{height:"50px"}},[i("strong",[e._v(e._s(t.item.title))]),e._v(" "),i("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(t.item)))])])]:[e._v("\n                                    "+e._s(t.item.title)+"\n                                ")]]}}],null,!1,1639746182),model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]]:[e.requiresManualInput?[i("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]:[e.$vuetify.breakpoint.xsOnly?[i("v-select",{staticClass:"small-input",attrs:{dense:"",loading:e.loadingValues,items:e.cleanedValueSelection},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]:[i("v-autocomplete",{staticClass:"small-input",attrs:{dense:"",loading:e.loadingValues,items:e.cleanedValueSelection},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}})]]]],2)]:e._e()],2),e._v(" "),e.hasSubFields?[e.model.criteria&&e.model.criteria.length?i("div",{staticClass:"subfields"},[i("v-input",{staticClass:"no-flex"},[i("v-label",[e._v(e._s(e.selector.subfieldTitle))]),e._v(" "),e._l(e.model.criteria,(function(t,r){return i("v-layout",[i("v-flex",[i("filter-condition-row",{attrs:{type:e.type,definition:e.definition,fields:e.selector.subfields,mini:e.mini},model:{value:e.model.criteria[r],callback:function(t){e.$set(e.model.criteria,r,t)},expression:"model.criteria[index]"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",flat:"",color:"error",icon:""},on:{click:function(t){return e.removeCriteria(r)}}},[i("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)}))],2)],1):e._e(),e._v(" "),i("v-btn",{staticClass:"ml-0",attrs:{small:""},on:{click:function(t){return e.addCriteriaRow()}}},[e._v("\n            Add criteria\n            "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)]:e._e()],2)};r._withStripped=!0;var n=i(4),a=i(19),o=i(17),s={components:{FluroRealmSelect:a.default,FluroContentSelectButton:o.default},props:{type:{type:String},useSample:{type:Boolean},loadingKeys:{type:Boolean},value:{type:Object,required:!0},fields:{type:Array,default:()=>[]},definition:{type:Object,default:()=>({})},rows:{type:Array},mini:{type:Boolean}},beforeCreate:function(){this.$options.components.FilterConditionRow=i(51).default,this.$options.components.FilterConditionGroup=i(27).default},created(){var e=this;e.debounced=_.debounce((function(){e.$emit("input",e.model)}),e.debounce),this.retrieveValues()},data(){var e=[],t=6048e5,i=new Date;e.push({title:"Next 6 Weeks",date1:i,date2:new Date((new Date).setTime((new Date).getTime()+6*t))}),e.push({title:"Next 2 Weeks",date1:i,date2:new Date((new Date).setTime((new Date).getTime()+2*t))}),e.push({title:"Last 2 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-2*t)),date2:i}),e.push({title:"Last 6 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-4*t)),date2:i});var r=JSON.parse(JSON.stringify(this.value));return{sampleRefreshKey:this.$fluro.utils.guid(),datePeriodOptions:e,debounced:null,debounce:0,possibleValues:[],date1:!1,date2:!1,loadingValues:!1,selectedKey:r.key||"",model:r,referenceIDModel:r.value,realmValues:[]}},computed:{dateMeasures:()=>[{title:"Hours",value:"hour"},{title:"Days",value:"day"},{title:"Weeks",value:"week"},{title:"Months",value:"month"},{title:"Years",value:"year"}],referenceID:{get(){return this.referenceIDModel},set(e){this.model.value=this.$fluro.utils.getStringID(e),this.referenceIDModel=e}},referenceSelectField(){return"reference"==this.dataType&&!this.requiresManualInput},useBasicReferenceSelect(){if(this.referenceSelectField&&this.selector)return this.selector.typeSelect||!1},keyCaption(){return this.model.title?this.model.title:this.selectedKey?this.selectedKey.title||this.selectedKey:"Select a field"},cleanedValueSelection(){return _.map(this.possibleValues,(function(e){return _.isString(e)?{text:e,value:e}:(e.title&&(e.text=e.title=e.title),e.name&&(e.text=e.title=e.name),e)}))},hasSubFields(){return this.selector&&this.selector.subfields&&this.selector.subfields.length},groupedFields(){return _.chain(this.fields).orderBy("title").value()},simpleKey(){return String(this.model.key).split("|")[0]},simpleKeyIsRealms(){return _.endsWith(this.simpleKey,"realms")},weeks(){var e=[];return _.times(52,(function(t){e.push({title:"Week "+t,value:t})})),e},months(){var e=(new Date).getFullYear();return[{title:"January",value:new Date(e,1,1)},{title:"February",value:new Date(e,2,1)},{title:"March",value:new Date(e,3,1)},{title:"April",value:new Date(e,4,1)},{title:"May",value:new Date(e,5,1)},{title:"June",value:new Date(e,6,1)},{title:"July",value:new Date(e,7,1)},{title:"August",value:new Date(e,8,1)},{title:"September",value:new Date(e,9,1)},{title:"October",value:new Date(e,0,1)},{title:"November",value:new Date(e,1,11)},{title:"December",value:new Date(e,1,12)}]},weekdays:()=>[{title:"Sunday",value:0},{title:"Monday",value:1},{title:"Tuesday",value:2},{title:"Wednesday",value:3},{title:"Thursday",value:4},{title:"Friday",value:5},{title:"Saturday",value:6}],readableStartDate(){return this.$fluro.date.formatDate(this.model.value,"D MMM YYYY")},readableEndDate(){return this.$fluro.date.formatDate(this.model.value2,"D MMM YYYY")},startDateString:{get(){return this.model.value?new Date(this.model.value).toISOString().substr(0,10):""},set(e){console.log("Set the value"),this.$set(this.model,"value",new Date(e))}},endDateString:{get(){return this.model.value2?new Date(this.model.value2).toISOString().substr(0,10):""},set(e){this.$set(this.model,"value2",new Date(e))}},requiresManualInput(){switch(this.model.comparator){case"startswith":case"endswith":case"doesnotstartwith":case"doesnotendwith":case"like":case"contains":case"excludes":return!0}},rowChangeString(){return this.useSample?`${this.sampleRefreshKey}-${this.type}-${this.model.key}`:`${this.discriminatorDefinition}-${this.discriminatorType}${this.discriminator}-${this.model.key}-${_.orderBy(this.$fluro.utils.arrayIDs(this.rows),(function(e){return e})).toString()}`},selector(){var e=this.model.key;if(this.fields)return _.find(this.fields,{key:e})},valid(){return n.FilterService.isValidFilter(this.model)},comparator(){return n.FilterService.comparatorLookup[this.model.comparator]},inputType(){return this.comparator?this.comparator.inputType:null},dataType(){return this.selector&&this.selector.type||"string"},discriminatorType(){return this.selector?this.selector._discriminatorType:void 0},discriminatorDefinition(){return this.selector?this.selector._discriminatorDefinition:void 0},discriminator(){return this.selector?this.selector._discriminator:void 0},comparators(){var e="string";return this.selector&&(e=this.selector.type||"string"),n.FilterService.getComparatorsForType(e)}},watch:{dataType(e){e?this.$set(this.model,"dataType",e):this.$set(this.model,"dataType",null),this.$set(this.model,"comparator",null),this.$set(this.model,"value",null),this.$set(this.model,"value2",null),this.$set(this.model,"values",[])},selectedKey(e){e?(this.$set(this.model,"title",e.title),this.model.key=e.key):(this.$set(this.model,"title",null),this.$set(this.model,"dataType",null),this.model.key=null),this.$set(this.model,"value",null),this.$set(this.model,"value2",null),this.$set(this.model,"values",[])},selector(){this.selector?this.model.key=this.selector.key:this.model.key=""},model:{handler:function(){this.debounced()},deep:!0},rowChangeString(e){this.retrieveValues()}},methods:{addCriteriaRow(){var e={key:null,value:null,value2:null,values:[]};this.model.criteria?this.model.criteria.push(e):this.$set(this.model,"criteria",[e])},removeCriteria(e){this.model.criteria.splice(e,1)},selectDatePeriod(e){this.model.value=e.date1,this.model.value2=e.date2},retrieveValues(){var e=this,t=e.model.key;if(console.log("RETRIEVE VALUES",t),e.useBasicReferenceSelect)return e.possibleValues=[],e.loadingValues=!1,void console.log("Use basic reference select");if(!t||!t.length)return e.possibleValues=[],e.loadingValues=!1,void console.log("No key");if(e.selector&&e.selector.options&&e.selector.options.length)return e.possibleValues=e.selector.options,e.loadingValues=!1,void console.log("has options");switch(e.dataType){case"date":case"number":case"float":case"integer":case"decimal":return e.possibleValues=[];case"boolean":return e.possibleValues=[!0,!1];default:switch(t){case"definition":if(e.definition&&e.definition.definitions)return e.possibleValues=_.map(e.definition.definitions,(function(e){return{text:e.title,value:e.definitionName}}));break;case"status":switch(_.get(e,"definition.type.definitionName")){case"contact":return e.possibleValues=["active","draft","archived","deceased"];case"purchase":return e.possibleValues=["active","cancelled","expired","failed","archived"];default:return e.possibleValues=["active","draft","archived","template"]}break;case"gender":return e.possibleValues=["male","female","unknown"]}}if(!(e.useSample||e.rows&&e.rows.length))return e.possibleValues=[],void(this.loadingValues=!1);this.loadingValues=!0;var i=this.$fluro.cache.get("filter-distinct-values"),r=i[e.rowChangeString];if(!r)if(console.log("No value cache! Load it now"),_.some(e.rows,(function(e){return e.hasOwnProperty(t)})))e.possibleValues=_.chain(e.rows).map(t).flatten().compact().uniqBy((function(e){return e.title||e.name||String(e)})).orderBy((function(e){return e.title||e.name||String(e)})).value(),r=i[e.rowChangeString]=Promise.resolve(e.possibleValues),console.log("We Already have the key of",t);else{var n=e.$fluro.utils.arrayIDs(e.rows),a={};"reference"==e.dataType&&(a.params||(a.params={}),a.params.populate=!0);var o=e.discriminatorDefinition;o&&o.length&&(a.params||(a.params={}),a.params.definition=o);var s=e.discriminatorType;s&&s.length&&(a.params||(a.params={}),a.params.discriminatorType=s);var l=e.discriminator;l&&l.length&&(a.params||(a.params={}),a.params.discriminator=l),e.definition&&e.definition.type&&(a.type=e.definition.type.definitionName),r=i[e.rowChangeString]=e.$fluro.content.values(n,t,a)}r.then((function(t){e.possibleValues=t&&t.length?t:e.possibleValues||[],e.loadingValues=!1}),(function(t){e.possibleValues=[],e.loadingValues=!1,i[e.rowChangeString]=null}))}}},l=(i(350),i(0)),c=Object(l.a)(s,r,[],!1,null,"3e7d1456",null);c.options.__file="src/components/form/filters/FilterConditionRow.vue";t.default=c.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("div",e._g({staticClass:"fluro-status-select"},r),[i("fluro-status-label",{attrs:{value:e.value}})],1)]}}])},[e._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},e._l(e.options,(function(t){return i("v-list-tile",{on:{click:function(i){return e.setStatus(t)}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                        "+e._s(t)+"\n                    ")])],1)],1)})),1)],1)],1)};r._withStripped=!0;var n={components:{FluroStatusLabel:i(41).a},props:{value:{type:String,default:()=>"active"},type:{type:String}},data(){return{status:this.value}},methods:{setStatus(e){this.status=e,this.$emit("input",e)}},computed:{options(){var e=[];switch(this.type){case"purchase":e.push("active"),e.push("cancelled"),e.push("expired");break;case"account":e.push("active"),e.push("cancelled"),e.push("onhold"),e.push("exempt"),e.push("trial");break;case"plan":e.push("active"),e.push("draft"),e.push("archived"),e.push("template");break;default:e.push("active"),e.push("draft"),e.push("archived")}return e}}},a=(i(360),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/form/FluroStatusSelect.vue";t.a=o.exports},function(e,t,i){var r=i(204);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("e43ff1d6",r,!1,{})},function(e,t,i){var r=i(206);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("9fe0cc3c",r,!1,{})},function(e,t,i){var r=i(208);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("682d7cb3",r,!1,{})},function(e,t,i){var r=i(210);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ea259e9a",r,!1,{})},function(e,t,i){var r=i(212);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("a1b76668",r,!1,{})},function(e,t,i){var r=i(214);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("71406df5",r,!1,{})},function(e,t,i){var r=i(230);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("21be34c5",r,!1,{})},function(e,t,i){var r=i(232);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("622c1346",r,!1,{})},function(e,t,i){var r=i(234);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("c1396fa0",r,!1,{})},function(e,t,i){var r=i(236);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1dc0afc5",r,!1,{})},function(e,t,i){var r=i(238);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7228d93a",r,!1,{})},function(e,t,i){var r=i(240);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("043fb58d",r,!1,{})},function(e,t,i){var r=i(242);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("0f2a2202",r,!1,{})},function(e,t,i){var r=i(244);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ff2bb750",r,!1,{})},function(e,t,i){var r=i(246);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("f534a428",r,!1,{})},function(e,t,i){var r=i(248);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("3bd1403e",r,!1,{})},function(e,t,i){var r=i(250);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("2008aaf4",r,!1,{})},function(e,t,i){var r=i(252);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("785aba44",r,!1,{})},function(e,t,i){var r=i(254);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("4bfdaca8",r,!1,{})},function(e,t,i){var r=i(256);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("d82ae4f8",r,!1,{})},function(e,t,i){var r=i(258);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("497ba98d",r,!1,{})},function(e,t,i){var r=i(260);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("88d2300a",r,!1,{})},function(e,t,i){"use strict";var r=i(4);t.a={props:{changeKey:{type:[String,Number]},filterConfig:{type:Object,default:()=>({operator:"and",filters:[]})},lockFilter:{type:Object},allDefinitions:{type:Boolean,default:!1},searchInheritable:{type:Boolean,default:!1},includeArchivedByDefault:{type:Boolean},search:{type:String},startDate:{type:Date},endDate:{type:Date},dataType:{type:String},defaultSort:{type:String},defaultSortType:{type:String},defaultSortDirection:{type:String},initSort:{type:Object,default(){return{key:this.defaultSort,direction:this.defaultSortDirection,type:this.defaultSortType}}}},data(){return{cacheKey:null,all:[],rows:[],groupingColumn:null,debouncedSearch:this.search,loadingItems:!0,sort:JSON.parse(JSON.stringify(this.initSort))}},watch:{changeKey(){this.reload()},search:_.debounce((function(e){this.debouncedSearch=e}),500),reloadRequired:{immediate:!0,handler:_.debounce((function(e){this.reload()}),500)}},methods:{updateCacheKey(){this.cacheKey=this.$fluro.global.CACHE_KEY},reload(){var e=this;e.loadingItems=!0;var t=e.sort,i=JSON.parse(JSON.stringify(e.filterConfig));this.lockFilter&&("and"==i.operator?i.filters.push(this.lockFilter):i=this.lockFilter.filters.push(i),console.log("LOCK FILTER CHECK",i));var r={sort:t,filter:i,search:e.debouncedSearch,includeArchived:e.includeArchived,allDefinitions:e.allDefinitions,searchInheritable:e.searchInheritable,includeUnmatched:!0,groupingColumn:e.groupingColumn?e.groupingColumn.key:void 0};return this.select&&(r.select=this.select),this.populateAll&&(r.populateAll=this.populateAll),e.startDate&&(r.startDate=new Date(e.startDate)),e.endDate&&(r.endDate=new Date(e.endDate)),r.timezone=e.$fluro.date.defaultTimezone,e.$fluro.api.post(`/content/${e.dataType}/filter`,r).then((function(t){e.all=t.data,e.$emit("raw",e.all),e.rows=_.filter(t.data,{_matched:!0}),e.$emit("filtered",e.rows),e.setPage&&e.setPage(1),e.loadingItems=!1})).catch((function(t){e.loadingItems=!1,e.rows=[],e.$emit("filtered",e.rows),e.all=[],e.$emit("raw",e.all),e.setPage&&e.setPage(1),e.$fluro.api.axios.isCancel(t)}))}},computed:{includeArchived(){return this.includeArchivedByDefault},reloadRequired(){return`${this.cacheKey}-${this.dataType}-${this.filterCheckString} ${this.dateWatchString} ${this.sort.sortKey} ${this.sort.sortDirection} ${this.sort.sortType} ${this.groupingColumn?this.groupingColumn.key:""}  ${this.debouncedSearch}`},activeFilters(){return r.FilterService.activeFilters(this.filterConfig)},activeFilterRows(){return _.filter(this.activeFilters,(function(e){return e.comparator&&e.comparator.length}))},activeFilterKeys(){return r.FilterService.activeFilterKeys(this.filterConfig)},activeFilterValues(){return r.FilterService.activeFilterValues(this.filterConfig)},activeFilterComparators(){return r.FilterService.activeFilterComparators(this.filterConfig)},activeFilterOperators(){return r.FilterService.activeFilterComparators(this.filterConfig)},filterCheckString(){return r.FilterService.getFilterChangeString(this.filterConfig)},dateWatchString(){if(this.startDate&&this.endDate){var e=new Date(this.startDate);e.setHours(0,0,0,0);var t=new Date(this.endDate);return t.setHours(0,0,0,0),`${e.getTime()} ${t.getTime()}`}}},created(){this.$fluro.addEventListener("cache.reset",this.updateCacheKey)},beforeDestroy(){this.$fluro.removeEventListener("cache.reset",this.updateCacheKey)}}},function(e,t,i){var r=i(262);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("544d2a9d",r,!1,{})},function(e,t,i){var r=i(264);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1182e690",r,!1,{})},function(e,t,i){var r=i(266);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("a7646b44",r,!1,{})},function(e,t,i){var r=i(268);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7b18c58e",r,!1,{})},function(e,t,i){var r=i(270);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("2d8327f6",r,!1,{})},function(e,t,i){var r=i(272);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("2417790d",r,!1,{})},function(e,t,i){var r=i(274);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("6f2af2f4",r,!1,{})},function(e,t,i){var r=i(276);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("26bdc176",r,!1,{})},function(e,t,i){var r=i(278);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ca4b1ef6",r,!1,{})},function(e,t,i){var r=i(280);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("8b2e222a",r,!1,{})},function(e,t,i){var r=i(282);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("0e5f0306",r,!1,{})},function(e,t,i){var r=i(284);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("753aed72",r,!1,{})},function(e,t,i){var r=i(286);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1f5969de",r,!1,{})},function(e,t,i){var r=i(288);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("23ab5295",r,!1,{})},function(e,t,i){var r=i(290);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1b90b89f",r,!1,{})},function(e,t,i){var r=i(292);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("356b3e9e",r,!1,{})},function(e,t,i){var r=i(294);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("32515d5d",r,!1,{})},function(e,t,i){var r=i(296);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("8cacca64",r,!1,{})},function(e,t,i){var r=i(298);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1f5620bc",r,!1,{})},function(e,t,i){var r=i(325);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1a4a8db9",r,!1,{})},function(e,t,i){var r=i(327);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("0dcf6840",r,!1,{})},function(e,t,i){var r=i(329);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("4dbd4c06",r,!1,{})},function(e,t,i){var r=i(331);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("f7f89334",r,!1,{})},function(e,t,i){var r=i(333);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("564f2dcb",r,!1,{})},function(e,t,i){var r=i(335);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("40a0e360",r,!1,{})},function(e,t,i){var r=i(337);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("28749802",r,!1,{})},function(e,t,i){var r=i(339);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("5a8faf94",r,!1,{})},function(e,t,i){var r=i(341);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7499ce00",r,!1,{})},function(e,t,i){var r=i(343);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("2efb99ed",r,!1,{})},function(e,t,i){var r=i(345);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("5eda179d",r,!1,{})},function(e,t,i){var r=i(347);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("51ff4778",r,!1,{})},function(e,t,i){var r=i(349);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("a6cdfbee",r,!1,{})},function(e,t,i){var r=i(351);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("390bfb88",r,!1,{})},function(e,t,i){var r=i(353);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("75549b90",r,!1,{})},function(e,t,i){var r=i(355);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("31fd6556",r,!1,{})},function(e,t,i){var r=i(357);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("676cd505",r,!1,{})},function(e,t,i){var r=i(359);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1c2d77e3",r,!1,{})},function(e,t,i){var r=i(361);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("2272d7db",r,!1,{})},function(e,t,i){var r=i(363);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("d8f34b98",r,!1,{})},function(e,t,i){var r=i(366);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("07bd8b90",r,!1,{})},function(e,t,i){var r=i(368);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("664de23c",r,!1,{})},function(e,t,i){var r=i(378);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("21f32862",r,!1,{})},function(e,t,i){var r=i(380);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("34247a79",r,!1,{})},function(e,t,i){var r=i(382);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("5898b442",r,!1,{})},function(e,t,i){var r=i(384);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7435631d",r,!1,{})},function(e,t,i){var r=i(386);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("dff33512",r,!1,{})},function(e,t,i){var r=i(388);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("33d59658",r,!1,{})},function(e,t,i){var r=i(390);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("01fc24a0",r,!1,{})},function(e,t,i){var r=i(392);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("273a67cc",r,!1,{})},function(e,t,i){var r=i(395);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7b905699",r,!1,{})},function(e,t,i){var r=i(397);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("5ef1eec8",r,!1,{})},function(e,t,i){var r=i(399);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("20ebf788",r,!1,{})},function(e,t,i){var r=i(401);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("10533f38",r,!1,{})},function(e,t,i){var r=i(403);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("6741bab4",r,!1,{})},function(e,t,i){var r=i(405);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ba6846f4",r,!1,{})},function(e,t,i){var r=i(407);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("b2c59360",r,!1,{})},function(e,t,i){var r=i(409);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1026577a",r,!1,{})},function(e,t,i){var r=i(411);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ae22642a",r,!1,{})},function(e,t,i){var r=i(413);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("0f36098b",r,!1,{})},function(e,t,i){var r=i(415);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("76d51e01",r,!1,{})},function(e,t,i){var r=i(417);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("06cf9ec6",r,!1,{})},function(e,t,i){var r=i(419);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("db74705a",r,!1,{})},function(e,t,i){var r=i(421);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("9695306e",r,!1,{})},function(e,t,i){var r=i(423);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("d7202546",r,!1,{})},function(e,t,i){var r=i(425);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("33856b83",r,!1,{})},function(e,t,i){var r=i(427);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1a4518d6",r,!1,{})},function(e,t,i){var r=i(429);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("dcf9e8f6",r,!1,{})},function(e,t,i){var r=i(431);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("09f7dbc7",r,!1,{})},function(e,t,i){var r=i(433);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("6ba5f41d",r,!1,{})},function(e,t,i){var r=i(435);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("df11bed6",r,!1,{})},function(e,t,i){var r=i(437);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("ddee808e",r,!1,{})},function(e,t,i){var r=i(439);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("e2e4270e",r,!1,{})},function(e,t,i){var r=i(441);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("7ff75ea3",r,!1,{})},function(e,t,i){var r=i(443);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("b4fec762",r,!1,{})},function(e,t,i){var r=i(445);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("51427e8f",r,!1,{})},function(e,t,i){var r=i(447);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("79413e6d",r,!1,{})},function(e,t,i){var r=i(449);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("1395c383",r,!1,{})},function(e,t,i){var r=i(451);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("8bdc4e0e",r,!1,{})},function(e,t,i){var r=i(453);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("fa27a9ba",r,!1,{})},function(e,t,i){var r=i(455);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("0277637a",r,!1,{})},function(e,t,i){var r=i(457);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("669f853a",r,!1,{})},function(e,t,i){var r=i(459);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("800d13e8",r,!1,{})},function(e,t,i){var r=i(461);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,i(3).default)("b717cce2",r,!1,{})},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"infinite-scroll-container"},e._l(e.availablePages,(function(t,r){return r<=e.limit?i("div",{attrs:{index:r}},[e._t("default",null,{page:t})],2):e._e()})),0)};r._withStripped=!0;var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"infinite-page",attrs:{id:"page-"+this.index}},[this._t("default",null,{page:this.page})],2)};n._withStripped=!0;var a={props:{page:{required:!0},index:{required:!0}},data:()=>({active:!0}),computed:{pageID(){return"page-"+this.index}}},o=i(0),s=Object(o.a)(a,n,[],!1,null,"9db7a99e",null);s.options.__file="src/components/ui/FluroInfiniteScrollPage.vue";var l={components:{FluroInfinitePage:s.exports},props:{items:{type:Array,default:function(){return[]}},perPage:{type:Number,default:4},buffer:{type:Number,default:3},scrollParent:{default:()=>({})}},data:()=>({currentIndex:0,parentElement:null}),destroyed(){this.parentElement.removeEventListener("scroll",this.updateScroll)},mounted(){this.parentElement=this.$el.closest("[scroll-parent]")||this.$el.closest("body");this.parentElement.addEventListener("scroll",this.updateScroll)},computed:{availablePages(){return _.chunk(this.items,this.perPage)},total(){return this.availablePages.length},limit(){return this.currentIndex+this.buffer},currentPage:{get(){return this.currentIndex},set(e){e=Math.max(e,0),e=Math.min(e,this.total-1),this.currentIndex=e,console.log("PAGE",e)}}},methods:{hitBuffer:(e,t,i)=>Math.abs(e-t)<i,updateScroll(){var e=this.parentElement.scrollHeight,t=this.parentElement.scrollTop,i=this.parentElement.clientHeight,r=e-i;return this.hitBuffer(t,r,i/2)?this.hitBottom():this.hitBuffer(t,0,i/2)?this.hitTop():void 0},hitTop(){this.currentPage--},hitBottom(){this.currentPage++}}},c=(i(211),Object(o.a)(l,r,[],!1,null,"7186edfc",null));c.options.__file="src/components/ui/FluroInfiniteScroll.vue";t.a=c.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"number-cell-text",class:{muted:this.empty}},[this._v("\n    "+this._s(this.data)+"\n    ")])};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}},computed:{empty(){if(0==parseInt(this.data))return!0}}},a=(i(249),i(0)),o=Object(a.a)(n,r,[],!1,null,"2ff72b1a",null);o.options.__file="src/components/table/cells/NumberCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"boolean-cell text-xs-center",class:{true:this.booleanTrue,false:!this.booleanTrue}},[this.booleanTrue?t("fluro-icon",{attrs:{library:"fas",icon:"check-circle"}}):t("fluro-icon",{attrs:{library:"far",icon:"times"}})],1)};r._withStripped=!0;var n={props:{row:{type:Object},column:{type:Object},data:{}},computed:{booleanTrue(){if(!_.isString(this.data))return!!this.data;switch(String(this.data).toLowerCase()){case"true":case"y":case"yes":return!0;case"false":case"null":case"undefined":case"n":case"no":case"":return}}}},a=(i(251),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/table/cells/BooleanCell.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-table-wrapper"},[e.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):e._e(),e._v(" "),e.showLoading||e.page.length?[i("div",{ref:"scrollableArea",staticClass:"fluro-table-scroll",class:{clickable:e.clickable,loading:e.showLoading}},[i("span",{ref:"top"}),e._v(" "),i("table",{staticClass:"fluro-table-main no-select"},[i("thead",[i("tr",[e.selectionEnabled?i("th",{staticClass:"first shrink checkbox-cell"},[i("v-menu",{attrs:{attach:"","offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("div",e._g({},r),[i("table-header-checkbox",{tag:"div",attrs:{all:e.allSelected,some:e.someSelected}})],1)]}}],null,!1,3536504858)},[e._v(" "),i("v-card",{staticClass:"select-options",attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[e.allSelected?e._e():i("v-list-tile",{on:{click:function(t){return e.selectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                       Select this page\n                                                   ")])],1)],1),e._v(" "),e.someSelected?i("v-list-tile",{on:{click:function(t){return e.deselectPage()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                       Deselect this page\n                                                   ")])],1)],1):e._e(),e._v(" "),e.filteredTotal?i("v-list-tile",{on:{click:function(t){return e.selectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                       Select all "+e._s(e.filteredTotal)+" items\n                                                   ")])],1)],1):e._e(),e._v(" "),e.selectionController.selection.length?i("v-list-tile",{on:{click:function(t){return e.deselectAll()}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                       Deselect all "+e._s(e.filteredTotal)+" items\n                                                   ")])],1)],1):e._e()],1)],1)],1)],1):e._e(),e._v(" "),e._l(e.renderColumns,(function(t){return i("th",{class:{shrink:t.shrink,sortable:e.isSortable(t),sorting:e.sort.sortKey==t.key,"text-xs-center":"center"==t.align,"text-xs-right":"right"==t.align},on:{contextmenu:function(i){return i.preventDefault(),e.showOptionsForColumn(t)},click:function(i){return e.toggleSort(t)}}},[t.icon?[i("fluro-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.title,library:"fas",icon:t.icon}})]:[e.isActiveSort(t.key)?i("div",{staticClass:"sort-icon"},["desc"==e.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-down"}}):e._e(),e._v(" "),"asc"==e.sort.sortDirection?i("fluro-icon",{attrs:{library:"fas",icon:"caret-up"}}):e._e()],1):e._e(),e._v("\n                                   "+e._s(t.title)+"\n                               ")]],2)})),e._v(" "),i("th",{staticClass:"last shrink"},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("div",e._g({},r),[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{content:"Table Settings",small:"",icon:""}},[i("fluro-icon",{attrs:{icon:"cog"}})],1)],1)]}}])},[e._v(" "),i("v-card",{attrs:{tile:""}},[e._t("optionsabove"),e._v(" "),e.availableKeys.length?i("v-container",[i("v-autocomplete",{attrs:{label:"Group rows by",items:e.availableGroupingKeys,"return-object":!0,"item-text":"title"},on:{change:e.toggleColumnGrouping}})],1):e._e(),e._v(" "),i("v-container",{staticClass:"border-top border-bottom"},[i("strong",[e._v("Select Columns")])]),e._v(" "),i("v-list",{staticClass:"scroll-y",staticStyle:{"max-height":"50vh"},attrs:{dense:""}},e._l(e.availableKeys,(function(t){return i("v-list-tile",{class:{columnselected:e.columnIsSelected(t)},on:{click:function(i){return e.toggleColumn(t)}}},[i("v-list-tile-action",[e.columnIsSelected(t)?i("fluro-icon",{attrs:{icon:"check"}}):e._e()],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                       "+e._s(t.title)+"\n                                                   ")])],1)],1)})),1),e._v(" "),e._t("optionsbelow")],2)],1)],1)],2)]),e._v(" "),i("tbody",[e.grouped?[e._l(e.grouped,(function(t){return[i("tr",{staticClass:"breaker"},[i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:e.allInGroupSelected(t.items)},nativeOn:{click:function(i){return e.toggleSet(t.items)}}}),e._v(" "),i("td",{attrs:{colspan:1+e.renderColumns.length}},[e._v(e._s(t.title||"No value")+" "),i("span",{staticClass:"sm muted"},[e._v("("+e._s(t.items.length)+")")])])],1),e._v(" "),e._l(t.items,(function(t,r){return i("tr",{key:t.guid,class:e.classes(t)},[t._populating?[e.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first"}):e._e(),e._v(" "),i("td",{attrs:{colspan:e.renderColumns.length},nativeOn:{click:function(i){return e.clicked(t,e.column,r)}}},[e._v("-")]),e._v(" "),e.actionsEnabled?i("th",{staticClass:"last shrink"}):e._e()]:[e.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:e.selectionController.isSelected(t),value:t},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.checkboxClick(t,i,r)}}}):e._e(),e._v(" "),e._l(e.renderColumns,(function(n){return i("table-cell",{class:{sorting:e.sort.sortKey==n.key},attrs:{row:t,column:n},nativeOn:{click:function(i){return e.clicked(t,n,r)}}})})),e._v(" "),e.actionsEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):e._e()]],2)}))]}))]:e._l(e.page,(function(t,r){return i("tr",{key:t.guid,class:e.classes(t)},[t._populating?[e.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first"}):e._e(),e._v(" "),i("td",{attrs:{colspan:e.renderColumns.length},nativeOn:{click:function(i){return e.clicked(t,e.column,r)}}},[e._v("-")]),e._v(" "),e.actionsEnabled?i("th",{staticClass:"last shrink"}):e._e()]:[e.selectionEnabled?i("table-row-checkbox",{tag:"th",staticClass:"first",attrs:{checked:e.selectionController.isSelected(t),value:t},nativeOn:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.checkboxClick(t,i,r)}}}):e._e(),e._v(" "),e._l(e.renderColumns,(function(n){return i("table-cell",{class:{sorting:e.sort.sortKey==n.key},attrs:{row:t,column:n},nativeOn:{click:function(i){return e.clicked(t,n,r)}}})})),e._v(" "),e.actionsEnabled?i("th",{staticClass:"last shrink"},[i("div",{staticClass:"action-buttons"},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)]):e._e()]],2)}))],2)])]),e._v(" "),i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[e.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[i("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("div",e._g({},r),[e.groupingColumn?i("div",[e._v("\n                                           "+e._s(e.totalGroups)+" groups - Showing "+e._s(e._f("numberWithCommas")(e.startOffset+1))+" to "+e._s(e._f("numberWithCommas")(e.endOffset))+" of "+e._s(e._f("numberWithCommas")(e.filteredTotal))+" rows\n                                       ")]):i("div",[e._v("\n                                           "+e._s(e._f("numberWithCommas")(e.startOffset+1))+" to "+e._s(e._f("numberWithCommas")(e.endOffset))+" of "+e._s(e._f("numberWithCommas")(e.filteredTotal))+" "+e._s(e.plural)+"\n                                       ")])])]}}])},[e._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(t){e.perPage=25}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                   Show 25 per page\n                                               ")])],1)],1),e._v(" "),i("v-list-tile",{on:{click:function(t){e.perPage=50}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                   Show 50 per page\n                                               ")])],1)],1),e._v(" "),i("v-list-tile",{on:{click:function(t){e.perPage=100}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                   Show 100 per page\n                                               ")])],1)],1),e._v(" "),i("v-list-tile",{on:{click:function(t){e.perPage=200}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                   Show 250 per page\n                                               ")])],1)],1),e._v(" "),i("v-list-tile",{on:{click:function(t){e.perPage=500}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                   Show 500 per page\n                                               ")])],1)],1)],1)],1)],1)],1),e._v(" "),i("v-flex",{staticClass:"text-xs-right",staticStyle:{"white-space":"nowrap"},attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[i("div",{staticClass:"pagenumber-select"},[e.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[e._v("Page "+e._s(e.currentPage)+" of "+e._s(e.totalPages))]):e._e(),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.currentPage,expression:"currentPage"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.currentPage=t.target.multiple?i:i[0]}}},e._l(e.availablePages,(function(t,r){return i("option",{domProps:{value:r+1}},[e._v(e._s(r+1))])})),0)]),e._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],e._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[e._v("\n                           No "+e._s(e.plural)+"\n                       ")])]],2)],1)]:i("v-container",{staticClass:"flex-center"},[e._t("emptytext",[e._v("\n               No "+e._s(e._f("definitionTitle")(e.dataType,!0))+" were found matching your criteria\n           ")])],2)],2)};r._withStripped=!0;var n=i(165),a=i(166),o=i(29),s=i(75),l=(i(4),{props:{fixedColumns:{type:Boolean,default:!1},grouping:{type:Function},enableSelection:{type:Boolean,default:!0},enableActions:{type:Boolean,default:!0},defaultSort:{type:String,default:()=>"updated"},defaultSortType:{type:String,default:()=>"date"},defaultSortDirection:{type:String,default:()=>"desc"},selectionController:{type:Object,default(){return this.$selection}},clickable:{type:Boolean,default:()=>!0},clicked:{type:Function,default:()=>function(e,t){}},columns:{type:Array,default:()=>[]},availableKeys:{type:Array,default:()=>[]},additionalColumns:{type:Array,default:()=>[]},initPage:{type:[Number,String],default:1},pageSize:{type:Number,default:50}},data(){return{cacheKey:null,columnState:{},structureColumns:_.compact(this.columns),extraColumns:[],page:[],perPage:this.pageSize,loading:!1,currentPage:parseInt(this.initPage),previousSelectionIndex:-1}},computed:{availableGroupingKeys(){var e=_.chain(this.activeFilterRows).map((function(e){if(e)return{title:"Current Filter > "+(e.title||e.key),key:e.key}})).compact().value().concat(this.availableKeys.slice());return e.unshift({title:"None",key:null}),e},totalGroups(){if(this.groupingColumn)return _.chain(this.rows).groupBy((function(e){return e._groupingKey})).values().value().length},plural(){return this.$fluro.types.readable(this.dataType,!0)},pagePopulationString(){return[this.currentPage,_.map(this.rawPage,"_id"),_.map(this.renderColumns,"key")].join("-")},renderColumns(){var e=this.structureColumns?this.structureColumns.slice():[],t={};if(this.extraColumns&&(e=e.concat(this.extraColumns)),!this.fixedColumns){var i=_.chain(this.activeFilters||[]).map((function(e){var i,r=e.key,n=e.dataType;if(e.criteria&&e.criteria.length&&(t[e.key]||(t[e.key]=0),r=`_matchedFilters['${r}'][${t[r]}]`,n="reference",i=!0,t[e.key]++),e.comparator){var a={title:e.title||_.startCase(e.key),key:r,allowDuplicates:i};switch((_.startsWith(e.comparator,"date")||"date"==e.dataType)&&(a.sortType=a.type="date"),e.dataType){case"number":case"integer":case"decimal":case"float":a.sortType=a.type=n}return a}})).compact().value();_.each(i,(function(t){t.allowDuplicates?e.push(t):_.some(e,{key:t.key})||e.push(t)}))}return e},grouped(){var e;return this.grouping?e=this.grouping(this.page):this.groupingColumn&&this.groupingColumn.key&&(e=this.groupByColumn(this.page.slice(),this.groupingColumn)),e},reloadRequired(){return`${this.cacheKey}-${this.dataType}-${this.filterCheckString} ${this.dateWatchString} ${this.sort.sortKey} ${this.sort.sortDirection} ${this.sort.sortType} ${this.groupingColumn?this.groupingColumn.key:""}  ${this.debouncedSearch}`},selectionEnabled(){return!(!1===this.enableSelection||!this.selectionController)},actionsEnabled(){return!(!1===this.enableActions)},rowsTotal(){return this.rowsLoaded||this.rows.length||MAX_CHUNK_SIZE||MAX_ROWS},showLoading(){return this.loading||this.loadingItems},rowCheckString(){var e=this.rows||[];return`${_.map(e,"_id").join("")}${_.keys(e[0])}`},isAsync(){return this.dataType&&this.dataType.length},previousPageDisabled(){return this.currentPage<=1},nextPageDisabled(){return this.currentPage==this.totalPages},filteredTotal(){return this.rows.length},availablePages(){return _.chunk(this.rows,this.perPage)},startOffset(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},rawPage(){if(this.currentPage>this.totalPages)var e=_.first(this.availablePages);else e=this.availablePages[this.currentPage-1];return e||[]},totalPages(){return this.availablePages?this.availablePages.length:0},allSelected(){var e=this;if(e.page&&e.page.length)return!_.some(e.page,(function(t){return!e.selectionController.isSelected(t)}))},someSelected(){var e=this;return!!e.allSelected||_.some(e.page,(function(t){return e.selectionController.isSelected(t)}))},selectAllIcon(){return this.allSelected?"check-square":this.someSelected?"minus-square":"square"}},asyncComputed:{availableColumns:{default:[],get(){var e=this;return e.rows&&e.rows.length?(e.loadingKeys=!0,new Promise((function(t,i){var r=e.dataType+"-columns",n=e.$fluro.cache.get("filter-distinct-keys"),a=n[r];if(!a){var o=e.$fluro.utils.arrayIDs(e.rows),s={type:e.dataType};a=n[r]=e.$fluro.content.keys(o,s)}a.then((function(i){t(i),e.loadingKeys=!1}),(function(i){console.log("Error",i),t([]),e.loadingKeys=!1,n[r]=null}))}))):(e.loadingKeys=!1,Promise.resolve([]))}}},filters:{numberWithCommas:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},watch:{extraColumns(){this.$emit("additionalColumns",this.extraColumns)},pagePopulationString:function(e){this.loading=!0,this.populatePage()}},methods:{allInGroupSelected(e){var t=this;if(e&&e.length)return!_.some(e,(function(e){return!t.selectionController.isSelected(e)}))},someInGroupSelected(e){var t=this;return!!t.allInGroupSelected(e)||_.some(e,(function(e){return t.selectionController.isSelected(e)}))},groupByColumn(e,t,i){var r;if(!t||!t.key)return e;if(i){var n=t.key.split("|"),a=n[0],o=n[1];r=_.chain(e).reduce((function(e,t){var i=_.get(t,a);if(!i)return e;function r(i){var r=_.get(i,"_id")||_.get(i,"title")||_.get(i,"name")||_.get(i,"value")||i,n=_.get(i,"title")||_.get(i,"name")||r||"",a=String(n||"").toLowerCase(),o=e[r];o||(o=e[r]={title:n,items:[],sortKey:a}),o.items.push(t)}return _.isArray(i)?_.chain(i).filter((function(e){return!o||e._discriminator==o})).each(r).value():r(i),e}),{}).values().orderBy("sortKey").value()}else r=_.chain(e).reduce((function(e,t){var i=t._groupingTitle||t._groupingKey,r=e[t._groupingKey];return r||(r=e[t._groupingKey]={title:i,items:[],sortKey:i}),r.items.push(t),e}),{}).values().orderBy("sortKey").value();return r},toggleColumnGrouping(e){console.log("GROUPING COLUMN",e),this.groupingColumn=e},columnIsGrouping(e){return this.groupingColumn&&this.groupingColumn.key==e.key},showOptionsForColumn(e){},columnIsSelected(e){return _.some(this.extraColumns,{key:e.key})},toggleColumn(e){var t=_.findIndex(this.extraColumns,{key:e.key});-1==t?this.$set(this.extraColumns,this.extraColumns.length,e):this.extraColumns.splice(t,1)},populatePage(){if("node"==this.dataType)return console.log("Node > Show raw page"),this.page=this.rawPage.slice(),void(this.loading=!1);this.populatePageDebounced()},populatePageItems(e,t,i){var r=this;return i=i.slice(),r.groupingColumn&&i.push(r.groupingColumn),new Promise((function(n,a){if(!e||!e.length)return r.loading=!1,n([]);var o,s=["title","_type","definition"],l=[];s=s.concat(_.chain(i).compact().map((function(e){if(e.actualField)return e.actualField;switch(e.key){case"width":case"height":return["width","height"];case"firstName":return["firstName","preferredName","ethnicName"];case"lastName":return["lastName","maidenName"]}return e.additionalFields&&e.additionalFields.length?[e.additionalFields,e.key]:e.key})).flattenDeep().compact().map((function(e){return e.split("|")[0]})).map((function(e){if(_.startsWith(e,"details.")){var t=e.split(".")[1];l.push(t)}return _.startsWith(e,"family.")?(o=!0,"family"):e})).value());var c=r.$fluro.utils.arrayIDs(e);r.$fluro.api.post(`/content/${t}/multiple`,{ids:c,select:_.uniq(s),populateAll:!0,limit:c.length,appendContactDetails:l,appendAssignments:!0,appendFullFamily:o}).then((function(t){var i=_.reduce(t.data,(function(e,t,i){return e[t._id]=t,e}),{}),r=_.chain(e).map((function(e,t){var r=i[e._id];if(r)return r._pageIndex=t,r=Object.assign({},e,r)})).compact().value();n(r.slice())})).catch((function(e){if(!r.$fluro.api.axios.isCancel(e))return a(e);n([])}))}))},populatePageDebounced:_.debounce((function(){var e=this;e.loading=!0,e.populatePageItems(e.rawPage,e.dataType,e.renderColumns).then((function(t){e.page=t,e.loading=!1})).catch((function(t){console.log("Error",t),e.page=[],e.loading=!1}))}),500),checkboxClick(e,t,i){return this.toggleSelection(e,t,i)},toggleSelection(e,t,i,r){if(!t)return r?void this.selectionController.setSelection([e]):void this.selectionController.toggle(e);if(t.metaKey)return this.previousSelectionIndex=-1,this.selectionController.toggle(e);if(!t.shiftKey)return this.previousSelectionIndex=i,r?(this.selectionController.previousIntent="select",this.selectionController.setSelection([e])):this.selectionController.toggle(e);if(i||(this.previousSelectionIndex=-1),-1!=this.previousSelectionIndex){var n=Math.min(this.previousSelectionIndex,i),a=Math.max(this.previousSelectionIndex,i);i>this.previousSelectionIndex&&(a+=1),this.previousSelectionIndex=i;var o=this.page.slice(n,a);switch(this.selectionController.previousIntent){case"deselect":return this.selectionController.deselectMultiple(o);default:return this.selectionController.selectMultiple(o)}}return this.previousSelectionIndex=i,this.selectionController.toggle(e)},isActiveSort(e){return this.sort.sortKey==e},isSortable(e){if(e)return!(!1===e.sortable)},setSort(e){this.sort=e,this.$emit("sort",e)},toggleSort(e){if(this.isSortable(e)&&e.key&&e.key.length){var t=e.key,i=e.sortType||"string",r=this.sort&&this.sort.sortKey==t,n=this.sort.sortDirection,a=r&&"asc"==n?"desc":"asc";this.setSort({sortKey:t,sortType:i,sortDirection:a}),this.setPage(1)}},classes(e){var t=[];if(!e)return t;switch(this.selectionController.isSelected(e)&&t.push("selected"),t.push("status-"+e.status),e.paymentStatus&&t.push("payment-status-"+e.paymentStatus),e.processStatus&&t.push("process-status-"+e.processStatus),e.state){case"sent":t.push("state-sent");break;case"scheduled":t.push("state-scheduled");break;case"ready":t.push("state-ready")}return t},setPage(e){if(this.currentPage!=e){this.currentPage=e;var t=this.$refs.top;t&&t.scrollIntoView({}),this.$emit("page",e)}},firstPage(){this.currentPage=1},lastPage(){this.currentPage=this.totalPages},nextPage(){this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage(){this.page&&this.page.length&&this.selectionController.selectMultiple(this.page)},deselectPage(){this.page&&this.page.length&&this.selectionController.deselectMultiple(this.page)},selectAll(){this.selectionController.selectMultiple(this.rows)},deselectAll(){this.selectionController.deselectAll()},toggleSet(e){this.allInGroupSelected(e)?this.selectionController.deselectMultiple(e):this.selectionController.selectMultiple(e)},toggleSelectAll(){this.page&&this.page.length&&(this.allSelected?this.selectionController.deselectMultiple(this.page):this.selectionController.selectMultiple(this.page))}},mixins:[s.a],components:{TableHeaderCheckbox:n.a,TableRowCheckbox:a.a,TableCell:o.a}}),c=(i(261),i(0)),u=Object(c.a)(l,r,[],!1,null,null,null);u.options.__file="src/components/table/FluroDynamicTable.vue";t.a=u.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-item-image"},["image"==e.item._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.$fluro.asset.imageUrl(e.item._id,50)+")"}})]:"event"==e.item._type?[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.$fluro.asset.coverUrl(e.item._id,"event",{w:50})+")"}})]:"contact"==e.item._type?[i("fluro-avatar",{attrs:{md:"",id:e.item._id,type:e.item._type}})]:[i("div",{staticClass:"icon-avatar"},[i("fluro-icon",{attrs:{type:e.item._type}})],1)]],2)};r._withStripped=!0;var n={props:{item:{type:Object,default:()=>({})}}},a=(i(295),i(0)),o=Object(a.a)(n,r,[],!1,null,"359edbd2",null);o.options.__file="src/components/ui/FluroItemImage.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-options-dialog"},[e.title||e.description?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[e.title?i("h3",[e._v(e._s(e.title))]):e._e(),e._v(" "),e.description?i("div",{staticClass:"muted"},[e._v(e._s(e.description))]):e._e()])],1):e._e(),e._v(" "),i("flex-column-body",[i("v-container",{staticStyle:{background:"#fafafa"}},[e._l(e.actions,(function(t){return[t.description?i("div",{staticClass:"detail-button",on:{click:function(i){return e.select(t)}}},[i("h5",[i("v-layout",[i("v-flex",[e._v("\n                            "+e._s(t.title)+"\n                        ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{staticClass:"text-xs-right",attrs:{shrink:""}},[i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"sm muted"},[e._v(e._s(t.description))])]):i("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(i){return e.select(t)}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])]}))],2)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                Cancel\n            ")])],1)],1)],1)};r._withStripped=!0;var n=i(5),a={props:{options:{type:Object}},mixins:[n.a],data:()=>({}),computed:{title(){return this.options.title},description(){return this.options.description},actions(){return this.options.options}},asyncComputed:{},methods:{select(e){console.log("SELECTED OPTION FROM DIALOG",e);this.close(e),e.action&&e.action()}}},o=(i(297),i(0)),s=Object(o.a)(a,r,[],!1,null,null,null);s.options.__file="src/components/ui/modal/OptionsDialog.vue";t.a=s.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[t("span",{staticClass:"checkbox-outer",class:{active:this.all,some:this.some}},[t("fluro-icon",{attrs:{library:"fas",icon:this.icon}})],1)])};r._withStripped=!0;var n={props:{all:{type:Boolean},some:{type:Boolean}},computed:{icon(){return!this.all&&this.some?"minus":"check"}}},a=(i(245),i(0)),o=Object(a.a)(n,r,[],!1,null,"37aa2a9d",null);o.options.__file="src/components/table/TableHeaderCheckbox.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("th",{staticClass:"checkbox-cell"},[t("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[t("span",{staticClass:"checkbox-outer",class:{active:this.checked}},[t("fluro-icon",{attrs:{library:"fas",icon:"check"}})],1)])],1)};r._withStripped=!0;var n={props:{checked:{type:Boolean}},data:()=>({}),computed:{library(){return this.checked?"fas":void 0},icon(){return this.checked?"check-square":"square"}}},a=(i(247),i(0)),o=Object(a.a)(n,r,[],!1,null,"598b9d40",null);o.options.__file="src/components/table/TableRowCheckbox.vue";t.a=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-content-render"},[e._l(e.fields,(function(t){return[i("fluro-content-render-field",{attrs:{raw:e.raw,field:t},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]}))],2)};r._withStripped=!0;var n=i(33),a=(i(1),{props:{fields:{type:Array},value:{type:Object},raw:{type:Boolean}},watch:{value(e){this.model=e}},data(){return{model:this.value}},components:{FluroContentRenderField:n.default}}),o=(i(385),i(0)),s=Object(o.a)(a,r,[],!1,null,"5f7ed093",null);s.options.__file="src/components/FluroContentRender.vue";t.default=s.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",[e.loaded?e._e():i("fluro-page-preloader",{attrs:{contain:""}}),e._v(" "),i("iframe",{ref:"iframe",staticClass:"mailout-preview-frame",attrs:{src:e.url},on:{load:function(t){e.loaded=!0}}})],1)};r._withStripped=!0;var n={props:{mailout:{type:String},cacheKey:{type:String},live:{type:Boolean},definition:{type:String}},data:()=>({loaded:!1}),computed:{currentUser(){return this.$fluro.auth.getCurrentUser()},currentToken(){var e=this.currentUser?this.currentUser.token:null,t=this.$fluro.applicationToken;return e||t},params(){return{mailout:this.mailout,cb:this.cacheKey,live:this.live,access_token:this.currentToken}},url(){return`${`${this.$fluro.apiURL}/mailout/render/${this.definition}`}?${this.$fluro.utils.mapParameters(this.params)}`}}},a=(i(458),i(0)),o=Object(a.a)(n,r,[],!1,null,"d830603a",null);o.options.__file="src/components/mailout/MailoutRenderPreview.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},[i("h2",[e._v("Send Test Email")]),e._v(" "),i("p",[e._v("Select contacts below and then hit send to send a test email")])]),e._v(" "),i("v-layout",[i("v-flex",[i("fluro-content-select-button",{attrs:{large:"",block:"",type:"contact",allDefinitions:!0},model:{value:e.testContacts,callback:function(t){e.testContacts=t},expression:"testContacts"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",[i("v-btn",{staticClass:"mx-0",attrs:{block:"",loading:e.testing,color:"primary",disabled:!e.testContacts.length,large:""},on:{click:function(t){return e.test()}}},[e._v("\n                            Send to "+e._s(e.testContacts.length)+"\n                            "),i("fluro-icon",{attrs:{icon:"paper-plane",right:""}})],1)],1)],1)],1)],1)],1)],1)};r._withStripped=!0;var n={components:{FluroContentSelectButton:i(17).default},props:{value:{type:Object,required:!0}},methods:{test(){var e=this;e.testing=!0;var t=e.$fluro.utils.arrayIDs(e.testContacts);e.$fluro.api.post(`/mailout/${e.model._id}/test`,{contacts:t}).then((function(i){e.$fluro.notify(`Sent test email to ${t.length} contacts`),e.testing=!1})).catch((function(t){e.$fluro.error(t),e.testing=!1}))}},data(){return{testing:!1,testContacts:[],model:this.value}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,"49830fa3",null);o.options.__file="src/components/mailout/MailoutTestPanel.vue";t.a=o.exports},function(e,t){var i,r,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||u||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"toggle-item",class:{inactive:e.isInactive}},[i("div",{staticClass:"toggle-item-content"},[e._t("default")],2),e._v(" "),i("div",{staticClass:"toggle-switch"},[i("span",{staticClass:"on"},[e._v(e._s(e.on))]),e._v(" "),i("span",{staticClass:"off"},[e._v(e._s(e.off))])])])};r._withStripped=!0;var n={props:{inactive:{type:Boolean},on:{type:String,default:"On"},off:{type:String,default:"Off"}},data(){return{isInactive:this.inactive}},watch:{inactive(e){this.isInactive=e}},computed:{filtered(){return _.chain(this.realms).filter((function(e){if(!e._discriminatorType)return!0})).orderBy((function(e){return e.title})).value()}}},a=(i(293),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/FluroToggleItem.vue";t.a=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"wrapper"},[this._t("default")],2)};r._withStripped=!0;var n={},a=(i(408),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/FluroWrapper.vue";t.default=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"constrain"},[this._t("default")],2)};r._withStripped=!0;var n={},a=(i(410),i(0)),o=Object(a.a)(n,r,[],!1,null,"10362a06",null);o.options.__file="src/components/ui/FluroConstrain.vue";t.default=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"fluro-confirm-button",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.blur(t)},click:function(t){return t.stopPropagation(),t.preventDefault(),e.checkConfirm(t)}}},[e._t("default",null,{confirming:e.confirming})],2)};r._withStripped=!0;var n={data:()=>({confirming:!1,timer:null}),methods:{checkConfirm(){if(this.confirming)return this.$emit("click");this.confirming=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.blur,3e3)},blur(){this.confirming=!1}}},a=(i(237),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/ui/FluroConfirmButton.vue";t.default=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"content-view"},[e.loading?i("fluro-page-preloader",{attrs:{contain:""}}):e.model?[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:e.type},scopedSlots:e._u([{key:"left",fn:function(){return[i("div",[i("h3",[e._v(e._s(e.title)+" "),i("span",{staticClass:"small text-muted"},[e._v(e._s(e.definitionTitle))])]),e._v(" "),e.summary?i("v-label",[e._v(e._s(e.summary))]):e._e()],1)]},proxy:!0},{key:"right",fn:function(){return[e.model._id?i("v-btn",{staticClass:"mr-0",attrs:{icon:"",small:""},on:{click:function(t){return e.$actions.open([e.model])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):e._e(),e._v(" "),e.embedded?[e.canEdit?i("v-btn",{attrs:{icon:""},on:{click:e.edit}},[i("fluro-icon",{attrs:{icon:"pencil"}})],1):e._e()]:[i("v-btn",{on:{click:e.cancel}},[e._v("\n                            Close\n                        ")]),e._v(" "),e.canEdit?i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},on:{click:e.edit}},[e._v("\n                            Edit\n                        ")]):e._e()]]},proxy:!0}])})],1),e._v(" "),e.component?i(e.component,{tag:"component",attrs:{item:e.model,config:e.config}}):e._e()]:e._e()],2)};r._withStripped=!0;i(7);var n={props:{embedded:{type:Boolean},id:{type:[String,Object],required:!0},type:{type:String,required:!0},definition:{type:String},options:{default:function(){return{}},type:Object}},data:()=>({loadingConfig:!0,loadingModel:!0}),methods:{cancel(){this.$emit("cancel")},edit(){this.$fluro.global.edit(this.model)}},created(){this.model&&!this.model.data&&this.$set(this.model,"data",{})},computed:{summary(){switch(this.type){case"event":return this.$fluro.date.readableEventDate(this.model);case"plan":var e,t=_.get(this.model,"event.title"),i=_.get(this.model,"startDate");if(t)return(e=this.$fluro.date.readableEventDate(this.model.event))?`${e} - ${this.model.event.title}`:void 0;if(i)return(e=this.$fluro.date.formatDate(i,"h:mm ddd D MMM"))||void 0}},typeName(){return this.definition||this.type},title(){return this.model.title},definitionTitle(){return this.config.definition?this.config.definition.title:this.config.type.title},canEdit(){switch(this.type){case"mailout":if("sent"==this.model.state)return}return this.$fluro.access.canEditItem(this.model)},itemID(){return this.$fluro.utils.getStringID(this.id)},loading(){return this.loadingModel||this.loadingConfig},component(){if(this.type)return()=>i(369)(`./${this.type}.vue`)}},asyncComputed:{config:{default:null,get(){var e=this;return e.loadingConfig=!0,new Promise((function(t,i){return e.$fluro.api.get("/defined/type/"+e.typeName).then((function(i){t(i.data),e.loadingConfig=!1}),i)}))}},model:{default:null,get(){var e=this;return e.loadingModel=!0,new Promise((function(t,i){e.$fluro.content.get(e.itemID,{appendContactDetail:"all",appendAssignments:"all"}).then((function(i){i.data||(i.data={}),t(i),e.loadingModel=!1})).catch((function(i){console.log("Error",i),t(null),e.loadingModel=!1}))}))}}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,"de5e3af4",null);o.options.__file="src/components/content/view/FluroContentView.vue";t.a=o.exports},function(e,t,i){"use strict";console.log("Contact communicate mixin"),t.a={asyncComputed:{postable:{default:[],get(){var e=this;return new Promise((function(t,i){return e.$fluro.types.subTypes("post").then((function(i){var r=_.filter(i,(function(t){var i=e.$fluro.access.can("submit",t.definitionName,"post"),r=e.$fluro.access.can("create",t.definitionName,"post");return i||r}));t(r)})).catch(i)}))}}},computed:{phoneNumbers(){var e=this.model||this.item,t=[];return e.phoneNumbers&&e.phoneNumbers.length&&(t=t.concat(e.phoneNumbers)),e.family&&e.family.phoneNumbers&&e.family.phoneNumbers.length&&(t=t.concat(e.family.phoneNumbers)),t},canPost(){return this.postable.length},canEmail(){var e=this.model||this.item;return e.emails&&e.emails.length},canCall(){return this.phoneNumbers&&this.phoneNumbers.length},canSMS(){var e=this.model||this.item;return e.phoneNumbers&&e.phoneNumbers.length}},methods:{addPost(){console.log("ADD NEW POST");var e=this;return e.$fluro.types.subTypes("post").then((function(t){var r=_.chain(t).map((function(e){if("archived"!=e.status&&!e.systemOnly)return{title:"New "+e.title,definition:e}})).compact().value();e.$fluro.options(r).then((function(t){var r={definition:t.definition,items:[e.model]};e.$fluro.modal({component:()=>Promise.resolve().then(i.bind(null,35)),options:r})}))}))},communicate(e){var t=this.model||this.item,i=this.$fluro.utils.getStringID(t);switch(e){case"vcard":var r=this.$fluro.auth.getCurrentToken();window.open(`${this.$fluro.apiURL}/contact/${i}/vcard.vcf?access_token=${r}`,"_blank");break;case"phone":var n=t.international||this.phoneNumbers;this.$communications.call(n);break;case"email":this.$communications.email([t]);break;case"sms":this.$communications.sms([t])}}}}},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},[i("h2",[e._v(e._s(e.item.subject))]),e._v(" "),i("div",{staticClass:"muted"},[i("strong",[i("span",{staticClass:"text-capitalize"},[e._v(e._s(e.item.mailoutType))]),e._v(" mailout sent from "+e._s(e.item.fromEmail))])]),e._v(" "),i("div",[i("strong",[e._v(e._s(e.emails.length)+" Recipients in total")])])]),e._v(" "),i("wrapper",{attrs:{xs:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"stat-box"},[i("label",[e._v("Clicked")]),e._v(" "),i("h3",[e._v("\n                                    "+e._s(e.emailsClicked.length)+"\n                                ")])])]),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"stat-box "},[i("label",[e._v("Opened")]),e._v(" "),i("h3",[e._v("\n                                    "+e._s(e.emailsOpened.length)+"\n                                ")])])]),e._v(" "),e.emailsErrored.length?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"stat-box "},[i("label",[e._v("Failed")]),e._v(" "),i("h3",[e._v("\n                                    "+e._s(e.emailsErrored.length)+"\n                                ")])])]):e._e()],1)],1),e._v(" "),e.emailsLoaded?[i("wrapper",{staticClass:"border-top",attrs:{xs:""}},[i("v-container",{attrs:{"grid-list-xl":"","pa-0":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("h4",[e._v(e._s(e.clickPercentage)+"% Click Rate")]),e._v(" "),i("v-progress-linear",{attrs:{value:e.clickPercentage}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("h4",[e._v(e._s(e.openPercentage)+"% Open Rate")]),e._v(" "),i("v-progress-linear",{attrs:{value:e.openPercentage}})],1)],1)],1)],1),e._v(" "),e.urls.length?i("fluro-panel",[i("fluro-panel-title",[e._v("\n                            Top Links\n                        ")]),e._v(" "),i("div",e._l(e.urls,(function(t){return i("a",{staticClass:"row-item",attrs:{href:t.url,target:"_blank"}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"small"},[e._v(e._s(t.url))]),e._v(" "),i("div",[i("strong",[e._v(e._s(t.count))]),e._v(" clicks "),i("span",{staticClass:"muted"},[e._v("("+e._s(t.percent)+"%)")])])],1)],1)})),0)],1):e._e(),e._v(" "),i("fluro-panel",[i("fluro-panel-body",{staticClass:"border-bottom"},[i("v-layout",[i("v-flex",[i("search-input",{model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),i("div",[i("v-btn",{staticClass:"ma-0 ml-2",attrs:{color:"primary"},on:{click:function(t){return e.push()}}},[e._v("Push\n                                        "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1)],1)],1),e._v(" "),i("div",{staticStyle:{background:"#fafafa"}},[i("tabset",e._l(e.segments,(function(t){return i("tab",{attrs:{heading:t.emails.length+" "+t.title}},[i("fluro-table",{staticStyle:{"max-height":"50vh"},attrs:{trackingKey:"correspondenceID",defaultSort:"firstName",pageSize:25,items:t.emails,columns:e.columns}})],1)})),1)],1)],1)]:i("wrapper",{staticClass:"text-xs-center",attrs:{xs:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],2)],1)],1)],1)};r._withStripped=!0;var n=i(7),a=i.n(n),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"modal-size"},[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"mailout"},scopedSlots:e._u([{key:"left",fn:function(){return[i("h3",[e._v(e._s(e.item.firstName)+" "+e._s(e.item.lastName))])]},proxy:!0},{key:"right",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:""},on:{click:function(t){return e.close()}}},[e._v("\n                    Close\n                ")])]},proxy:!0},{key:"rightmobile",fn:function(){return[i("v-btn",{staticClass:"ma-0",attrs:{small:""},on:{click:function(t){return e.close()}}},[e._v("\n                    Close\n                ")])]},proxy:!0}])})],1),e._v(" "),i("flex-column-body",[i("v-container",[i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[e._v("First Name")]),e._v(" "),i("div",[e._v(e._s(e.item.firstName))])])]),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Last Name")]),e._v(" "),i("div",[e._v(e._s(e.item.lastName))])])])],1),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("Sent To")]),e._v(" "),i("div",[e._v(e._s(e.item.email))])]),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[e._v("State")]),e._v(" "),i("div",[e._v(e._s(e.item.state))])])])],1),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Correspondence ID")]),e._v(" "),i("div",[e._v(e._s(e.item.correspondenceID||e.item._id))])])]),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Sending Server ID")]),e._v(" "),i("div",[e._v(e._s(e.item.worker))])])])],1),e._v(" "),i("fluro-panel",[i("fluro-panel-title",[e._v("Tracked Events")]),e._v(" "),i("fluro-table",{staticStyle:{"max-height":"50vh"},attrs:{enableSelection:!1,defaultSort:"date",defaultSortType:"date",pageSize:25,items:e.item.trackedEvents,columns:e.columns}})],1)],1)],1)],1)};o._withStripped=!0;var s=i(5),l=i(25),c=i(16),u=i(30),d={props:{options:{type:Object}},components:{FluroTable:l.a},mixins:[s.a],computed:{columns:()=>[{title:"Event",key:"title"},{title:"Date",key:"date",sortType:"date",renderer:c.a},{title:"When",key:"date",sortType:"date",renderer:u.a}],item(){return this.options.item}}},p=i(0),f=Object(p.a)(d,o,[],!1,null,"4920a866",null);f.options.__file="src/components/mailout/CorrespondenceInfoModal.vue";var m=f.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"modal-size"},[e.loading?i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1):[i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:"policy"},scopedSlots:e._u([{key:"left",fn:function(){return[i("h3",[e._v("Push Mailout")])]},proxy:!0}])})],1),e._v(" "),i("tabset",{attrs:{justified:!0}},[i("tab",{attrs:{heading:"New Contact"}},[i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("p",[e._v("Input a new contact's details below to create them and send them this mailout")]),e._v(" "),i("fluro-content-form",{attrs:{fields:e.newContactFields},model:{value:e.model.contact,callback:function(t){e.$set(e.model,"contact",t)},expression:"model.contact"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                                Cancel\n                            ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{loading:e.sending,color:"primary",disabled:e.invalid},on:{click:function(t){return e.sendTo("contact")}}},[e._v("\n                                Push\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1),e._v(" "),i("tab",{attrs:{heading:"Existing contacts"}},[i("flex-column-body",[i("v-container",[i("p",[e._v("Select contacts from your database to add them to this mailout")]),e._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:"contact",allDefinitions:!0},model:{value:e.model.contacts,callback:function(t){e.$set(e.model,"contacts",t)},expression:"model.contacts"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                                Cancel\n                            ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{loading:e.sending,color:"primary",disabled:!e.model.contacts.length},on:{click:function(t){return e.sendTo("contacts")}}},[e._v("\n                                Push "+e._s(e.model.contacts.length)+"\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1),e._v(" "),i("tab",{attrs:{heading:"User Personas"}},[i("flex-column-body",[i("v-container",[i("p",[e._v("Select users from your database to add them to this mailout")]),e._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:"persona"},model:{value:e.model.personas,callback:function(t){e.$set(e.model,"personas",t)},expression:"model.personas"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"px-0":"","py-2":""}},[i("v-layout",[i("v-btn",{attrs:{flat:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                                Cancel\n                            ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{loading:e.sending,color:"primary",disabled:!e.model.personas.length},on:{click:function(t){return e.sendTo("personas")}}},[e._v("\n                                Push "+e._s(e.model.personas.length)+"\n                                "),i("fluro-icon",{attrs:{icon:"angle-right"}})],1)],1)],1)],1)],1)],1)]],2)};h._withStripped=!0;var v=i(10),g=i(11),b=i(17),y={props:{options:{type:Object}},mixins:[s.a],components:{FluroContentForm:v.default,FluroContentFormField:g.default,FluroContentSelectButton:b.default},data:()=>({model:{contact:{},personas:[],contacts:[]},loading:!1,sending:!1}),computed:{invalid(){var e=this.model.contact;return!e.gender||!e.gender.length||(!e.firstName||!e.firstName.length||(!e.lastName||!e.lastName.length||(!e.email||!e.email.length||void 0)))},newContactFields(){var e=[];return e.push({type:"group",sameLine:!0,fields:[{title:"Title",minimum:1,maximum:1,type:"string",key:"gender",directive:"select",options:[{name:"Mr",value:"male"},{name:"Ms / Mrs",value:"female"}]},{title:"First Name",minimum:1,maximum:1,type:"string",key:"firstName"},{title:"Last Name",minimum:1,maximum:1,type:"string",key:"lastName"}]}),e.push({title:"Email Address",minimum:1,maximum:1,type:"email",key:"email"}),e},item(){return this.options.item}},methods:{sendTo(e){var t=this;t.sending=!0,t.$fluro.api.post(`/mailout/${t.item._id}/push`,t.model).then((function(e){return t.sending=!1,t.close(e.data)})).catch((function(e){t.sending=!1,console.log("Error!",e),t.$fluro.error(e)}))}}},x=Object(p.a)(y,h,[],!1,null,"70d17244",null);x.options.__file="src/components/mailout/MailoutPushModal.vue";var k=x.exports,w=(i(168),i(169),i(49)),C=i(24),S=i(50);let $=a.a.extend({props:{row:{type:Object},column:{type:Object},data:{}},methods:{info(){this.$fluro.modal({component:m,options:{item:this.row}})}},template:'<v-btn class="ma-0" small @click="info">\n   Info\n    </v-btn>'});var D={components:{SearchInput:w.a,FluroTable:l.a},props:{value:{type:Object,required:!0}},methods:{push(){var e=this;e.$fluro.modal({component:k,options:{item:e.item}}).then((function(t){e.loadCorrespondenceResults()}))},checkIfResultsAreNeeded(){this.resultsEnabled?this.startResultsPoll():this.stopResultsPoll()},startResultsPoll(){console.log("START POLLING"),this.stopResultsPoll(),this.loadCorrespondenceResults(),this.pollTimer=setInterval(this.loadCorrespondenceResults,this.resultsInterval)},stopResultsPoll(){this.pollTimer&&clearInterval(this.pollTimer)},loadCorrespondenceResults(){console.log("load results");var e=this;e.polling||(e.polling=!0,e.$fluro.api.get(`/mailout/${this.item._id}/correspondence`,{params:{timestamp:new Date}}).then((function(t){e.emailsLoaded=!0,e.emails=_.map(t.data,(function(e){return e.correspondenceID=e._id,e._id=e.contact,e._type="contact",e})),e.polling=!1})).catch((function(t){e.polling=!1})))}},watch:{resultsEnabled:function(){this.checkIfResultsAreNeeded()}},mounted(){this.checkIfResultsAreNeeded()},activated(){this.checkIfResultsAreNeeded()},deactivated(){this.stopResultsPoll()},beforeDestroy(){this.stopResultsPoll()},computed:{resultsInterval(){new Date,new Date(this.item.publishDate);return 5e3},urls(){var e=this;return _.chain(e.emailsClicked).map((function(e){return e.trackedEvents})).flatten().filter((function(e){return"click"==e.type||"clicked"==e.type})).reduce((function(e,t){var i=function(e,t){var i=e.split("?");if(i.length>=2){for(var r=encodeURIComponent(t)+"=",n=i[1].split(/[&;]/g),a=n.length;a-- >0;)-1!==n[a].lastIndexOf(r,0)&&n.splice(a,1);return e=i[0]+(n.length>0?"?"+n.join("&"):"")}return e}(t.url,"correspondence"),r=_.find(e,{url:i});return r?r.count++:(r={url:i,count:1},e.push(r)),e}),[]).sortBy((function(e){return-e.count})).map((function(t){return t.percent=Math.ceil(t.count/e.emails.length*100),t})).value()},clickPercentage(){var e=this.emails.length,t=this.emailsClicked.length;return Math.ceil(t/e*100)},openPercentage(){var e=this.emails.length,t=this.emailsOpened.length;return Math.ceil(t/e*100)},segments(){var e=this.emails;if(this.search&&this.search.length){var t=this.search.toLowerCase();e=_.filter(e,(function(e){return`${e.firstName} ${e.lastName}`.toLowerCase().includes(t)}))}return _.chain(e).reduce((function(e,t){var i=t.state;switch(i){case"open":i="Opened";break;case"click":i="Clicked";break;case"sent":i="Unopened";break;default:i=_.startCase(i)}var r=e[i];return r||(r=e[i]={title:i,emails:[]}),r.emails.push(t),e}),{}).orderBy((function(e){return e.title})).values()},emailsClicked(){return _.filter(this.emails,(function(e){return"click"==e.state}))},emailsOpened(){return _.filter(this.emails,(function(e){return"click"==e.state||"open"==e.state}))},emailsErrored(){return _.filter(this.emails,(function(e){return"error"==e.state}))},resultsEnabled(){return"sent"==this.item.state||(!(!this.item.stats||!this.item.stats.mailoutSent)||void 0)}},data(){return{emailsLoaded:!1,search:"",columns:[{title:"",key:"_id",renderer:S.a},{title:"First Name",key:"firstName"},{title:"Last Name",key:"lastName"},{title:"Email Address",key:"email"},{title:"State",key:"state",renderer:C.a},{title:"Info",key:"correspondenceID",renderer:$}],emails:[],polling:!1,item:this.value}}},M=(i(460),Object(p.a)(D,r,[],!1,null,"08ca41a6",null));M.options.__file="src/components/mailout/MailoutResultsPanel.vue";t.a=M.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-field-editor",class:{"schema-mode":!e.formMode}},[i("flex-row",[i("flex-column",{staticClass:"sidebar"},[i("flex-column",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true || !(field || configurePayment || configureDefaults)"}],staticClass:"fields-tree"},[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[e._v("Field Tree")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(t){return e.expandAll()}}},[e._v("\n                                    Expand All\n                                ")]),e._v(" "),i("span",{staticClass:"state-link",on:{click:function(t){return e.collapseAll()}}},[e._v("\n                                    Collapse All\n                                ")])])],1)],1)]),e._v(" "),i("flex-column-body",[i("v-container",{attrs:{"pa-2":""}},[e.formMode?[i("div",{staticClass:"pseudo-field",class:{active:e.configureDefaults&&!e.field},on:{click:function(t){return e.showDefaultFieldOptions()}}},[e._v("Form Configuration")])]:e._e(),e._v(" "),i("draggable",{staticClass:"field-editor-children",attrs:{handle:".handle",element:"ul",options:e.treeOptions},on:{sort:e.sorted},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.model,(function(t,r){return i("fluro-field-editor-item",{key:t.guid,attrs:{mouseover:e.mouseover,mouseleave:e.mouseleave,parent:e.model,leaf:e.model[r],selected:e.field,select:e.clicked},on:{duplicate:e.duplicateField,injected:e.injectField,deleted:e.deleteField}})})),1),e._v(" "),e.formMode?[i("div",{staticClass:"pseudo-field",class:{active:e.configurePayment&&!e.field},on:{click:function(t){return e.showPaymentOptions()}}},[e._v("Payment Options")])]:e._e()],2)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2",staticStyle:{background:"#fff"}},[i("v-layout",{attrs:{row:""}},[e.formMode?i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewTemplate()}}},[e._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):e.componentMode?i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewComponentTemplate()}}},[e._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1):i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",block:""},on:{click:function(t){return e.addNewField()}}},[e._v("\n                                    Add Field\n                                    "),i("fluro-icon",{attrs:{icon:"plus",right:""}})],1)],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",[i("v-btn",{staticClass:"ma-1",attrs:{small:"",block:""},on:{click:function(t){return e.addNewField("group")}}},[e._v("\n                                    Add Group\n                                    "),i("fluro-icon",{attrs:{icon:"folder",right:""}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),e.showPreview?i("flex-column",{staticClass:"preview"},[e.resetting?i("fluro-page-preloader",{attrs:{contain:""}}):e._e(),e._v(" "),i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[e._v(e._s(e.formMode?"Form":"")+" Preview")])]),e._v(" "),i("v-spacer"),e._v(" "),e.formMode?i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("span",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"state-link",attrs:{content:"Change Preview State"}},r),[e._v("\n                                        State: "+e._s(e.readablePreviewState)+"\n                                        "),i("fluro-icon",{attrs:{icon:"angle-down"}})],1)]}}],null,!1,3912712809)},[e._v(" "),i("v-card",{attrs:{tile:""}},[i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(t){e.previewState="ready"}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Ready for input\n                                                ")])],1)],1),e._v(" "),i("v-list-tile",{on:{click:function(t){e.previewState="success"}}},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                                                    Success / Thank you message\n                                                ")])],1)],1)],1)],1)],1)],1):e._e(),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(t){return e.resetPreview()}}},[e._v("\n                                Reset "+e._s(e.formMode?"Form":"Preview")+"\n                                "),i("fluro-icon",{attrs:{icon:"undo"}})],1)])],1)],1)]),e._v(" "),i("flex-column-body",[e.resetting?i("v-container",[i("fluro-page-preloader",{attrs:{contain:""}})],1):[e.formMode?[e.image?i("div",{staticClass:"form-image"},[i("fluro-image",{attrs:{cover:"",from:e.item,imageWidth:1e3,imageHeight:300,spinner:!0,item:e.image}})],1):e._e(),e._v(" "),i("v-container",{attrs:{fluid:""}},[i("wrapper",{attrs:{sm:""}},[i("constrain",{attrs:{sm:""}},[i("fluro-interaction-form",{ref:"previewForm",attrs:{contextField:e.contextField,defaultState:e.previewState,context:"builder",prefill:!1,title:e.item.title,definition:e.fauxDefinition,paymentIntegration:e.paymentIntegration,debugMode:!0,fields:e.model},on:{state:e.stateChanged,debug:e.debugField},scopedSlots:e._u([{key:"info",fn:function(){return[e.hideDisplayTitle?e._e():i("h1",{attrs:{margin:""}},[e._v(e._s(e.displayTitle))]),e._v(" "),i("fluro-compile-html",{staticClass:"form-body",attrs:{template:e.publicData.body,context:e.item}})]},proxy:!0},e.publicData.thankyou?{key:"success",fn:function(){return[i("fluro-compile-html",{staticClass:"form-thankyou",attrs:{template:e.publicData.thankyou,context:e.item}})]},proxy:!0}:null],null,!0),model:{value:e.previewModel,callback:function(t){e.previewModel=t},expression:"previewModel"}})],1)],1)],1)]:i("v-container",[i("constrain",{attrs:{sm:""}},[i("fluro-content-form",{ref:"previewForm",attrs:{context:"builder",recursiveClick:e.debugComponent,debugMode:!0,contextField:e.contextField,fields:e.model},model:{value:e.previewModel,callback:function(t){e.previewModel=t},expression:"previewModel"}})],1)],1)]],2),e._v(" "),e._e()],1):e._e(),e._v(" "),i("flex-column",{staticClass:"field-options"},[e.field?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("strong",{attrs:{label:""}},[e._v(e._s(e.field.title||"Untitled field"))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),i("fluro-field-edit",{attrs:{item:e.item,expressionFields:e.model},on:{reset:function(t){return e.resetPreview()},deleted:e.deleteSelectedField},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}})]:e.configurePayment?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[e._v("Payment Settings")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),i("flex-column-body",[e._t("payment")],2)]:e.configureDefaults?[i("flex-column-header",[i("div",{staticClass:"palette-title"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{attrs:{label:""}},[e._v("Form Configuration")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("span",{staticClass:"state-link",on:{click:function(t){return e.deselectAll()}}},[i("fluro-icon",{attrs:{icon:"times"}})],1)])],1)],1)]),e._v(" "),i("flex-column-body",[e._t("form")],2)]:[i("flex-column",{staticClass:"placeholder",attrs:{center:""}},[i("v-container",{staticClass:"text-xs-center",staticStyle:{flex:"none"},attrs:{fluid:""}},[i("p",{staticClass:"muted"},[e._v("Select a field on the left to edit configuration")])])],1)]],2)],1)],1)};r._withStripped=!0;var n=i(184);let a=[];a.push({title:"Basic Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:""}}),a.push({title:"Button",description:"Add a set of buttons/links",field:{title:"Button",minimum:0,maximum:0,askCount:1,asObject:!0,type:"group",key:"button",fields:[{title:"Text",minimum:1,maximum:1,type:"string",key:"text",defaultValues:["Find Out More"]},{title:"Link to",minimum:1,maximum:1,type:"string",key:"type",directive:"select",options:[{title:"Page",value:"page"},{title:"External URL",value:"url"}],defaultValues:["page"]},{title:"Page",minimum:1,maximum:1,type:"string",key:"page",directive:"app-page-select",expressions:{hide:"model.type != 'page'"}},{title:"URL",minimum:1,maximum:1,type:"url",key:"url",expressions:{hide:"model.type != 'url'"}},{title:"Open in",minimum:0,maximum:1,type:"string",key:"window",directive:"select",options:[{title:"Same Window",value:""},{title:"New Window",value:"_blank"}],expressions:{hide:"model.type != 'url'"}}]}});var o=a,s={components:{draggable:()=>Promise.resolve().then(i.t.bind(null,511,7)),FluroFieldEditorItem:()=>i.e(52).then(i.bind(null,777)),FluroFieldEdit:()=>i.e(51).then(i.bind(null,778)),FluroContentForm:()=>Promise.resolve().then(i.bind(null,10)),FluroInteractionForm:()=>Promise.resolve().then(i.bind(null,194)),FluroCompileHtml:()=>Promise.resolve().then(i.bind(null,188))},props:{value:{type:Array,default:()=>[]},item:{type:Object}},created(){this.recursiveGUID(this.model)},computed:{allFields(){var e=[];return function t(i){_.each(i,(function(i){e.push(i),t(i.fields)}))}(this.model),e},readablePreviewState(){switch(this.previewState){case"ready":return"Ready for input";case"success":return"Thank you";default:return""}},image(){var e=_.get(this.publicData,"mainImage");if(e&&(e._id||e.length))return e},noImage(){return!this.image},hideDisplayTitle(){return this.publicData.hideDisplayTitle},displayTitle(){return this.publicData.title||this.item.title},componentMode(){return"component"==this.item._type},formMode(){return"form"==this.item.definition||"interaction"==this.item.parentType},showPreview(){return this.$vuetify.breakpoint.mdAndUp},formOptions(){return this.item&&this.item.data||{}},identifier(){return this.formOptions.identifier},allowAnonymous(){return this.formOptions.allowAnonymous||!1},disableDefaultFields(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB(){return this.formOptions.requireDOB},requireEmail(){if(this.formOptions.requireEmail)return!0;switch(this.identifier){case"both":case"email":case"either":return!0}},requirePhone(){if(this.formOptions.requirePhone)return!0;switch(this.identifier){case"both":case"phone":case"either":return!0}},fauxDefinition(){return Object.assign({},this.item,{fields:this.model})},publicData(){return this.item&&this.item.data?this.item.data.publicData:{}},paymentIntegration(){if(this.publicData.paymentGateways&&this.publicData.paymentGateways.length)return _.first(this.publicData.paymentGateways)}},methods:{fieldPath(){},deselectAll(){this.configurePayment=this.configureDefaults=this.field=null},sorted(e){this.$emit("input",this.model)},expandAll(){var e=this;_.each(e.allFields,(function(t){"embedded"!=t.directive&&"group"!=t.type||e.$set(t,"collapsed",!1)}))},collapseAll(){var e=this;_.each(e.allFields,(function(t){"embedded"!=t.directive&&"group"!=t.type||e.$set(t,"collapsed",!0)}))},stateChanged(e){this.previewState=e},deleteSelectedField(){var e=this,t=e.field;e.$fluro.confirm("Delete Field",`Are you sure you want to delete '${t.title}'?`,{confirmColor:"error",confirmText:"Confirm Delete"}).then((function(t){var{parent:i,index:r}=e.findSelectedParent();e.deleteField(e.field,i)}))},recursiveGUID(e){var t=this;_.each(e,(function(e){e.guid||(e.guid=t.$fluro.utils.guid()),t.recursiveGUID(e.fields)}))},showDefaultFieldOptions(){this.field=null,this.configurePayment=!1,this.configureDefaults=!0},showPaymentOptions(){this.field=null,this.configureDefaults=!1,this.configurePayment=!0},debugComponent(e){this.debugField(e.field)},debugField(e){var t=this.findField(e);t&&t.parent?this.field=e:console.log("NOT FOUND",e)},toggleDefaultFields(){this.item.data.allowAnonymous=!0},deselectField(){this.field=null},resetPreview(){var e=this;e.resetting=!0,setTimeout((function(){e.previewModel={},e.resetting=!1}),10)},getFieldTemplate(e){var t=this;return new Promise((function(e,i){var r=n.a;t.componentMode&&(r=o),t.$fluro.options(r,"Add a field").then((function(i){var r=JSON.parse(JSON.stringify(i.field));r.guid=t.$fluro.utils.guid(),t.recursiveGUID(r.fields),e(r)})).catch(i)}))},getNewField(e){var t;switch(e){case"group":t={title:"",key:"",type:"group",fields:[],minimum:1,maximum:1,askCount:1,asObject:!1};break;default:t={title:"",key:"",type:"string",directive:"input",minimum:0,maximum:1,params:{},defaultValues:[],defaultReferences:[]}}return t.guid=this.$fluro.utils.guid(),t},addNewComponentTemplate(){var e=this;e.getFieldTemplate("component").then((function(t){e.addNewField(null,t)}))},addNewTemplate(){var e=this;e.getFieldTemplate("form").then((function(t){e.addNewField(null,t)}))},addNewField(e,t){if(t||(t=this.getNewField(e)),t.isNew=!0,!this.field)return this.configureDefaults?this.model.unshift(t):this.model.push(t),void(this.field=t);if("embedded"==t.directive&&"embedded"==this.field.directive);else if("group"==this.field.type)return this.field.fields||this.$set(this.field,"fields",[]),this.field.fields.push(t),void(this.field=t);console.log("CHECK TO GET PARENT?");var{parent:i,index:r}=this.findSelectedParent();console.log("GOT PARENT?",i),i||(i=this.model),-1==r?i.push(t):i.splice(r+1,0,t),this.field=t},injectField(e,t){var i=this.getNewField(),r=t.indexOf(e);console.log("Inject at",r,t),t.splice(r+1,0,i),this.field=i},clicked(e){this.field=e},mouseover(e){this.contextField=e},mouseleave(e){this.contextField==e&&(this.contextField=null)},findSelectedParent(){var e=this.field;return this.findField(e)},findField(e){var t,i=-1,r=_.findIndex(this.model,{guid:e.guid});if(-1!=r)return{parent:this.model,index:r};return _.each(this.model,(function r(n){var a=_.findIndex(n.fields,{guid:e.guid});-1!=a?(i=a,t=n.fields):_.each(n.fields,r)})),{parent:t,index:i}},duplicateField(e,t){if(t){var i=t.indexOf(e),r=JSON.parse(JSON.stringify(e));r.guid=this.$fluro.utils.guid(),r.title="",r.key="",t.splice(i+1,0,r),this.field=r}},deleteField(e,t){if(this.field=null,t){var i=t.indexOf(e);t.splice(i,1)}}},data(){return{treeOptions:{animation:1,group:"fields",ghostClass:"ghost"},previewState:"ready",configurePayment:!1,configureDefaults:!1,model:this.value,resetting:!1,previewModel:{},field:null,contextField:null}}},l=(i(209),i(0)),c=Object(l.a)(s,r,[],!1,null,"748156d1",null);c.options.__file="src/components/fields/FluroFieldEditor.vue";t.a=c.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"fluro-avatar-update",class:{processing:e.processing},style:e.style},[i("input",{ref:"file",attrs:{type:"file"},on:{change:function(t){return e.fileSelected(t.target.files)}}}),e._v(" "),i("div",{staticClass:"overlay"},[e.processing?[i("v-progress-circular",{attrs:{value:e.progress}})]:[e._v("Click to upload new photo")]],2)])};r._withStripped=!0;var n={components:{FluroAvatar:i(36).default},data:()=>({processing:!1,progress:0,bytesLoaded:0,bytesTotal:0,cacheBuster:0}),props:{id:{type:[String,Object]},type:{default:"persona",type:String}},computed:{style(){return{backgroundImage:`url("${this.$fluro.asset.avatarUrl(this.id,this.type,{w:this.width||100,cacheBuster:this.cacheBuster})}")`}}},methods:{reset(){this.processing=!1,this.progress=0,this.bytesLoaded=0,this.bytesTotal=0},fileSelected(e){var t=this;t.processing=!0;var i=_.first(e);console.log("file selected!",i);var r=new FormData;r.append("file",i,i.name);var n=t.$fluro.utils.getStringID(t.id),a={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let i=Math.floor(100*e.loaded/e.total);t.progress=i,t.bytesLoaded=e.loaded,t.bytesTotal=e.total,t.$forceUpdate()}};return t.$fluro.api.post(`/${t.type}/${n}/image`,r,a).then((function(e){t.cacheBuster+=1,t.reset()})).catch((function(e){t.reset()}))}}},a=(i(207),i(0)),o=Object(a.a)(n,r,[],!1,null,"a8db34e4",null);o.options.__file="src/components/FluroAvatarUpdate.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-academic-select"},[i("v-input",{staticClass:"no-flex",attrs:{label:e.label,required:e.required,"error-messages":e.errorMessages,hint:e.hint}},[i("v-layout",{staticClass:"fluro-academic-field",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-select",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:"School / Institution","no-data-text":"No options available","item-text":"title","item-value":"_id",items:e.calendars,"return-object":!0,"error-messages":e.errorMessages},on:{input:e.calendarChanged},model:{value:e.model.academicCalendar,callback:function(t){e.$set(e.model,"academicCalendar",t)},expression:"model.academicCalendar"}})],1),e._v(" "),e.model.academicCalendar?i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-autocomplete",{attrs:{outline:e.showOutline,success:e.success,required:e.required,label:"Grade / Year Level","persistent-hint":!0,hint:e.gradeHint,"no-data-text":"No options available","item-text":"title","item-value":"key",items:e.grades,"error-messages":e.errorMessages},on:{input:e.gradeChanged},model:{value:e.model.academicGrade,callback:function(t){e.$set(e.model,"academicGrade",t)},expression:"model.academicGrade"}})],1):e._e()],1)],1)],1)};r._withStripped=!0;var n={props:{outline:{type:Boolean},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:Object},success:{type:Boolean},options:{default:function(){return{}},type:Object},formFields:{type:Array}},data(){return{model:this.value}},watch:{value(e){this.model=e,this.createVariables(e)},"model.academicCalendar":function(){this.$emit("calendar",this.model.academicCalendar)},"model.academicGrade":function(){this.$emit("grade",this.model.academicGrade)}},computed:{errorMessages:()=>[],gradeHint:()=>`(As of ${(new Date).getFullYear()})`,showOutline(){return this.outline||this.options.outline},grades(){return this.model.academicCalendar?this.model.academicCalendar.grades:[]}},created(){this.formFields&&this.$set(this.formFields,this.formFields.length,this),this.createVariables(),this.$emit("created",this)},beforeDestroy(){this.formFields&&this.formFields.splice(this.formFields.indexOf(this),1)},methods:{gradeChanged(e){this.$set(this.model,"academicGrade",e),this.valueChanged()},calendarChanged(e){this.$set(this.model,"academicCalendar",e),this.valueChanged()},createVariables(){this.model.academicCalendar||this.$set(this.model,"academicCalendar",void 0),this.model.academicGrade||this.$set(this.model,"academicGrade",void 0)},valueChanged(){this.$emit("value",this.model)},reset(){}},asyncComputed:{calendars:{default:[],get(){var e=this;return new Promise((function(t,i){e.$fluro.api.get("/contact/schools",{searchInheritable:!0,allDefinitions:!0}).then((function(e){var i=e.data;i.unshift({title:"None",_id:""}),t(i),console.log("GET GRADES")}),i)}))}}}},a=(i(428),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/form/FluroAcademicSelect.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",[e.preflightProcessing?i("fluro-page-preloader",{attrs:{contain:""}}):i("flex-column-body",{staticStyle:{background:"#fafafa"}},[i("v-container",[i("constrain",{attrs:{sm:""}},[i("wrapper",{attrs:{xs:""}},["scheduled"==e.item.state?[i("h2",[e._v("Sending in "+e._s(e.countdown))]),e._v(" "),e.item.publishDate?i("strong",[e._v(e._s(e._f("formatDate")(e.item.publishDate,"h:mma - dddd D MMM YYYY")))]):e._e()]:[i("h2",[e._v("Preflight check")])],e._v(" "),e.preflightContacts.length?i("div",[i("p",{staticClass:"lead"},[e._v("\n                            Sending to "+e._s(e.validContacts.length)+" of "+e._s(e.preflightContacts.length)+" selected contacts\n                        ")])]):i("div",[i("p",{staticClass:"lead"},[e._v("\n                            No contacts were retrieved from selected sources, Edit this mailout and select sources so that you can publish the mailout\n                        ")])])],2),e._v(" "),e.preflightContacts.length?i("wrapper",{attrs:{xs:""}},[e.invalidContacts.length?i("v-alert",{attrs:{value:!0,type:"warning",outline:""}},[i("div",{on:{click:function(t){e.expanded.invalid=!e.expanded.invalid}}},[i("h5",[e._v(e._s(e.invalidContacts.length)+" selected contacts do not have an email address")])]),e._v(" "),e.expanded.invalid?i("div",{staticStyle:{"margin-top":"10px"}},[e._l(e.invalidSummary,(function(t){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[e._v("\n                                    Does not have an email address\n                                ")])],1)})),e._v(" "),e.invalidContacts.length>10?i("div",[i("br"),e._v(" "),i("em",[e._v("And "+e._s(e.invalidContacts.length-10)+" more...")])]):e._e()],2):e._e()]):e._e(),e._v(" "),e.validContacts.length?i("v-alert",{attrs:{value:!0,type:"success",outline:""}},[i("div",{on:{click:function(t){e.expanded.valid=!e.expanded.valid}}},[i("h5",[e._v(e._s(e.validContacts.length)+" contact will receive this email")])]),e._v(" "),e.expanded.valid?i("div",{staticStyle:{"margin-top":"10px"}},[e._l(e.validSummary,(function(t){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[i("span",{},[e._v("From selected "+e._s(e._f("comma")(t.sources)))])])],1)})),e._v(" "),e.validContacts.length>10?i("div",[i("br"),e._v(" "),i("em",[e._v("And "+e._s(e.validContacts.length-10)+" more...")])]):e._e()],2):e._e()]):e._e(),e._v(" "),e.unsubscribedContacts.length?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[i("div",{on:{click:function(t){e.expanded.unsubscribed=!e.expanded.unsubscribed}}},[i("h5",[i("em",[e._v(e._s(e.unsubscribedContacts.length)+" selected contacts have unsubscribed from mail of this type ")])])]),e._v(" "),e.expanded.unsubscribed?i("div",{staticStyle:{"margin-top":"10px"}},[e._l(e.unsubscribedSummary,(function(t){return i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",{staticClass:"text-capitalize"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),i("v-flex",{staticClass:"text-sm-right",attrs:{xs12:"",sm4:"",muted:""}},[i("span",{},[e._v("From selected "+e._s(e._f("comma")(t.sources)))])])],1)})),e._v(" "),e.unsubscribedContacts.length>10?i("div",[i("br"),e._v(" "),i("em",[e._v("And "+e._s(e.unsubscribedContacts.length-10)+" more...")])]):e._e()],2):e._e()]):e._e()],1):e._e(),e._v(" "),"scheduled"==e.item.state?[i("v-btn",{staticClass:"mx-0",attrs:{color:"error",loading:e.abortProcessing,large:""},on:{click:function(t){return e.abort()}}},[i("strong",[e._v("Stop / Cancel")]),e._v(" "),i("fluro-icon",{attrs:{icon:"times",right:""}})],1)]:[e.validContacts.length?i("div",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("fluro-content-form-field",{attrs:{field:e.publishDateField,"persistent-hint":!0},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",[i("v-btn",{staticClass:"ma-0",attrs:{block:"",color:"success",loading:e.publishProcessing,large:""},on:{click:function(t){return e.publish()}}},[e.item.publishDate?[e._v("\n                                        Send "+e._s(e._f("timeago")(e.item.publishDate))+"\n                                        "),e._v(" "),i("fluro-icon",{attrs:{icon:"angle-right",right:""}})]:[e._v("\n                                        Publish and send now\n                                        "),i("fluro-icon",{attrs:{icon:"angle-right",right:""}})]],2)],1)],1)],1):e._e()]],2)],1)],1)],1)};r._withStripped=!0;var n={components:{FluroContentFormField:i(11).default},props:{value:{type:Object,required:!0}},methods:{publish(){var e=this,t=this.item.publishDate?new Date(this.item.publishDate):null;e.publishProcessing=!0,e.$fluro.api.get(`/mailout/${e.item._id}/publish`,{params:{date:t}}).then((function(t){switch(e.item.state=t.data.state,e.item.publishDate=t.data.publishDate,e.publishProcessing=!1,e.checkIfCountdownIsNeeded(),t.data.state){case"scheduled":e.$fluro.notify("Your mailout has been scheduled successfully");break;case"sent":e.$fluro.notify("Your mailout has been published")}})).catch((function(t){e.$fluro.error(t),e.publishProcessing=!1}))},abort(){var e=this;e.abortProcessing=!0,e.$fluro.api.get(`/mailout/${e.item._id}/abort`).then((function(t){var i=t.data;e.$fluro.notify("Mailout schedule cancelled"),e.abortProcessing=!1,e.item.state=i.state,e.item.publishDate=i.publishDate,e.checkIfCountdownIsNeeded()})).catch((function(t){e.$fluro.error(t),e.abortProcessing=!1}))},preflight(){var e=this;e.preflightProcessing=!0,e.$fluro.api.get(`/mailout/${this.item._id}/preflight`,{cache:!1}).then((function(t){e.preflightContacts=t.data,e.preflightProcessing=!1,e.validContacts=[],e.invalidContacts=[],e.unsubscribedContacts=[],_.each(t.data,(function(t){return t.emails&&t.emails.length?t.unsubscribed?e.unsubscribedContacts.push(t):e.validContacts.push(t):e.invalidContacts.push(t)}))})).catch((function(t){e.preflightProcessing=!1}))},checkIfCountdownIsNeeded(){"scheduled"==this.item.state?this.startCountdown():(this.stopCountdown(),this.duration=0)},stopCountdown(){this.timer&&clearInterval(this.timer)},startCountdown(){this.stopCountdown(),this.updateCountdown(),this.timer=setInterval(this.updateCountdown,1e3)},updateCountdown(){var e=(new Date).getTime(),t=new Date(this.item.publishDate).getTime()-e;this.duration=t}},watch:{"item.state":function(){this.checkIfCountdownIsNeeded()}},created(){this.preflight()},mounted(){this.checkIfCountdownIsNeeded()},activated(){this.checkIfCountdownIsNeeded()},deactivated(){this.stopCountdown()},beforeDestroy(){this.stopCountdown()},computed:{publishDateField:()=>({key:"publishDate",type:"date",minimum:0,maximum:1,directive:"datetimepicker",placeholder:"Send Immediately"}),publishDateHint(){return this.item.publishDate?"This email will be sent "+this.$fluro.date.timeago(this.item.publishDate):"This email will be sent immediately"},validSummary(){return this.validContacts.slice(0,10)},unsubscribedSummary(){return this.unsubscribedContacts.slice(0,10)},invalidSummary(){return this.invalidContacts.slice(0,10)},countdown(){return this.$fluro.video.readableMilliseconds(this.duration)}},data(){return{duration:0,preflightContacts:[],invalidContacts:[],unsubscribedContacts:[],validContacts:[],publishProcessing:!1,abortProcessing:!1,preflightProcessing:!1,expanded:{invalid:!1,unsubscribed:!1,valid:!1},item:this.value}}},a=i(0),o=Object(a.a)(n,r,[],!1,null,"8f3315a0",null);o.options.__file="src/components/mailout/MailoutPreflightPanel.vue";t.a=o.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-task-list"},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",{staticStyle:{padding:"5px"}},[i("h5",[i("fluro-inline-edit",{scopedSlots:e._u([{key:"default",fn:function(){return[e._v("\n                        "+e._s(e.model.title)+"\n                    ")]},proxy:!0},{key:"edit",fn:function(t){t.props;var r=t.blur,n=t.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model.title,expression:"model.title"}],attrs:{block:""},domProps:{value:e.model.title},on:{input:[function(t){t.target.composing||e.$set(e.model,"title",t.target.value)},e.update],focus:function(e){return n(e)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r(t)},blur:r}})]}}])})],1),e._v(" "),e.requiredMessage?i("p",{staticClass:"help-block",domProps:{innerHTML:e._s(e.requiredMessage)}}):e._e()]),e._v(" "),i("v-flex",{staticClass:"hover",attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{content:"More Options",icon:"",flat:""}},r),[e.actionsOpen?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}]),model:{value:e.actionsOpen,callback:function(t){e.actionsOpen=t},expression:"actionsOpen"}},[e._v(" "),i("v-list",{attrs:{dense:""}},[e._l(e.states,(function(t){return i("v-list-tile",{on:{click:function(i){return e.selectState(t.key)}}},[i("v-list-tile-content",[e._v("Mark as required to complete '"+e._s(t.title)+"'")])],1)})),e._v(" "),i("v-list-tile",{on:{click:function(t){return e.selectState(null)}}},[i("v-list-tile-content",[e._v("Disconnect from process")])],1),e._v(" "),i("v-divider"),e._v(" "),i("v-list-tile",{on:{click:function(t){return e.remove()}}},[i("v-list-tile-content",[e._v("Delete '"+e._s(e.model.title)+"'")])],1)],2)],1)],1)],1),e._v(" "),i("draggable",{staticClass:"task-list-items",attrs:{list:e.model.tasks,options:e.dragOptions},on:{start:e.dragStart,change:e.onChange,end:e.dragEnd}},e._l(e.model.tasks,(function(t,r){return i("fluro-task-item",{key:t.guid,attrs:{state:e.state,definition:e.definition,card:e.card},on:{input:e.update},model:{value:e.model.tasks[r],callback:function(t){e.$set(e.model.tasks,r,t)},expression:"model.tasks[index]"}})})),1),e._v(" "),[i("fluro-inline-edit",{attrs:{autofocus:e.value.autofocus},scopedSlots:e._u([{key:"default",fn:function(){return[i("v-btn",{staticClass:"ml-0",attrs:{small:""}},[e._v("\n                    Add task\n                    "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)]},proxy:!0},{key:"edit",fn:function(t){t.props;var r=t.blur;t.focus;return[i("v-layout",{attrs:{row:""}},[i("v-flex",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proposedTaskName,expression:"proposedTaskName"}],attrs:{block:"",placeholder:"Type a title for this task and then press enter"},domProps:{value:e.proposedTaskName},on:{blur:r,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.pushProposedTask()},input:function(t){t.target.composing||(e.proposedTaskName=t.target.value)}}})]),e._v(" "),e.proposedTaskName.length?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{icon:""},on:{mousedown:function(t){return e.newTaskMore()}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1):e._e()],1)]}}])})]],2)};r._withStripped=!0;var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-task-item",class:[e.model.status,{hover:e.over}],on:{mouseover:function(t){e.over=!0},mouseout:function(t){e.over=!1},click:function(t){return e.clicked()}}},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.prompt()}}},[i("v-btn",{staticClass:"ma-0 mr-2",attrs:{icon:""}},[i("span",{staticClass:"checkbox-outer",class:e.model.status},["pending"==e.model.status?i("fluro-icon",{attrs:{library:"fas",icon:"minus"}}):"failed"==e.model.status?i("fluro-icon",{attrs:{library:"fas",icon:"exclamation"}}):i("fluro-icon",{attrs:{library:"fas",icon:"check"}})],1)])],1)]),e._v(" "),i("v-flex",[i("fluro-inline-edit",{scopedSlots:e._u([{key:"default",fn:function(){return[i("strong",[e._v(e._s(e.model.name))])]},proxy:!0},{key:"edit",fn:function(t){t.props;var r=t.blur,n=t.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],staticClass:"input",domProps:{value:e.model.name},on:{focus:function(e){return n(e)},input:[function(t){t.target.composing||e.$set(e.model,"name",t.target.value)},e.update],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r(t)},blur:r}})]}}])}),e._v(" "),i("div",{staticClass:"wrap"},[i("fluro-inline-edit",{scopedSlots:e._u([{key:"default",fn:function(){return[i("div",{staticClass:"sm muted",domProps:{innerHTML:e._s(e.model.description)}}),e._v(" "),i("div",{staticClass:"detail-placeholder"},[e.model.description&&e.model.description.length?e._e():i("div",{staticClass:"sm muted"},[e._v("Click here to add more description")])])]},proxy:!0},{key:"edit",fn:function(t){t.props;var r=t.blur,n=t.focus;return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.description,expression:"model.description"}],staticClass:"input",attrs:{placeholder:"Add more details to this task"},domProps:{value:e.model.description},on:{focus:function(e){return n(e)},input:[function(t){t.target.composing||e.$set(e.model,"description",t.target.value)},e.update],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r(t)},blur:r}})]}}])})],1)],1),e._v(" "),i("v-flex",{staticClass:"edit-button",attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.edit(t)}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)};n._withStripped=!0;var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-task-modal"},[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[i("h3",{attrs:{margin:""}},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"introduction",domProps:{innerHTML:e._s(e.description)}})])],1),e._v(" "),i("flex-column-body",[i("div",{staticClass:"task-options border-top border-bottom"},[i("div",{staticClass:"task-option-item complete",class:{active:"complete"==e.task.status},on:{click:function(t){return e.select("complete")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[e._v(e._s(e.completeLabel))]),e._v(" "),e.completeDescription?i("div",{staticClass:"sm muted"},[e._v(e._s(e.completeDescription))]):e._e()]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"thumbs-up"}})],1)])],1)],1),e._v(" "),e.pendingEnabled?i("div",{staticClass:"task-option-item pending",class:{active:"pending"==e.task.status},on:{click:function(t){return e.select("pending")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[e._v(e._s(e.pendingLabel))]),e._v(" "),e.pendingDescription?i("div",{staticClass:"sm muted"},[e._v(e._s(e.pendingDescription))]):e._e()]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"tasks"}})],1)])],1)],1):e._e(),e._v(" "),e.failedEnabled?i("div",{staticClass:"task-option-item failed",class:{active:"failed"==e.task.status},on:{click:function(t){return e.select("failed")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[e._v(e._s(e.failedLabel))]),e._v(" "),e.failedDescription?i("div",{staticClass:"sm muted"},[e._v(e._s(e.failedDescription))]):e._e()]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"thumbs-down"}})],1)])],1)],1):e._e(),e._v(" "),"incomplete"!=e.task.status?i("div",{staticClass:"task-option-item",on:{click:function(t){return e.select("incomplete")}}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("strong",[e._v("Incomplete")]),e._v(" "),i("div",{staticClass:"sm muted"},[e._v("Reset this task back to it's untouched state")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"task-icon"},[i("fluro-icon",{attrs:{icon:"circle"}})],1)])],1)],1):e._e()])]),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                Cancel\n            ")])],1)],1)],1)};a._withStripped=!0;var o=i(5),s=i(35),l=(i(164),{props:{options:{type:Object}},mixins:[o.a],data:()=>({flipped:!1}),computed:{instructions(){return this.task.instructions||{}},pendingEnabled(){return!this.instructions.pendingDisabled},failedEnabled(){return!this.instructions.failedDisabled},completeLabel(){return this.instructions.completeLabel&&this.instructions.completeLabel.length?this.instructions.completeLabel:"Complete"},pendingLabel(){return this.instructions.pendingLabel&&this.instructions.pendingLabel.length?this.instructions.pendingLabel:"In Progress"},failedLabel(){return this.instructions.failedLabel&&this.instructions.failedLabel.length?this.instructions.failedLabel:"Failed"},completeDescription(){return this.instructions.completeDescription&&this.instructions.completeDescription.length?this.instructions.completeDescription:""},pendingDescription(){return this.instructions.pendingDescription&&this.instructions.pendingDescription.length?this.instructions.pendingDescription:""},failedDescription(){return this.instructions.failedDescription&&this.instructions.failedDescription.length?this.instructions.failedDescription:""},task(){return this.options.task},card(){return this.options.card},title(){return this.task.name},description(){return this.task.description}},methods:{select(e){var t,i=this;switch(i.task.status=e,e){case"complete":t=i.task.postComplete;break;case"pending":t=i.task.postPending;break;case"failed":t=i.task.postFailed}if(!t)return i.close(e);console.log("Do a task",i.card.item,i.card);i.$fluro.modal({component:s.default,options:{definitionName:t,skip:!0,item:i.card.item||i.card}}).then((function(t){return i.close(e)})).catch((function(t){return t?i.$fluro.error(t):i.close(e)}))}}}),c=(i(389),i(0)),u=Object(c.a)(l,a,[],!1,null,null,null);u.options.__file="src/components/form/tasklist/FluroTaskModal.vue";var d=u.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-task-edit-modal"},[i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"pa-2":""}},[i("v-layout",{attrs:{"align-center":"",row:""}},[i("v-flex",[i("h4",[i("fluro-icon",{attrs:{icon:"square-pencil"}}),e._v(" "+e._s(e.model.name))],1)]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{staticClass:"ma-0",attrs:{small:"",color:"primary"},on:{click:function(t){return e.dismiss()}}},[e._v("\n                        Done\n                    ")])],1)],1)],1)],1),e._v(" "),i("fluro-tabset",{attrs:{justified:!0}},[i("fluro-tab",{attrs:{heading:"Description"}},[i("flex-column-body",[i("v-container",[i("fluro-content-form",{attrs:{fields:e.fields},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1),e._v(" "),i("fluro-tab",{attrs:{heading:e.completeLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:e.completeFields},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1),e._v(" "),i("fluro-tab",{attrs:{heading:e.pendingLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:e.pendingFields},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1),e._v(" "),i("fluro-tab",{attrs:{heading:e.failedLabel}},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("fluro-content-form",{attrs:{fields:e.failedFields},on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"py-1 px-2"},[i("v-btn",{attrs:{block:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                Cancel\n            ")])],1)],1)],1)};p._withStripped=!0;var f=i(10),m=i(13),h=i(14),v={components:{FluroContentForm:f.default,FluroTabset:m.a,FluroTab:h.a},props:{options:{type:Object}},mixins:[o.a],data(){var e=JSON.parse(JSON.stringify(this.options.task));return e.instructions||(e.instructions={}),{model:e,fields:[{title:"Task name",key:"name",type:"string",minimum:0,maximum:1},{title:"Description",description:"Optional extra detail for how to complete this task",placeholder:"Optional extra detail for how to complete this task",key:"description",type:"string",directive:"textarea",minimum:0,maximum:1}]}},methods:{update(){console.log("Update occurred!"),this.options.callback(this.model)}},asyncComputed:{postTypes:{default:[],get(){return this.$fluro.types.subTypes("post")}}},computed:{postOptions(){return _.chain(this.postTypes).map((function(e){return{name:e.title,value:e.definitionName}})).orderBy((function(e){return e.name})).value()},completeFields(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",fields:[{title:"Complete Label",description:"Set what label should be used when referring to this task being complete",key:"completeLabel",type:"string",minimum:0,maximum:1,params:{persistentDescription:!0}},{title:"Instructions",description:"Add extra detail about what this task means when it is marked as complete",key:"completeDescription",type:"string",directive:"textarea",minimum:0,maximum:1,params:{persistentDescription:!0}}]},{title:"Complete Post Type",description:"Ask for a post to be created for extra details when this task is marked as complete",params:{persistentDescription:!0},key:"postComplete",type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions}]},pendingFields(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",className:"form-group",fields:[{title:`Disable '${this.pendingLabel}' Option`,description:`Disable the ability for this task to be marked as '${this.pendingLabel}'`,key:"pendingDisabled",type:"boolean",minimum:0,maximum:1},{type:"group",expressions:{hide:"model.pendingDisabled"},fields:[{title:"Pending Label",description:"Set what label should be used when referring to this task being in progress or",key:"pendingLabel",params:{persistentDescription:!0},type:"string",minimum:0,maximum:1},{title:"Instructions",description:"Add extra detail about what this task means when it is marked as pending",key:"pendingDescription",params:{persistentDescription:!0},type:"string",directive:"textarea",minimum:0,maximum:1}]}]},{title:"Pending Post Type",description:"Ask for a post to be created for extra details when this task is marked as pending",key:"postPending",params:{persistentDescription:!0},type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions,expressions:{hide:"data.instructions.pendingDisabled"}}]},failedFields(){return[{type:"group",asObject:!0,minimum:1,maximum:1,askCount:1,key:"instructions",fields:[{title:`Disable '${this.failedLabel}' Option`,description:`Disable the ability for this task to be marked as '${this.failedLabel}'`,key:"failedDisabled",type:"boolean",minimum:0,maximum:1},{type:"group",expressions:{hide:"model.failedDisabled"},fields:[{title:"Label",description:`Set what label should be used when referring to this task being '${this.failedLabel}'`,key:"failedLabel",type:"string",params:{persistentDescription:!0},minimum:0,maximum:1},{title:"Instructions",description:`Add extra detail about what this task means when it is marked as '${this.failedLabel}'`,key:"failedDescription",type:"string",params:{persistentDescription:!0},directive:"textarea",minimum:0,maximum:1}]}]},{title:"Failed Post Type",description:`Ask for a post to be created for extra details when this task is marked as '${this.failedLabel}'`,params:{persistentDescription:!0},key:"postFailed",expressions:{hide:"data.instructions.failedDisabled"},type:"string",directive:"select",minimum:0,maximum:1,options:this.postOptions}]},instructions(){return this.model.instructions||{}},completeLabel(){return this.instructions.completeLabel||"Complete"},pendingLabel(){return this.instructions.pendingLabel||"Pending"},failedLabel(){return this.instructions.failedLabel||"Failed"}}},g=(i(391),Object(c.a)(v,p,[],!1,null,null,null));g.options.__file="src/components/form/tasklist/FluroTaskEditModal.vue";var b=g.exports,y=i(20),x=i(45),k={components:{FluroInlineEdit:y.default,FluroEditor:x.default},props:{value:{type:Object,required:!0},state:{type:String},definition:{type:Object},card:{type:Object}},mounted(){this.value.immediateModal&&this.edit()},data(){var e=JSON.parse(JSON.stringify(this.value));return e.autofocus&&delete e.autofocus,e.immediateModal&&(console.log("Immediate Modal!",this.value),delete e.immediateModal),{over:!1,checked:!1,model:e}},watch:{value(e){this.model=e}},methods:{clicked(){switch(this.mode){case"edit":this.edit();break;case"do":this.prompt()}},edit(){var e=this;return e.$fluro.modal({component:b,options:{task:e.model,card:e.card,definition:e.definition,callback:function(t){e.model=t,e.update()}}}).then((function(t){e.model=t,e.update()})).catch((function(e){}))},update(){this.$emit("input",this.model)},prompt(){var e=this,t=this.model,i=_.chain(e.definition).get("data.states").find((function(t){return t.key==e.card.state})).value().taskLists||[],r=_.chain(i).map("tasks").flatten().find((function(e){return e.name==t.name})).value();return e.$fluro.modal({component:d,options:{task:r||e.model,card:e.card}}).then((function(t){e.model.status=t,e.update()})).catch((function(e){}))}}},w=(i(396),Object(c.a)(k,n,[],!1,null,null,null));w.options.__file="src/components/form/tasklist/FluroTaskItem.vue";var C={components:{draggable:()=>Promise.resolve().then(i.t.bind(null,511,7)),FluroTaskItem:w.exports,FluroInlineEdit:y.default},props:{card:{type:Object},editMode:{type:Boolean},value:{type:Object,required:!0},state:{type:String,required:!0},definition:{type:Object,required:!0}},data(){var e=JSON.parse(JSON.stringify(this.value));return delete e.autofocus,{over:!1,actionsOpen:!1,model:e,proposedTaskName:""}},watch:{value(){this.model=JSON.parse(JSON.stringify(this.value))}},methods:{newTaskMore(){this.model.tasks.push({immediateModal:!0,name:this.proposedTaskName,required:!0,state:this.state,status:"incomplete"}),this.proposedTaskName="",this.update()},pushProposedTask(e){this.proposedTaskName&&this.proposedTaskName.length&&(this.model.tasks.push({autofocus:!0,name:String(this.proposedTaskName),required:!0,state:this.state}),this.update()),this.proposedTaskName="",e&&e()},addTask(){this.model.tasks.push({name:"New task",required:!0,state:this.state,status:"incomplete"}),this.update()},selectState(e){this.model.state=e,this.update()},dragStart(){},dragEnd(){this.update()},onChange(){this.update()},update(){this.$emit("input",this.model)},remove(){this.update(),this.$emit("remove",this.model)}},computed:{dragOptions:()=>({group:"tasks",animation:150}),requiredMessage(){var e=this.model.state;if(e){var t=_.find(this.states,{key:e});if(t)return`Required to complete <strong>${t.title}</strong>`}},states(){return _.get(this.definition,"data.states")},availableActions(){return[{title:`Edit '${this.model.title}'`,click:function(){}}]}}},S=(i(398),Object(c.a)(C,r,[],!1,null,null,null));S.options.__file="src/components/form/tasklist/FluroTaskList.vue";t.a=S.exports},function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-timeline"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("fluro-timeline",{scopedSlots:e._u([{key:"card",fn:function(t){var r=t.entry;return[r.grouped?e._l(r.entries,(function(e){return i("log-card",{key:e._id,attrs:{item:e}})})):r._type?["mailout"==r._type?[i("mailout-card",{attrs:{item:r}})]:"post"==r._type?[i("post-card",{attrs:{item:r}})]:"interaction"==r._type?[i("interaction-card",{attrs:{item:r}})]:"checkin"==r._type?[i("checkin-card",{attrs:{item:r}})]:"assignment"==r._type?[i("roster-card",{attrs:{item:r}})]:"sms"==r._type?[i("text-message-card",{attrs:{item:r}})]:[i("div",{staticClass:"timeline-card"},[i("pre",[e._v(e._s(r))])])]]:[i("log-card",{attrs:{item:r}})]]}}]),model:{value:e.array,callback:function(t){e.array=t},expression:"array"}})]],2)};r._withStripped=!0;var n={props:{items:{type:Array},value:{type:Object}},components:{FluroTimeline:()=>Promise.resolve().then(i.bind(null,189)),MailoutCard:()=>i.e(2).then(i.bind(null,781)),PostCard:()=>i.e(3).then(i.bind(null,782)),InteractionCard:()=>i.e(47).then(i.bind(null,783)),CheckinCard:()=>i.e(46).then(i.bind(null,784)),LogCard:()=>i.e(48).then(i.bind(null,785)),RosterCard:()=>i.e(49).then(i.bind(null,786)),TextMessageCard:()=>i.e(4).then(i.bind(null,787)),GroupedCard:()=>i.e(64).then(i.bind(null,788))},data(){return{loading:!1,model:this.value}},asyncComputed:{array:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.model);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get(`/contact/${t}/timeline`).then((function(t){i(t.data),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},a=(i(279),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/content/contact/timeline/ContactTimeline.vue";t.a=o.exports},function(e,t,i){"use strict";let r=[];r.push({title:"Basic Text Field",description:"Add a basic text field",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:""}}),r.push({title:"Multiple Choice",description:"Add a select dropdown where the user can choose an option from a list",field:{title:"",minimum:0,maximum:1,askCount:1,type:"string",key:"",directive:"select",allowedValues:["Option One","Option Two","Option Three","Option Four"]}}),r.push({title:"Person",key:"person",description:"Add a new Contact Reference Field including the basic details (First Name, Last Name etc..)",field:{title:"",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"",params:{restrictType:"contact"},fields:[{title:"Names",type:"group",key:"names",sameLine:!0,fields:[{title:"First Name",minimum:1,maximum:1,key:"firstName",type:"string"},{title:"Last Name",minimum:1,maximum:1,key:"lastName",type:"string"}]},{title:"Gender",minimum:1,maximum:1,key:"gender",type:"string",directive:"select",options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"I'd prefer not to say",value:"unknown"}]},{title:"Date of Birth",minimum:1,maximum:1,key:"dob",type:"date",directive:"date-select"},{title:"Email / Phone",key:"contactoptions",type:"group",sameLine:!0,fields:[{title:"Email Address",minimum:1,maximum:1,key:"email",type:"email"},{title:"Phone Number",minimum:1,maximum:1,key:"phoneNumber",type:"string"}]}]}}),r.push({title:"Family Household / Address",description:"Add a new Family Household Reference Field including address, suburb etc",field:{title:"Family Household / Address",minimum:1,maximum:1,askCount:1,type:"reference",directive:"embedded",key:"family",params:{restrictType:"family"},fields:[{title:"Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"address",fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]},{key:"samePostal",title:"Postal Address is the same",minimum:0,maximum:1,type:"boolean",defaultValues:[!0]},{title:"Postal Address",asObject:!0,minimum:1,maximum:1,askCount:1,type:"group",key:"postalAddress",expressions:{hide:"model.samePostal"},fields:[{key:"header",title:"Heading",minimum:0,maximum:1,type:"void",directive:"custom",template:"<h5>Postal Address</h5>"},{title:"Address Line 1",minimum:1,maximum:1,key:"addressLine1",type:"string"},{title:"Address Line 2",minimum:0,maximum:1,key:"addressLine2",type:"string"},{title:"Suburb/State/Postcode",minimum:1,maximum:1,key:"ssp",type:"group",sameLine:!0,fields:[{title:"Suburb",minimum:0,maximum:1,key:"suburb",type:"string"},{title:"State",minimum:0,maximum:1,key:"state",type:"string"},{title:"Postal / Zip Code",minimum:0,maximum:1,key:"postalCode",type:"string"}]}]}]}}),r.push({title:"Heading",description:"Add a custom heading or html markup",field:{title:"My Heading",description:"This is the description",minimum:1,maximum:1,type:"void",directive:"custom",key:"heading",template:"<h3>{{field.title}}</h3>\n<p>{{field.description}}</p>"},params:{}}),r.push({title:"Video",description:"Add a video embed",field:{title:"My Video",description:"This is a video",minimum:1,maximum:1,type:"void",directive:"custom",key:"videoItem",template:'<h3>{{field.title}}</h3>\n\n                    <p>{{field.description}}</p>\n\n                    <div style="width:100%; position:relative; height:0; padding-bottom:56.25%;">\n<iframe style="width:100%; height:100%; position: absolute; top:0; right:0; bottom:0; left:0; " src="https://www.youtube.com/embed/iJ1ynQ46984" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n</div>\n\n                    '},params:{}}),r.push({title:"Signature",description:"Request the user to write their signature",field:{title:"Signature",description:"Please sign your name",minimum:1,maximum:1,type:"string",directive:"signature",key:"signature"},params:{}}),r.push({title:"File Upload",description:"Add a video, asset, or image upload field",field:{title:"Upload Image",description:"Select your image/s to upload",minimum:0,maximum:0,type:"reference",directive:"upload",params:{restrictType:"image"},key:"upload"},params:{}}),r.push({title:"Website link",description:"Add a link to an external URL",field:{title:"External Link",minimum:1,maximum:1,type:"void",directive:"custom",key:"link",template:'<a target="_blank" href="https://www.fluro.io">Click here to view the link</a>'},params:{}}),t.a=r},function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.pushParams=l,t.popParams=c,t.withParams=function(e,t){if("object"===a(e)&&void 0!==t)return i=e,r=t,d((function(e){return function(){e(i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.apply(this,n)}}));var i,r;return d(e)},t._setTarget=t.target=void 0;var o=[],s=null;t.target=s;function l(){null!==s&&o.push(s),t.target=s={}}function c(){var e=s,i=t.target=s=o.pop()||null;return i&&(Array.isArray(i.$sub)||(i.$sub=[]),i.$sub.push(e)),e}function u(e){if("object"!==a(e)||Array.isArray(e))throw new Error("params must be an object");t.target=s=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},s,{},e)}function d(e){var t=e(u);return function(){l();try{for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.apply(this,i)}finally{c()}}}t._setTarget=function(e){t.target=s=e}},function(e,t){e.exports=brace/mode/javascript},function(e,t){e.exports=tiptap-utils},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)(this.component,{tag:"component"})};r._withStripped=!0;var n=i(7),a=i.n(n),o={props:{template:{type:String,default:()=>""},context:{type:Object,default:()=>({})}},data:()=>({component:null}),watch:{template:function(e){this.render()},context:function(e){this.render()}},mounted(){this.render()},created(){this.render()},methods:{render(){var e=this;if(!e.template||!e.template.length)return void(e.component=null);let t=a.a.extend({template:`<div>${e.template}</div>`,data:()=>e.context||{}});e.component=t}}},s=i(0),l=Object(s.a)(o,r,[],!1,null,"7045e522",null);l.options.__file="src/components/FluroCompileHtml.vue";t.default=l.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column-body",{attrs:{"scroll-parent":""}},[i("div",{staticClass:"timeline-wrapper"},[e.massive?[i("fluro-infinite-scroll",{attrs:{perPage:1,startPage:1,buffer:2,items:e.months},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"year"},e._l(t.page,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(t.title)+" "+e._s(t.year))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"entries"},[e._l(t.entries,(function(t){return e._t("card",null,{entry:t})}))],2)])}))],2)})),0)]}}],null,!0)})]:[i("fluro-infinite-scroll",{attrs:{perPage:1,startPage:1,buffer:2,items:e.years},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.page,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(t.title))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(t.title))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"entries"},[e._l(t.entries,(function(t){return e._t("card",null,{entry:t})}))],2)])}))],2)}))],2)}))}}],null,!0)})]],2)])};r._withStripped=!0;var n={components:{FluroInfiniteScroll:i(159).a},props:{value:{type:Array,required:!0}},data(){return{array:this.value}},computed:{massive(){return this.array.length>400},entries(){var e=_.chain(this.array).map((function(e){return e.date=new Date(e.date),e})).orderBy((function(e){return-1*e.date})).value();return this.massive?_.chain(e).reduce((function(e,t){var i=`${t.type||t._type}-${t.date}`,r=e[i];return r||(r=e[i]={type:t._type,grouped:!0,entries:[],date:t.date}),r.entries.push(t),e}),{}).values().map((function(e){return e.entries.length<3?e.entries:e})).flatten().value():e},months(){var e=this;return _.chain(this.entries).reduce((function(t,i){var r=i.date,n=e.$fluro.date.formatDate(i.date,"D MMM YYYY"),a=e.$fluro.date.formatDate(i.date,"D MMM"),o=t[n];return o||(o=t[n]={title:a,key:n,date:r,entries:[]}),o.entries.push(i),t}),{}).values().orderBy((function(e){return-e.date})).reduce((function(t,i){var r=i.date,n=e.$fluro.date.formatDate(i.date,"MMM YYYY"),a=e.$fluro.date.formatDate(i.date,"MMM"),o=e.$fluro.date.formatDate(i.date,"YYYY"),s=t[n];return s||(s=t[n]={title:a,key:n,date:r,year:o,days:[]}),s.days.push(i),t}),{}).values().orderBy((function(e){return-e.date})).value()},years(){var e=this;return _.chain(e.months).reduce((function(t,i){var r=i.date,n=e.$fluro.date.formatDate(i.date,"YYYY"),a=e.$fluro.date.formatDate(i.date,"YYYY"),o=t[n];return o||(o=t[n]={title:a,key:n,date:r,months:[]}),o.months.push(i),t}),{}).values().orderBy((function(e){return-e.date})).value()}}},a=(i(336),i(0)),o=Object(a.a)(n,r,[],!1,null,"60c1fbfc",null);o.options.__file="src/components/ui/FluroTimeline.vue";t.default=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-content-select",class:{outlined:e.showOutline}},[e.model.length?[e.model.length<=e.listLimit?i("div",{staticClass:"fluro-content-list"},[i("list-group",[i("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"draggable",e.dragOptions,!1),e._l(e.model,(function(t,r){return i("list-group-item",{attrs:{item:t},on:{click:function(i){return e.$fluro.global.view(t,!0)}},scopedSlots:e._u([{key:"right",fn:function(){return[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},n),[e.actionIndexes[r]?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:e.actionIndexes[r],callback:function(t){e.$set(e.actionIndexes,r,t)},expression:"actionIndexes[index]"}},[e._v(" "),i("v-list",{attrs:{dense:""}},[e.editInPlaceEnabled(t)?i("v-list-tile",{on:{click:function(i){return e.editInPlace(t)}}},[i("v-list-tile-content",[e._v("Edit")])],1):e._e(),e._v(" "),i("v-list-tile",{on:{click:function(i){return e.deselect(t)}}},[i("v-list-tile-content",[e._v("Deselect")])],1),e._v(" "),i("v-list-tile",{on:{click:function(i){return e.$actions.open([t])}}},[i("v-list-tile-content",[e._v("More Actions")])],1)],1)],1)]},proxy:!0}],null,!0)})})),1)],1)],1):i("div",{staticClass:"fluro-content-list"},[i("list-group",e._l(e.limited,(function(t,r){return i("list-group-item",{attrs:{item:t},scopedSlots:e._u([{key:"right",fn:function(){return[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"ma-0",attrs:{icon:"",small:"",flat:""},on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},n),[e.actionIndexes[r]?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)]}}],null,!0),model:{value:e.actionIndexes[r],callback:function(t){e.$set(e.actionIndexes,r,t)},expression:"actionIndexes[index]"}},[e._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$actions.open([t])}}},[i("v-list-tile-content",[e._v("Actions")])],1),e._v(" "),i("v-list-tile",{on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.deselect(t)}}},[i("v-list-tile-content",[e._v("Deselect")])],1)],1)],1)]},proxy:!0}],null,!0)})})),1)],1)]:e._e(),e._v(" "),e.canAddValue?i("div",{staticClass:"content-select-search-bar"},[i("div",{staticClass:"content-select-search"},[i("v-autocomplete",{attrs:{outline:e.showOutline,success:e.success,required:e.required,"error-messages":e.errorMessages,hint:e.hint,"hide-selected":!0,"append-icon":"","persistent-hint":!0,placeholder:e.textPlaceholder,"return-object":!0,"item-text":"title",multiple:!0,loading:e.loading,items:e.results,"search-input":e.search,flat:"","hide-no-data":""},on:{focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")},change:function(t){return e.selected()},"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[i("v-list-tile-avatar",{staticClass:"text-sm-center"},["persona"==r._type?[i("fluro-avatar",{attrs:{id:r._id,type:"persona"}})]:"contact"==r._type?[i("fluro-avatar",{attrs:{id:r._id,type:"contact"}})]:"image"==r._type?[i("fluro-image",{attrs:{item:r,spinner:!0,width:40,height:40}})]:[i("fluro-icon",{attrs:{type:r._type}})]],2),e._v(" "),i("v-list-tile-content",["event"==r._type?[i("v-list-tile-title",{domProps:{textContent:e._s(r.title)}}),e._v(" "),i("div",{staticClass:"muted"},[e._v(e._s(e._f("readableEventDate")(r)))])]:[i("v-list-tile-title",{domProps:{textContent:e._s(r.title)}})]],2)]}}],null,!1,1067703648),model:{value:e.candidates,callback:function(t){e.candidates=t},expression:"candidates"}})],1),e._v(" "),i("div",{staticClass:"content-select-search-buttons"},[e.canCreate?i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0 mr-1",attrs:{small:"",content:"Create new "+e.readableSingle,color:"primary",icon:""},on:{click:function(t){return e.create()}}},[i("fluro-icon",{attrs:{icon:"plus"}})],1):e._e(),e._v(" "),i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",content:"Browse for "+e.readablePlural,icon:""},on:{click:e.showModal}},[i("fluro-icon",{attrs:{icon:"search"}})],1)],1)]):e._e()],2)};r._withStripped=!0;var n=i(18),a=i(26),o={components:{draggable:()=>Promise.resolve().then(i.t.bind(null,511,7))},mixins:[n.a],props:{template:{type:Object},success:{type:Boolean},required:{type:Boolean},errorMessages:{type:Array},label:{type:String},hint:{default:"",type:String},placeholder:{type:String},value:{type:[Array,Object],default:function(){return[]}},type:{type:String},types:{type:Array},minimum:{type:Number,default:0},maximum:{type:Number,default:0},outline:{type:Boolean},options:{default:function(){return{}},type:Object},searchInheritable:{type:Boolean,default:!0},allDefinitions:{type:Boolean,default:!0},lockFilter:{type:Object}},created(){this.setInitialValue(this.value)},computed:{readableSingle(){return this.$fluro.types.readable(this.type)},readablePlural(){return this.$fluro.types.readable(this.type,!0)},canCreate(){var e=this.type;if(e)switch(e){case"node":break;default:return this.$fluro.access.can("create",e,this.$fluro.types.parentType(e))}},textPlaceholder(){var e=this.type?this.$fluro.types.readable(this.type,!0):"items";return this.placeholder||"Search for "+e},showOutline(){return this.outline||this.options.outline},limited(){return this.model.slice(0,this.listLimit)},model:{get(){return this.selection},set(e){this.selection=e}},multiple(){return 1!=this.maximum},total(){return this.model.length},canAddValue(){return!this.maximum||this.total<this.maximum},dragOptions:()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),search:{get(){return this.terms},set:_.debounce((function(e){this.terms=e}),500)}},methods:{editInPlaceEnabled(e){return this.$fluro.access.canEditItem(e)&&this.$fluro.global.edit},editInPlace(e){this.$fluro.global.edit&&this.$fluro.global.edit(e,!0).then((function(t){_.assign(e,t),console.log("Updated!",e)}))},setInitialValue(e){this.selectionMinimum=this.minimum,this.selectionMaximum=this.maximum,e&&(_.isArray(e)&&e.length?this.setSelection(e):(e._id||e.length)&&this.setSelection([e]))},create(){var e=this;e.$fluro.global.create(e.type,{disableCacheClearOnSave:!0,template:JSON.parse(JSON.stringify(e.template||{}))},!0).then((function(t){e.select(t)}))},showModal(){console.log("SHOW MODAL",e);var e=this;e.$fluro.modal({component:a.a,options:{selector:e,type:e.type,minimum:e.minimum,maximum:e.maximum,allDefinitions:e.allDefinitions,searchInheritable:e.searchInheritable,lockFilter:e.lockFilter}})},closeModal(){this.dialog=!1},selected(){var e=this,t=e.candidates;if(e.canAddValue){if(e.maximum){var i=e.maximum-e.total;t=t.slice(0,i)}t.length&&_.each(t,(function(t){e.select(t)}))}e.terms="",e.candidates=[]},getActions(e){var t=this,i=[];return i.push({title:"Deselect",click:function(){return t.deselect(e)}}),i}},watch:{value(e){this.setInitialValue(e)},terms:function(e){var t=this;if(t.results=[],e&&e.length){t.loading=!0;var i={allDefinitions:!0};t.type&&(i.types=t.type),t.$fluro.content.search(e,i).then((function(e){t.results=e,t.loading=!1})).catch((function(e){t.loading=!1,t.results=[]}))}},model:function(){this.multiple?this.$emit("input",this.model):this.$emit("input",_.first(this.model))},minimum(e){console.log("CHANGESSS",e);this.selectionMinimum=e},maximum(e){console.log("CHANGESSS",e);this.selectionMaximum=e}},data:()=>({listLimit:50,actionIndexes:{},candidates:[],results:[],terms:"",loading:!1,dialog:!1,drag:!1})},s=(i(418),i(0)),l=Object(s.a)(o,r,[],!1,null,null,null);l.options.__file="src/components/form/FluroContentSelect.vue";t.default=l.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-expression-editor"},[i("code-editor",{attrs:{lang:"javascript",height:30},on:{init:e.editorInit},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)};r._withStripped=!0;i(43);var n={props:{value:{type:String,default:""},readonly:{type:Boolean}},data(){return{editor:null,model:this.value}},methods:{editorInit:function(e){i(186),this.editor=e,e.on("paste",(function(e){e.text=e.text.replace(/[\r\n]+/g," ")})),e.renderer.screenToTextCoordinates=function(e,t){var i=this.pixelToScreenCoordinates(e,t);return this.session.screenToDocumentPosition(Math.min(this.session.getScreenLength()-1,Math.max(i.row,0)),Math.max(i.column,0))},e.commands.bindKey("Enter|Shift-Enter","null"),e.renderer.setShowGutter(!1),this.readonly&&e.setReadOnly(!0)}},components:{CodeEditor:()=>Promise.resolve().then(i.t.bind(null,200,7))},watch:{value(e){e!==this.model&&this.editor.session.setValue(e)},model(e){e!=this.model&&this.editor.setContent(this.model),this.$emit("input",this.model)}}},a=(i(420),i(0)),o=Object(a.a)(n,r,[],!1,null,null,null);o.options.__file="src/components/form/FluroExpressionEditor.vue";t.default=o.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{lazy:"","full-width":"",width:e.width,disabled:e.disabled},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[i("v-input",{staticClass:"no-flex",attrs:{slot:"activator",label:e.label,hint:e.hint,"persistent-hint":!0,disabled:e.disabled,loading:e.loading,"error-messages":e.errorMessages,"error-count":e.errorCount,error:e.error,"hide-details":e.hideDetails},slot:"activator"},[i("v-btn",{staticClass:"mx-0",attrs:{block:"",large:"",color:"#e0e0e0"}},[i("fluro-icon",{attrs:{left:"",icon:"calendar-alt"}}),e._v(e._s(e.readable)+"\n            ")],1)],1),e._v(" "),i("flex-column",[i("fluro-tabset",{attrs:{justified:!0},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[i("fluro-tab",{attrs:{heading:"Date"}},[i("v-date-picker",{staticClass:"elevation-0",attrs:{attach:"",min:e.minDateString,max:e.maxDateString,"full-width":"",scrollable:"",locale:e.locale,actions:""},model:{value:e.datePart,callback:function(t){e.datePart=t},expression:"datePart"}})],1),e._v(" "),i("fluro-tab",{attrs:{heading:"Time"}},[i("v-time-picker",{ref:"timer",staticClass:"v-time-picker-custom elevation-0",attrs:{attach:"","full-width":"",scrollable:"",format:e.timePickerFormat,actions:""},model:{value:e.timePart,callback:function(t){e.timePart=t},expression:"timePart"}})],1)],1),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),e._t("actions",[i("v-btn",{attrs:{color:"",flat:""},nativeOn:{click:function(t){return e.clearHandler(t)}}},[e._v(e._s(e.clearText))]),e._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:e.okHandler}},[e._v(e._s(e.okText))])],{parent:this})],2)],1)],1)};r._withStripped=!0;var n=i(14),a=i(13);var o={name:"datetime-picker",model:{prop:"datetime",event:"input"},components:{FluroTab:n.a,FluroTabset:a.a},props:{datetime:{type:[Date,String],default:null},label:{type:String,default:""},hint:{type:String,default:""},placeholder:{type:String,default:"Select a date"},min:{type:Date},max:{type:Date},outline:{type:Boolean},width:{type:Number,default:320},format:{type:String,default:"YYYY-MM-DD HH:mm:ss"},timePickerFormat:{type:String,default:"24hr"},locale:{type:String,default:"en-us"},clearText:{type:String,default:"CLEAR"},okText:{type:String,default:"OK"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:()=>[]},errorCount:{type:[Number,String],default:1},error:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appendIcon:{type:String},prependIcon:{type:String}},data:()=>({display:!1,dateSelected:!1,timeSelected:!1,activeTab:0,selectedDatetime:null}),created(){this.datetime&&(this.datetime instanceof Date?this.selectedDatetime=this.datetime:("string"==typeof this.datetime||this.datetime instanceof String)&&(this.selectedDatetime=this.$fluro.date.moment(new Date(this.datetime),this.format)))},computed:{minDateString(){return this.min?this.$fluro.date.moment(this.min).format("YYYY-MM-DD"):null},maxDateString(){return this.max?this.$fluro.date.moment(this.max).format("YYYY-MM-DD"):null},readable(){return this.datetime?this.formattedDatetime:this.placeholder},datePart:{get(){return this.selectedDatetime?this.$fluro.date.moment(this.selectedDatetime).format("YYYY-MM-DD"):""},set(e){this.dateSelected=!0,this.activeTab=1;var t=this.$fluro.date.moment;let i=t(e,"YYYY-MM-DD"),r=this.selectedDatetime?t(this.selectedDatetime).hour():0,n=this.selectedDatetime?t(this.selectedDatetime).minute():0,a=t().year(i.year()).month(i.month()).date(i.date()).hour(r).minute(n).second(0);this.selectedDatetime=a.toDate()}},timePart:{get(){return this.selectedDatetime?this.$fluro.date.moment(this.selectedDatetime).format("HH:mm"):"00:00"},set(e){this.timeSelected=!0;let t=this.$fluro.date.moment(e,"HH:mm"),i=this.$fluro.date.moment(this.selectedDatetime).hour(t.hour()).minute(t.minute()).second(0);this.selectedDatetime=i.toDate()}},formattedDatetime(){return this.datetime?this.$fluro.date.moment(this.datetime).format(this.format):""}},methods:{okHandler(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",this.selectedDatetime)},clearHandler(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0),this.$emit("input",null)}}},s=i(0),l=Object(s.a)(o,r,[],!1,null,null,null);l.options.__file="src/components/form/FluroDateTimePicker.vue";t.default=l.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-signature-field"},[i("v-input",{staticClass:"no-flex",attrs:{label:e.label,"persistent-hint":!0,required:e.required,"error-messages":e.errorMessages,hint:e.hint}},[i("div",{staticClass:"signature-pad-wrap"},[i("canvas",{ref:"canvas",staticClass:"signature-pad",attrs:{id:"signature-pad"}}),e._v(" "),i("v-btn",{staticClass:"clear",on:{click:function(t){return e.clear()}}},[e._v("\n                Clear "),i("fluro-icon",{attrs:{right:"",icon:"times"}})],1)],1)])],1)};r._withStripped=!0;var n=i(202),a=i.n(n),o={props:{errorMessages:{type:Array},hint:{type:String},required:{type:[Boolean,Number]},label:{type:String},value:{type:String},width:{default:"100%",type:[String,Number]},height:{default:"300px",type:[String,Number]},readonly:{type:Boolean}},mounted(){var e=this.$refs.canvas;this.pad=new a.a(e,{dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7}),this.pad.onBegin=function(){console.log("Begin!")},this.pad.onEnd=function(){console.log("End!")},console.log("Mounted",e,this.pad),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas()},data(){return{model:this.value,pad:null}},methods:{resizeCanvas(){var e=Math.max(window.devicePixelRatio||1,1),t=this.$refs.canvas;t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),this.pad.clear()},clear(){return this.pad.clear()},save(){this.$emit("input",this.model)}},beforeDestroy(){window.removeEventListener("resize",this.resizeCanvas)}},s=(i(424),i(426),i(0)),l=Object(s.a)(o,r,[],!1,null,"9d24245a",null);l.options.__file="src/components/form/FluroSignatureField.vue";t.default=l.exports},function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-interaction-form"},[e.definition?[e.allowed?e._e():[e.user?[e._t("authenticated",[e._v("\n                    You do not have permission to submit this form\n                ")])]:e._e(),e._v(" "),e.user?e._e():[e._t("unauthenticated",[e._v("\n                    You must be signed in to submit this form\n                ")])]],e._v(" "),e.allowed?["success"==e.state?e._t("success",[i("div",{staticClass:"text-xs-center"},[i("h3",[e._v("Submission Successful")]),e._v(" "),i("div",[e._v("Thank you for your submission")]),e._v(" "),i("v-btn",{staticClass:"mx-0",on:{click:function(t){return e.reset()}}},[e._v("\n                        Back to form\n                    ")])],1)],{reset:e.reset,result:e.result}):[e._t("info"),e._v(" "),i("form",{attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[i("fluro-content-form",{ref:"form",attrs:{context:e.context,debugMode:e.debugMode,contextField:e.contextField,recursiveClick:e.recursiveClick,options:e.options,fields:e.fields},on:{errorMessages:e.validate,input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}}),e._v(" "),e.showPaymentForm?i("div",{staticClass:"payment"},[i("v-container",[i("h2",[e._v("Payment Summary")]),e._v(" "),i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"modifier-title"},[i("strong",[e._v("Amount")])]),e._v(" "),e.baseAmount?i("v-flex",{attrs:{shrink:""}},[i("strong",[e._v(e._s(e.formattedBaseAmount))])]):e._e()],1),e._v(" "),e._l(e.activeModifiers,(function(t){return i("div",{staticClass:"modifier"},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{staticClass:"modifier-title"},[e._v("\n                                        "+e._s(t.title)+"\n                                    ")]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[e._v("\n                                        "+e._s(t.description)+"\n                                    ")]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[e._v("\n                                        "+e._s(t.formattedTotal)+"\n                                    ")])],1)],1)})),e._v(" "),i("div",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("h3",[e._v("Total")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("h3",[e._v("\n                                            "+e._s(e.formattedTotal)+"\n                                            "),i("span",{staticClass:"muted"},[e._v(e._s(e.currency.toUpperCase()))])])])],1)],1)],2),e._v(" "),i("v-container",{staticClass:"border-top",staticStyle:{background:"#fafafa"}},[i("h4",[e._v("Card Details")]),e._v(" "),i("fluro-content-form",{ref:"payment",attrs:{options:e.options,fields:e.paymentFields},on:{errorMessages:e.validate,input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})],1),e._v(" "),e.definition.data.enableReceipt?i("v-container",{staticClass:"border-top",staticStyle:{background:"#fafafa"}},[i("fluro-content-form-field",{attrs:{options:e.options,field:e.receiptInput},on:{input:e.modelChanged},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})],1):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"actions"},["processing"==e.state?[i("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:!0}},[e._v("\n                                Processing\n                                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==e.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                                "+e._s(e.serverErrors)+"\n                            ")]),e._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n                                Try Again\n                            ")])]:[e.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                                Please check the following issues before\n                                submitting\n                                "),e._l(e.errorMessages,(function(t){return i("div",[i("strong",[e._v(e._s(t.title))]),e._v(": "+e._s(t.messages[0])+"\n                                ")])}))],2):e._e(),e._v(" "),i("v-layout",[i("v-btn",{staticClass:"mx-0",attrs:{block:e.mobile,large:e.mobile,disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v("\n                                    Submit\n                                ")]),e._v(" "),i("v-spacer"),e._v(" "),e._t("submit")],2)]],2)],1)]]:e._e()]:e._e()],2)};r._withStripped=!0;var n,a=i(10),o=i(11),s=i(1),l=i.n(s),c=i(7),u=i.n(c),d=i(32),p=i.n(d),f=(i(38),{});function m(e,t){if(f[e])return t();f[e]=!0;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.onload=t,i.src=e,document.getElementsByTagName("head")[0].appendChild(i),console.log("Appended script dependency",e)}var h={props:{contextField:{type:Object},title:{type:String},prefill:{type:Boolean,default:()=>!0},context:{type:String,default(){return this.$fluro.global.defaultFormContext}},definition:{type:Object,required:!0},paymentIntegration:{type:Object},linkedProcess:{type:[Object,String]},linkedEvent:{type:[Object,String]},debugMode:{type:Boolean},submissionConfig:{type:Object,default:()=>({})},value:{type:Object,default:()=>({data:{}})},defaultState:{type:String,default:()=>"ready"},options:{default:function(){return{validateSuccess:!0,backupUploadRealm:l.a.chain(this.definition).get("realms").first().value()}},type:Object}},data(){return{paymentReady:!1,dataModel:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:this.defaultState}},created(){this.reset()},mounted(){this.validate(),this.initializePayment()},watch:{state(e){this.$emit("state",e)},defaultState(e){this.state=e},paymentIntegration:"initializePayment"},computed:{recursiveClick(){var e=this;if(e.debugMode)return function(t){e.$emit("debug",t.field)}},mobile(){return this.$vuetify.breakpoint.xsOnly},receiptInput:()=>({title:"Where should we send the receipt?",placeholder:"Eg. me@website.com",key:"receiptEmail",type:"email",minimum:0,maximum:1}),activeModifiers(){var e=this,t=e.baseAmount||0,i=Date.now(),r=e.paymentDetails.modifiers;if(!r||!r.length)return console.log("No modifiers"),[];var n=l.a.chain(r).map((function(r){var n={date:i,calculatedTotal:t,model:e.dataModel,data:e.dataModel,matchInArray:e.$fluro.utils.matchInArray,getAge:e.$fluro.utils.getAge,Date:Date,Math:Math,String:String,Date:Date,parseInt:parseInt,parseFloat:parseFloat,Boolean:Boolean,Number:Number},a=e.evaluate(r.expression,n);if(a=Number(a),!isNaN(a)){var o=!0;if(r.condition&&String(r.condition).length&&(o=e.evaluate(r.condition,n)),o){var s="",l=e.$fluro.utils.formatCurrency(a,e.currency);switch(r.operation){case"add":s="+",t+=a;break;case"subtract":s="-",t-=a;break;case"divide":s="/",l=a,t/=a;break;case"multiply":s="x",l=a,t*=a;break;case"set":t=a}var c=`${s} ${l}`;return a||(c=""),{title:r.title,total:Number(parseFloat(t).toFixed(2)),description:c,operation:r.operation}}}})).compact().value();if(!n||!n.length)return[];var a=l.a.findLastIndex(n,(function(e){return"set"==e.operation}));return a&&-1!=a&&(n=l.a.slice(n,a)),n},currency(){return this.paymentDetails.currency||""},symbol(){return this.$fluro.utils.currencySymbol(self.currency)},baseAmount(){return this.paymentDetails.amount},formattedBaseAmount(){return this.$fluro.utils.formatCurrency(this.baseAmount,this.currency)},total(){var e=this.baseAmount;return this.activeModifiers&&this.activeModifiers.length&&(e=l.a.last(this.activeModifiers).total),(!e||isNaN(e)||e<0)&&(e=0),e},formattedTotal(){return this.$fluro.utils.formatCurrency(this.total,this.currency)},paymentDetails(){return this.definition.paymentDetails||{}},showPaymentForm(){if(this.requirePayment||this.allowPayment)return this.total&&parseInt(this.total)>0},requirePayment(){return this.paymentDetails.required},allowPayment(){if(!this.requirePayment)return this.paymentDetails.allow},formErrors(){},hasErrors(){return!!this.errorMessages.length},formOptions(){return this.definition.data},paymentFields(){var e,t,i,r,n,a=[];this.debugMode&&(e="John Appleseed",t="4242424242424242",i="09",r="2025",n="123"),a.push({title:"Name on Card",key:"cardName",type:"string",minimum:1,maximum:1,defaultValues:[e]}),a.push({title:"Card Number",key:"cardNumber",type:"string",minimum:1,maximum:1,defaultValues:[t],params:{mask:"credit-card"}});var o={type:"group",sameLine:!0,fields:[]};return o.fields.push({title:"Expiry Month",key:"cardExpMonth",type:"string",placeholder:"MM",minimum:1,maximum:1,className:"xs4",defaultValues:[i]}),o.fields.push({title:"Expiry Year",key:"cardExpYear",type:"string",placeholder:"YYYY",minimum:1,maximum:1,className:"xs4",defaultValues:[r]}),o.fields.push({title:"CVN",key:"cardCVC",type:"string",minimum:1,maximum:1,className:"xs4",defaultValues:[n]}),a.push(o),a},fields(){var e=[],t={key:"_name",type:"group",fields:[],className:"layout row wrap"};this.askFirstName&&t.fields.push({key:"_firstName",minimum:this.requireFirstName?1:0,maximum:1,title:"First Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:this.defaultUserValue("firstName")}),this.askLastName&&t.fields.push({key:"_lastName",minimum:this.requireLastName?1:0,maximum:1,title:"Last Name",directive:"input",type:"string",className:"xs12 sm6",defaultValues:this.defaultUserValue("lastName")}),t.fields&&t.fields.length&&e.push(t),this.askGender&&e.push({key:"_gender",minimum:this.requireGender?1:0,maximum:1,title:"Gender",directive:"select",type:"string",options:[{name:"Male",value:"male"},{name:"Female",value:"female"}]}),this.askEmail&&e.push({key:"_email",minimum:this.requireEmail?1:0,maximum:1,title:"Email Address",directive:"input",type:"email",defaultValues:this.defaultUserValue("email")}),this.askPhone&&e.push({key:"_phoneNumber",minimum:this.requirePhone?1:0,maximum:1,title:"Phone Number",directive:"input",type:"string",defaultValues:this.defaultUserValue("phoneNumber")}),this.askDOB&&e.push({key:"_dob",minimum:this.requireDOB?1:0,maximum:1,title:"Date of Birth",directive:"dob-select",type:"date"});var i=this.definition.fields;return e=e.concat(i)},identifier(){return this.formOptions.identifier},allowAnonymous(){return this.formOptions.allowAnonymous||!1},disableDefaultFields(){return this.formOptions.disableDefaultFields||!1},requireDefaultContactFields(){return!this.allowAnonymous&&!this.disableDefaultFields},askFirstName(){return this.requireDefaultContactFields||this.formOptions.askFirstName||this.formOptions.requireFirstName},askLastName(){return this.requireDefaultContactFields||this.formOptions.askLastName||this.formOptions.requireLastName},askGender(){return this.requireDefaultContactFields||this.formOptions.askGender||this.formOptions.requireGender},askDOB(){return this.formOptions.askDOB||this.formOptions.requireDOB},askEmail(){return this.formOptions.askEmail||this.requireEmail||this.requireDefaultContactFields},askPhone(){return this.formOptions.askPhone||this.requirePhone||this.requireDefaultContactFields},requireFirstName(){return this.formOptions.requireFirstName||this.requireDefaultContactFields},requireLastName(){return this.formOptions.requireLastName||this.requireDefaultContactFields},requireGender(){return this.formOptions.requireGender||this.requireDefaultContactFields},requireDOB(){return this.formOptions.requireDOB},requireEmail(){if(this.formOptions.requireEmail)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"email":return!0;case"either":default:return this.requireDefaultContactFields&&!(this.dataModel._phone&&this.dataModel._phone.length)}},requirePhone(){if(this.formOptions.requirePhone)return!0;if(!this.allowAnonymous)switch(this.identifier){case"both":case"phone":return!0;case"either":default:return this.requireDefaultContactFields&&!(this.dataModel._email&&this.dataModel._email.length)}},definedName(){return this.definition.definitionName},displayTitle(){return this.title?this.title:""+this.definition.title},allowed(){if("public"==this.definition.privacy)return!0;var e=this.$fluro.access.can("create",this.definedName,"interaction"),t=this.$fluro.access.can("submit",this.definedName,"interaction");return e||t},user:()=>(console.log("FIND USER MATCH",u.a.$store),u.a.$store.state.fluro.user),application:()=>u.a.$store.state.fluro.application},components:{FluroContentFormField:o.default,FluroContentForm:a.default},methods:{createEwayToken(e){this.paymentIntegration.publicDetails.publicKey;var t={};return t.name=this.dataModel.cardName,t.number=this.dataModel.cardNumber,t.cvc=this.dataModel.cardCVC,t.exp_month=String(this.dataModel.cardExpMonth),t.exp_year=String(this.dataModel.cardExpYear).slice(-2),t.exp_month.length<1&&(t.exp_month="0"+t.exp_month),this.debugMode?e({message:"EWay can not be used with sandbox testing keys. Please add an additional testing integration."}):e(null,t)},createStripeToken(e){var t,i=this.paymentIntegration.publicDetails.livePublicKey,r=this.paymentIntegration.publicDetails.testPublicKey;if(!(t=this.debugMode?r:i))return e(null,{error:{message:this.debugMode?"Integration Setup Error: No test keys found.":"Integration Setup Error: No live keys found."}});Stripe.setPublishableKey(t);var n={};return n.name=this.dataModel.cardName,n.number=this.dataModel.cardNumber,n.cvc=this.dataModel.cardCVC,n.exp_month=this.dataModel.cardExpMonth,n.exp_year=this.dataModel.cardExpYear,Stripe.card.createToken(n,e)},debugLog(){console.log(l.a.map(arguments,(function(e){return e})).join(" "))},evaluate(e,t){var i,r;try{i=p.a.parse(e),r=p.a.eval(i,t)}catch(e){}finally{return r}},initializePayment(){var e=this,t=e.paymentIntegration;if(e.paymentReady=!1,t)switch(t.module){case"stripe":m("https://js.stripe.com/v2/",(function(){console.log("Stripe has been included on page"),e.paymentReady=!0}));break;case"eway":m("https://secure.ewaypayments.com/scripts/eCrypt.js",(function(){console.log("Eway has been included on page"),e.paymentReady=!0}))}},modelChanged(){this.$emit("input",this.dataModel)},validate(){var e=this.$refs.form;if(!e)return[];var t=[];if(t=t.concat(e.errorMessages),this.showPaymentForm){var i=this.$refs.payment;i&&i.errorMessages&&(t=t.concat(i.errorMessages))}this.errorMessages=t},validateAllFields(){this.$refs.form.touch();var e=this.$refs.payment;e&&e.touch(),this.validate()},defaultUserValue(e){if(this.prefill)return this.user?l.a.compact([l.a.get(this.user,e)]):null},reset(){n?this.dataModel={}:(n=!0,this.dataModel=JSON.parse(JSON.stringify(this.value))),this.result=null,this.state="ready",this.modelChanged(),this.$emit("reset")},submit(){var e=this;if(e.validateAllFields(),!e.hasErrors){e.state="processing";var t,i=JSON.parse(JSON.stringify(e.dataModel));delete i.cardName,delete i.cardNumber,delete i.cardExpYear,delete i.cardExpMonth,delete i.cardCVC,t=i;var r={interaction:i=function e(t){return l.a.forOwn(t,(function(i,r){(l.a.isUndefined(i)||l.a.isNull(i)||l.a.isNaN(i)||l.a.isString(i)&&l.a.isEmpty(i)||l.a.isObject(i)&&l.a.isEmpty(e(i)))&&delete t[r]})),l.a.isArray(t)&&l.a.pull(t,void 0),t}(l.a.cloneDeep(t)),event:e.$fluro.utils.getStringID(e.linkedEvent),process:e.$fluro.utils.getStringID(e.linkedProcess)};if(a("firstName"),a("lastName"),a("email"),a("phoneNumber"),a("dob"),a("gender"),r.title||(r.title=this.definition.title),!e.showPaymentForm)return o();var n={amount:e.total,email:i.receiptEmail,integration:e.$fluro.utils.getStringID(e.paymentIntegration)};switch(e.paymentIntegration.module){case"eway":return window.eCrypt?e.createEwayToken((function(t,i){return t?(e.serverErrors=e.$fluro.utils.errorMessage(t),e.$fluro.error(e.serverErrors),e.state="error",void e.$emit("error",t)):(n.details=i,o(n))})):(e.serverErrors="ERROR: Eway is selected for payment but the eCrypt script has not been included in this application visit https://eway.io/api-v3/#encrypt-function for more information",e.$fluro.error(e.serverErrors),e.state="error",void e.$emit("error",err));case"stripe":return e.createStripeToken((function(t,i){var r=t.error||i.error;if(!r)return console.log("FORM -> Stripe tokenized",t,i),n.details=i,o(n);console.log("FORM -> Stripe token error",t,i),e.serverErrors=r.message,e.$fluro.error(e.serverErrors),e.state="error",e.$emit("error",r)}))}}function a(t){var i=l.a.get(e.dataModel,"_"+t);i&&l.a.set(r,"contact."+t,i)}function o(t){t&&(r.payment=t,console.log("SUBMIT REQUEST",r));var i=e.submissionConfig;i.params={definition:e.$fluro.utils.getStringID(e.definition),process:e.$fluro.utils.getStringID(e.linkedProcess)},e.$fluro.content.submitInteraction(e.definedName,r,i).then((function(t){e.state="success",e.dataModel={data:{}},e.result=t,e.$emit("success",t)}),(function(t){var i=e.$fluro.utils.errorMessage(t);e.$fluro.error(t),e.serverErrors=i,e.state="error",e.$emit("error",t),console.log("SWITCH STATE TO",t,e)}))}}}},v=(i(432),i(0)),g=Object(v.a)(h,r,[],!1,null,"719f0f95",null);g.options.__file="src/components/form/FluroInteractionForm.vue";t.default=g.exports},function(e,t,i){"use strict";(function(e,i){/*! @vimeo/player v2.11.0 | (c) 2020 Vimeo | MIT License | https://github.com/vimeo/player.js */
function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=void 0!==e&&"[object global]"==={}.toString.call(e);function o(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function c(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.url,r=t||i;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(l(r))return"https://vimeo.com/".concat(r);if(c(r))return r.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(r,"” is not a vimeo.com url."))}var d=void 0!==Array.prototype.indexOf,p="undefined"!=typeof window&&void 0!==window.postMessage;if(!(a||d&&p))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.1 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2020 Polygon Planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,i=function(e,t,i){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:i}):e[t]=i};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",a("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(e,i){if(!r(e)||!t.call(e,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof e)}function a(e){return e+"_"+o()+"."+o()}function o(){return Math.random().toString().substring(2)}return i(e.prototype,"delete",(function(e){if(n(this,"delete"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),i(e.prototype,"get",(function(e){if(n(this,"get"),r(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),i(e.prototype,"has",(function(e){if(n(this,"has"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),i(e.prototype,"set",(function(e,t){if(n(this,"set"),!r(e))throw new TypeError("Invalid value used as weak map key");var a=e[this._id];return a&&a[0]===e?(a[1]=t,this):(i(e,this._id,[e,t]),this)})),i(e,"_polyfill",!0),e}()}function r(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:f);var m=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,r,n;n=function(){var e,t,r,n=Object.prototype.toString,a=void 0!==i?function(e){return i(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,i,r){return Object.defineProperty(e,t,{value:i,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,i){return e[t]=i,e}}function o(e,i){r.add(e,i),t||(t=a(r.drain))}function s(e){var t,i=typeof e;return null==e||"object"!=i&&"function"!=i||(t=e.then),"function"==typeof t&&t}function l(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,i){var r,n;try{!1===t?i.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(n=s(r))?n.call(r,i.resolve,i.reject):i.resolve(r)}catch(e){i.reject(e)}}function u(e){var t,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(t=s(e))?o((function(){var r=new f(i);try{t.call(e,(function(){u.apply(r,arguments)}),(function(){d.apply(r,arguments)}))}catch(e){d.call(r,e)}})):(i.msg=e,i.state=1,i.chain.length>0&&o(l,i))}catch(e){d.call(new f(i),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&o(l,t))}function p(e,t,i,r){for(var n=0;n<t.length;n++)!function(n){e.resolve(t[n]).then((function(e){i(n,e)}),r)}(n)}function f(e){this.def=e,this.triggered=!1}function m(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new m(this);this.then=function(e,i){var r={success:"function"!=typeof e||e,failure:"function"==typeof i&&i};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&o(l,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}r=function(){var e,i,r;function n(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,a){r=new n(t,a),i?i.next=r:e=r,i=r,r=void 0},drain:function(){var r=e;for(e=i=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var v=e({},"constructor",h,!1);return h.prototype=v,e(v,"__NPO__",0,!1),e(h,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");t(e)}))})),e(h,"reject",(function(e){return new this((function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");i(e)}))})),e(h,"all",(function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(i,r){if("function"!=typeof i||"function"!=typeof r)throw TypeError("Not a function");var n=e.length,a=Array(n),o=0;p(t,e,(function(e,t){a[e]=t,++o===n&&i(a)}),r)}))})),e(h,"race",(function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):new t((function(i,r){if("function"!=typeof i||"function"!=typeof r)throw TypeError("Not a function");p(t,e,(function(e,t){i(t)}),r)}))})),h},(r=f)[t="Promise"]=r[t]||n(),e.exports&&(e.exports=r[t])})),h=new WeakMap;function v(e,t,i){var r=h.get(e.element)||{};t in r||(r[t]=[]),r[t].push(i),h.set(e.element,r)}function g(e,t){return(h.get(e.element)||{})[t]||[]}function b(e,t,i){var r=h.get(e.element)||{};if(!r[t])return!0;if(!i)return r[t]=[],h.set(e.element,r),!0;var n=r[t].indexOf(i);return-1!==n&&r[t].splice(n,1),h.set(e.element,r),r[t]&&0===r[t].length}function y(e,t){var i=h.get(e);h.set(t,i),h.delete(e)}var _=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.reduce((function(t,i){var r=e.getAttribute("data-vimeo-".concat(i));return(r||""===r)&&(t[i]=""===r?1:r),t}),t)}function k(e,t){var i=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=i,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,n){if(!c(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var a="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var o in t)t.hasOwnProperty(o)&&(a+="&".concat(o,"=").concat(encodeURIComponent(t[o])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",a,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return k(t,i),void n(new Error("“".concat(e,"” is not embeddable.")));r(t)}catch(e){n(e)}else n(new Error("“".concat(e,"” is not embeddable.")));else n(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function C(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function S(e,t,i){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==i&&(r.value=i);var n=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));n>=8&&n<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function $(e,t){var i,r=[];if((t=C(t)).event){if("error"===t.event)g(e,t.data.method).forEach((function(i){var r=new Error(t.data.message);r.name=t.data.name,i.reject(r),b(e,t.data.method,i)}));r=g(e,"event:".concat(t.event)),i=t.data}else if(t.method){var n=function(e,t){var i=g(e,t);if(i.length<1)return!1;var r=i.shift();return b(e,t,r),r}(e,t.method);n&&(r.push(n),i=t.value)}r.forEach((function(t){try{if("function"==typeof t)return void t.call(e,i);t.resolve(i)}catch(e){}}))}var D=new WeakMap,M=new WeakMap,P=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!s(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var a=t.querySelector("iframe");a&&(t=a)}if("IFRAME"===t.nodeName&&!c(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(D.has(t))return D.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var o=new m((function(e,r){if(i._onMessage=function(t){if(c(t.origin)&&i.element.contentWindow===t.source){"*"===i.origin&&(i.origin=t.origin);var n=C(t.data);if(n&&"error"===n.event&&n.data&&"ready"===n.data.method){var a=new Error(n.data.message);return a.name=n.data.name,void r(a)}var o=n&&"ready"===n.event,s=n&&"ping"===n.method;if(o||s)return i.element.setAttribute("data-ready","true"),void e();$(i,n)}},i._window.addEventListener("message",i._onMessage),"IFRAME"!==i.element.nodeName){var a=x(t,n);w(u(a),a,t).then((function(e){var r=k(e,t);return i.element=r,i._originalElement=t,y(t,r),D.set(i.element,i),e})).catch(r)}}));return M.set(this,o),D.set(this.element,this),"IFRAME"===this.element.nodeName&&S(this,"ping"),this}var t,i,a;return t=e,(i=[{key:"callMethod",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new m((function(r,n){return t.ready().then((function(){v(t,e,{resolve:r,reject:n}),S(t,e,i)})).catch(n)}))}},{key:"get",value:function(e){var t=this;return new m((function(i,r){return e=o(e,"get"),t.ready().then((function(){v(t,e,{resolve:i,reject:r}),S(t,e)})).catch(r)}))}},{key:"set",value:function(e,t){var i=this;return new m((function(r,n){if(e=o(e,"set"),null==t)throw new TypeError("There must be a value to set.");return i.ready().then((function(){v(i,e,{resolve:r,reject:n}),S(i,e,t)})).catch(n)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===g(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),v(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");b(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=M.get(this)||new m((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return m.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new m((function(t){M.delete(e),D.delete(e.element),e._originalElement&&(D.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e._window.removeEventListener("message",e._onMessage),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&n(t.prototype,i),a&&n(t,a),e}();a||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=x(e);w(u(t),t,e).then((function(t){return k(t,e)})).catch(i)}catch(e){i(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(c(t.origin)&&t.data&&"spacechange"===t.data.event)for(var i=e.querySelectorAll("iframe"),r=0;r<i.length;r++)if(i[r].contentWindow===t.source){i[r].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}()),t.a=P}).call(this,i(34),i(215).setImmediate)},function(e,t,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,s,l=o(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(r){s=r(i);for(var d=0;d<s.length;d++)a.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}},function(e,t,i){(function(e){(function(t){"use strict";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var i,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(i=0;i<r.length;++i)if(r[i].test(e))return r[i].exec(e)[1];if(t.fuzzy){var n=e.split(/[\/\&\?=#\.\s]/g);for(i=0;i<n.length;++i)if(/^[^#\&\?]{11}$/.test(n[i]))return n[i]}}return null}})),n=i(217),a={name:"Youtube",props:{videoId:String,playerVars:{type:Object,default:function(){return{}}},height:{type:[Number,String],default:360},width:{type:[Number,String],default:640},resize:{type:Boolean,default:!1},resizeDelay:{type:Number,default:100},nocookie:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!1}},data:function(){return{player:{},events:(e={},e[-1]="unstarted",e[1]="playing",e[2]="paused",e[0]="ended",e[3]="buffering",e[5]="cued",e),resizeTimeout:null};var e},computed:{aspectRatio:function(){return this.width/this.height}},methods:{playerReady:function(e){this.$emit("ready",e.target)},playerStateChange:function(e){null!==e.data&&-1!==e.data&&this.$emit(this.events[e.data],e.target)},playerError:function(e){this.$emit("error",e.target)},updatePlayer:function(e){e?1!==this.playerVars.autoplay?this.player.cueVideoById({videoId:e}):this.player.loadVideoById({videoId:e}):this.player.stopVideo()},resizeProportionally:function(){var e=this;this.player.getIframe().then((function(t){var i=e.fitParent?t.parentElement.offsetWidth:t.offsetWidth,r=i/e.aspectRatio;e.player.setSize(i,r)}))},onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.resizeProportionally,this.resizeDelay)}},watch:{videoId:"updatePlayer",resize:function(e){e?(window.addEventListener("resize",this.onResize),this.resizeProportionally()):(window.removeEventListener("resize",this.onResize),this.player.setSize(this.width,this.height))},width:function(e){this.player.setSize(e,this.height)},height:function(e){this.player.setSize(this.width,e)}},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player),this.resize&&window.removeEventListener("resize",this.onResize)},mounted:function(){window.YTConfig={host:"https://www.youtube.com/iframe_api"};var e=this.nocookie?"https://www.youtube-nocookie.com":"https://www.youtube.com";this.player=n(this.$el,{host:e,width:this.width,height:this.height,videoId:this.videoId,playerVars:this.playerVars}),this.player.on("ready",this.playerReady),this.player.on("stateChange",this.playerStateChange),this.player.on("error",this.playerError),this.resize&&window.addEventListener("resize",this.onResize),this.fitParent&&this.resizeProportionally()},render:function(e){return e("div")}};function o(e){e.prototype.$youtube={getIdFromUrl:r},e.component("youtube",a)}"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),t.default=o,t.Youtube=a,t.getIdFromUrl=r,t.version="1.4.0",Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,i(34))},function(e,t){e.exports=vue-color},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vuelidate=S,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return n.withParams}}),t.default=t.validationMixin=void 0;var r=i(300),n=i(185);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(){return null},d=function(e,t,i){return e.reduce((function(e,r){return e[i?i(r):r]=t(r),e}),{})};function p(e){return"function"==typeof e}function f(e){return null!==e&&("object"===c(e)||p(e))}var m=function(e,t,i,r){if("function"==typeof i)return i.call(e,t,r);i=Array.isArray(i)?i:i.split(".");for(var n=0;n<i.length;n++){if(!t||"object"!==c(t))return r;t=t[i[n]]}return void 0===t?r:t};var h={$invalid:function(){var e=this,t=this.proxy;return this.nestedKeys.some((function(t){return e.refProxy(t).$invalid}))||this.ruleKeys.some((function(e){return!t[e]}))},$dirty:function(){var e=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.every((function(t){return e.refProxy(t).$dirty}))},$anyDirty:function(){var e=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.some((function(t){return e.refProxy(t).$anyDirty}))},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$anyError:function(){var e=this;return!!this.$error||this.nestedKeys.some((function(t){return e.refProxy(t).$anyError}))},$pending:function(){var e=this;return this.ruleKeys.some((function(t){return e.getRef(t).$pending}))||this.nestedKeys.some((function(t){return e.refProxy(t).$pending}))},$params:function(){var e=this,t=this.validations;return s({},d(this.nestedKeys,(function(e){return t[e]&&t[e].$params||null})),{},d(this.ruleKeys,(function(t){return e.getRef(t).$params})))}};function v(e){this.dirty=e;var t=this.proxy,i=e?"$touch":"$reset";this.nestedKeys.forEach((function(e){t[e][i]()}))}var g={$touch:function(){v.call(this,!0)},$reset:function(){v.call(this,!1)},$flattenParams:function(){var e=this.proxy,t=[];for(var i in this.$params)if(this.isNested(i)){for(var r=e[i].$flattenParams(),n=0;n<r.length;n++)r[n].path.unshift(i);t=t.concat(r)}else t.push({path:[],name:i,params:this.$params[i]});return t}},b=Object.keys(h),y=Object.keys(g),_=null,x=function(e){if(_)return _;var t=e.extend({computed:{refs:function(){var e=this._vval;this._vval=this.children,(0,r.patchChildren)(e,this._vval);var t={};return this._vval.forEach((function(e){t[e.key]=e.vm})),t}},beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&((0,r.patchChildren)(this._vval),this._vval=null)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(e){var t=this.getModel();if(t)return t[e]},hasIter:function(){return!1}}}),i=t.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(t){var i=this.getModel();(0,n.pushParams)();var r,a=this.rule.call(this.rootModel,i,t),o=f(r=a)&&p(r.then)?function(e,t){var i=new e({data:{p:!0,v:!1}});return t.then((function(e){i.p=!1,i.v=e}),(function(e){throw i.p=!1,i.v=!1,e})),i.__isVuelidateAsyncVm=!0,i}(e,a):a,s=(0,n.popParams)();return{output:o,params:s&&s.$sub?s.$sub.length>1?s:s.$sub[0]:null}}},computed:{run:function(){var e=this,t=this.lazyParentModel();if(Array.isArray(t)&&t.__ob__){var i=t.__ob__.dep;i.depend();var r=i.constructor.target;if(!this._indirectWatcher){var n=r.constructor;this._indirectWatcher=new n(this,(function(){return e.runRule(t)}),null,{lazy:!0})}var a=this.getModel();if(!this._indirectWatcher.dirty&&this._lastModel===a)return this._indirectWatcher.depend(),r.value;this._lastModel=a,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}else this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null);return this._indirectWatcher?this._indirectWatcher.value:this.runRule(t)},$params:function(){return this.run.params},proxy:function(){var e=this.run.output;return e.__isVuelidateAsyncVm?!!e.v:!!e},$pending:function(){var e=this.run.output;return!!e.__isVuelidateAsyncVm&&e.p}},destroyed:function(){this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null)}}),o=t.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:s({},g,{refProxy:function(e){return this.getRef(e).proxy},getRef:function(e){return this.refs[e]},isNested:function(e){return"function"!=typeof this.validations[e]}}),computed:s({},h,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var e=this;return this.keys.filter((function(t){return!e.isNested(t)}))},keys:function(){return Object.keys(this.validations).filter((function(e){return"$params"!==e}))},proxy:function(){var e=this,t=d(this.keys,(function(t){return{enumerable:!0,configurable:!0,get:function(){return e.refProxy(t)}}})),i=d(b,(function(t){return{enumerable:!0,configurable:!0,get:function(){return e[t]}}})),r=d(y,(function(t){return{enumerable:!1,configurable:!0,get:function(){return e[t]}}})),n=this.hasIter()?{$iter:{enumerable:!0,value:Object.defineProperties({},s({},t))}}:{};return Object.defineProperties({},s({},t,{},n,{$model:{enumerable:!0,get:function(){var t=e.lazyParentModel();return null!=t?t[e.prop]:null},set:function(t){var i=e.lazyParentModel();null!=i&&(i[e.prop]=t,e.$touch())}}},i,{},r))},children:function(){var e=this;return[].concat(a(this.nestedKeys.map((function(t){return v(e,t)}))),a(this.ruleKeys.map((function(t){return x(e,t)})))).filter(Boolean)}})}),l=o.extend({methods:{isNested:function(e){return void 0!==this.validations[e]()},getRef:function(e){var t=this;return{get proxy(){return t.validations[e]()||!1}}}}}),c=o.extend({computed:{keys:function(){var e=this.getModel();return f(e)?Object.keys(e):[]},tracker:function(){var e=this,t=this.validations.$trackBy;return t?function(i){return"".concat(m(e.rootModel,e.getModelKey(i),t))}:function(e){return"".concat(e)}},getModelLazy:function(){var e=this;return function(){return e.getModel()}},children:function(){var e=this,t=this.validations,i=this.getModel(),n=s({},t);delete n.$trackBy;var a={};return this.keys.map((function(t){var s=e.tracker(t);return a.hasOwnProperty(s)?null:(a[s]=!0,(0,r.h)(o,s,{validations:n,prop:t,lazyParentModel:e.getModelLazy,model:i[t],rootModel:e.rootModel}))})).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(e){return this.refs[this.tracker(e)]},hasIter:function(){return!0}}}),v=function(e,t){if("$each"===t)return(0,r.h)(c,t,{validations:e.validations[t],lazyParentModel:e.lazyParentModel,prop:t,lazyModel:e.getModel,rootModel:e.rootModel});var i=e.validations[t];if(Array.isArray(i)){var n=e.rootModel,a=d(i,(function(e){return function(){return m(n,n.$v,e)}}),(function(e){return Array.isArray(e)?e.join("."):e}));return(0,r.h)(l,t,{validations:a,lazyParentModel:u,prop:t,lazyModel:u,rootModel:n})}return(0,r.h)(o,t,{validations:i,lazyParentModel:e.getModel,prop:t,lazyModel:e.getModelKey,rootModel:e.rootModel})},x=function(e,t){return(0,r.h)(i,t,{rule:e.validations[t],lazyParentModel:e.lazyParentModel,lazyModel:e.getModel,rootModel:e.rootModel})};return _={VBase:t,Validation:o}},k=null;var w=function(e,t){var i=function(e){if(k)return k;for(var t=e.constructor;t.super;)t=t.super;return k=t,t}(e),n=x(i),a=n.Validation;return new(0,n.VBase)({computed:{children:function(){var i="function"==typeof t?t.call(e):t;return[(0,r.h)(a,"$v",{validations:i,lazyParentModel:u,prop:"$v",model:e,rootModel:e})]}}})},C={data:function(){var e=this.$options.validations;return e&&(this._vuelidate=w(this,e)),{}},beforeCreate:function(){var e=this.$options;e.validations&&(e.computed||(e.computed={}),e.computed.$v||(e.computed.$v=function(){return this._vuelidate?this._vuelidate.refs.$v.proxy:null}))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};function S(e){e.mixin(C)}t.validationMixin=C;var $=S;t.default=$},function(e,t){e.exports=vue2-ace-editor},function(e,t){e.exports=tippy.js},function(e,t){e.exports=signature_pad},function(e,t,i){"use strict";var r=i(53);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fade-enter-active[data-v-53cb0c7f],.fade-leave-active[data-v-53cb0c7f]{transition:opacity .8s}.fade-enter[data-v-53cb0c7f],.fade-leave-to[data-v-53cb0c7f]{opacity:0}.fluro-image[data-v-53cb0c7f]{overflow:hidden;max-width:100%;position:relative;background-size:100% auto;background-repeat:no-repeat;background-position:center center;color:#fff;flex:1 0 auto}.fluro-image .holder[data-v-53cb0c7f]{display:block;position:absolute;left:0;top:0;right:0;bottom:0;opacity:0}.fluro-image .v-progress-circular[data-v-53cb0c7f]{position:absolute;left:50%;top:50%;transform:translate3d(-50%, -50%, 0)}.fluro-image .spacer[data-v-53cb0c7f]{position:relative}.fluro-image .placeholder[data-v-53cb0c7f]{position:absolute;left:0;right:0;top:0;bottom:0;background-size:100% auto;background-repeat:no-repeat;background-position:center center}.fluro-image[contain][data-v-53cb0c7f],.fluro-image[contain] .placeholder[data-v-53cb0c7f]{background-size:contain}.fluro-image[cover][data-v-53cb0c7f],.fluro-image[cover] .placeholder[data-v-53cb0c7f]{background-size:cover}.fluro-image img[data-v-53cb0c7f]{width:100%;display:block}\n",""])},function(e,t,i){"use strict";var r=i(54);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".avatar[data-v-662e0ae5]{display:inline-block;width:24px;vertical-align:middle}.avatar[left][data-v-662e0ae5]{margin-right:10px}.avatar[right][data-v-662e0ae5]{margin-left:10px}.avatar[md][data-v-662e0ae5]{width:34px}.avatar[lg][data-v-662e0ae5]{width:48px}.avatar[xl][data-v-662e0ae5]{width:64px}.avatar-inner[data-v-662e0ae5]{max-width:100%;padding-bottom:100%;position:relative;overflow:hidden;height:0;border-radius:50%;background-color:rgba(34,34,34,0.1);background-position:center center;background-size:cover;background-repeat:no-repeat}\n",""])},function(e,t,i){"use strict";var r=i(55);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-avatar-update[data-v-a8db34e4]{background-color:rgba(0,0,0,0.5);background-position:center;background-size:cover;display:block;border-radius:100%;position:relative;width:auto;height:0;padding-bottom:100%;overflow:hidden;text-align:center;border:2px solid #eee}.fluro-avatar-update .overlay[data-v-a8db34e4]{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;background:rgba(0,0,0,0.5);color:#fff;display:flex;justify-content:center;align-items:center;font-weight:bold;opacity:0;text-align:center}.fluro-avatar-update.processing .overlay[data-v-a8db34e4],.fluro-avatar-update:hover .overlay[data-v-a8db34e4]{opacity:1}.fluro-avatar-update input[data-v-a8db34e4]{opacity:0;position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%}\n",""])},function(e,t,i){"use strict";var r=i(56);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-field-editor[data-v-748156d1]{min-height:50vh}.state-link[data-v-748156d1]{margin-left:5px;display:inline-block;border-radius:3px;padding:0 5px;line-height:16px;height:16px;cursor:pointer;letter-spacing:0;text-transform:none}.state-link[data-v-748156d1]:hover{background:rgba(0,0,0,0.1)}.fields-tree[data-v-748156d1]{min-width:300px;background:#eee}.fields-tree label[data-v-748156d1]{text-transform:uppercase;font-weight:500;letter-spacing:0.03em;font-size:0.8em;margin-bottom:5px}.placeholder[data-v-748156d1]{background:#eee}.pseudo-field[data-v-748156d1]{padding:5px;border-radius:3px;background:#fff;border:1px solid rgba(0,0,0,0.1);margin:0 0 4px;cursor:pointer;font-weight:500}.pseudo-field.active[data-v-748156d1]{background:blue;color:#fff}.default-field[data-v-748156d1]{border:1px solid rgba(0,0,0,0.1);padding:5px;margin-bottom:2px;border-radius:3px;background:#eee;font-weight:500;cursor:pointer}.default-field[data-v-748156d1]:hover{background:#fafafa}.palette-title[data-v-748156d1]{text-transform:uppercase;letter-spacing:0.05em;font-weight:500;padding:8px;font-size:10px;background:#eee;color:rgba(0,0,0,0.5)}.mini-switch[data-v-748156d1]{border-radius:100px;line-height:10px;text-transform:uppercase;height:19px;font-size:9px;width:50px;font-weight:500;position:relative;line-height:19px;overflow:hidden;background:#eee;border:1px solid #ddd;color:#ddd;background:rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px rgba(0,0,0,0.1)}.mini-switch .on[data-v-748156d1],.mini-switch .off[data-v-748156d1]{position:absolute;width:100%;height:100%;left:0;top:0;right:0;bottom:0;text-align:center}.mini-switch .on[data-v-748156d1]{transform:translateX(100%)}.mini-switch .off[data-v-748156d1]{transform:translateX(0)}.mini-switch.active[data-v-748156d1]{background:none;box-shadow:none;color:#999;border:1px solid #999}.mini-switch.active .on[data-v-748156d1]{transform:translateX(0)}.mini-switch.active .off[data-v-748156d1]{transform:translateX(100%)}.preview[data-v-748156d1]{order:1;border-left:3px solid #ddd;border-right:3px solid #ddd;background:#fff;flex:2}.sidebar[data-v-748156d1]{min-width:300px;max-width:380px;flex:1;background:#fafafa;border-right:1px solid #ddd;order:0}.field-options[data-v-748156d1]{order:2;min-width:380px;background:#fafafa}.schema-mode[data-v-748156d1]{min-width:40vw}.schema-mode .preview[data-v-748156d1]{order:2}.schema-mode .sidebar[data-v-748156d1]{order:0}.schema-mode .field-options[data-v-748156d1]{order:1;min-width:40vw}\n",""])},function(e,t,i){"use strict";var r=i(57);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".infinite-scroll-container[data-v-7186edfc]{position:relative}.bottom-spacer[data-v-7186edfc]{pointer-events:none;height:1px;background:#ff0066;position:absolute;bottom:0;left:0;right:0;opacity:0.1}.top-spacer[data-v-7186edfc]{pointer-events:none;height:1px;background:#ff0066;position:absolute;top:0;left:0;right:0;opacity:0.1}\n",""])},function(e,t,i){"use strict";var r=i(58);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".footer-stats[data-v-1086cec5]{padding:5px 10px;font-size:0.9em}.pager[data-v-1086cec5]{text-align:center;padding:15px 0}.pager .v-pagination-item[data-v-1086cec5]{font-weight:700}\n",""])},function(e,t,i){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(216),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(34))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,n,a,o,s=1,l={},c=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(a="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){n.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var i=u.createElement("script");i.onreadystatechange=function(){f(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():r=function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return l[s]=n,r(s),s++},d.clearImmediate=p}function p(e){delete l[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(34),i(170))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=s(i(218)),a=s(i(219)),o=s(i(221));function s(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,n.default)();if(l||(l=(0,a.default)(s)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(s);var c=new Promise((function(i){"object"===(void 0===e?"undefined":r(e))&&e.playVideo instanceof Function?i(e):l.then((function(r){var n=new r.Player(e,t);return s.on("ready",(function(){i(n)})),null}))})),u=o.default.promisifyPlayer(c,i);return u.on=s.on,u.off=s.off,u},e.exports=t.default},function(e,t,i){"use strict";var r;
/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/r=function(){var e={},t={};return e.on=function(e,i){var r={name:e,handler:i};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var i=t[e.name].indexOf(e);-1!==i&&t[e.name].splice(i,1)},e.trigger=function(e,i){var r,n=t[e];if(n)for(r=n.length;r--;)n[r].handler(i)},e},e.exports=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=i(220),a=(r=n)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var i="http:"===window.location.protocol?"http:":"https:";(0,a.default)(i+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},function(e,t){function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,n){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var i in t)e.setAttribute(i,t[i])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?i:r)(o,n),o.onload||i(o,n),a.appendChild(o)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(i(222)),n=s(i(225)),a=s(i(226)),o=s(i(227));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},i=function(i){var r="on"+i.slice(0,1).toUpperCase()+i.slice(1);t[r]=function(t){l('event "%s"',r,t),e.trigger(i,t)}},r=!0,n=!1,o=void 0;try{for(var s,c=a.default[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){i(s.value)}}catch(e){n=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={},r=function(r){t&&o.default[r]?i[r]=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.then((function(e){var t=o.default[r],n=e.getPlayerState(),a=e[r].apply(e,i);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(n)?new Promise((function(i){e.addEventListener("onStateChange",(function r(){var n=e.getPlayerState(),a=void 0;"number"==typeof t.timeout&&(a=setTimeout((function(){e.removeEventListener("onStateChange",r),i()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(n)&&(e.removeEventListener("onStateChange",r),clearTimeout(a),i())}))})).then((function(){return a})):a}))}:i[r]=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.then((function(e){return e[r].apply(e,i)}))}},a=!0,s=!1,l=void 0;try{for(var c,u=n.default[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;r(d)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return i}};t.default=c,e.exports=t.default},function(e,t,i){(function(r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=i(223)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),!i)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}).call(this,i(170))},function(e,t,i){var r;function n(e){function i(){if(i.enabled){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(i,r){if("%%"===i)return i;l++;var n=t.formatters[r];if("function"==typeof n){var a=o[l];i=n.call(e,a),o.splice(l,1),l--}return i})),t.formatArgs.call(e,o);var c=i.log||t.log||console.log.bind(console);c.apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var i,r=0;for(i in e)r=(r<<5)-r+e.charCodeAt(i),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(i),i}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length,n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var i,r;for(i=0,r=t.skips.length;i<r;i++)if(t.skips[i].test(e))return!1;for(i=0,r=t.names.length;i<r;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(224),t.names=[],t.skips=[],t.formatters={}},function(e,t){var i=1e3,r=6e4,n=60*r,a=24*n;function o(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,t){t=t||{};var s,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?o(s=e,a,"day")||o(s,n,"hour")||o(s,r,"minute")||o(s,i,"second")||s+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=i(228),a=(r=n)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},function(e,t,i){"use strict";var r=i(59);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-video{overflow:hidden;width:100%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.fluro-video .fluro-video-embed{position:absolute;width:100%;height:100%}.fluro-video .fluro-video-embed video,.fluro-video .fluro-video-embed iframe{width:100% !important;height:100% !important;left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;position:absolute !important;display:block !important}.fluro-video img{width:100%;display:block}\n",""])},function(e,t,i){"use strict";var r=i(60);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-video-thumbnail{overflow:hidden;width:100%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.fluro-video-thumbnail img{width:100%;display:block}\n",""])},function(e,t,i){"use strict";var r=i(61);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".modal-outer{position:fixed;display:flex;width:100%;height:100%;left:0;top:0;right:0;bottom:0;z-index:999999;justify-content:center;padding:5%}.modal-outer.center{align-items:center}.modal-outer .blanket{position:absolute;background:rgba(51,55,62,0.5);left:0;right:0;top:0;bottom:0}.modal-outer .modal-inner{display:flex;max-height:100% !important;max-width:100% !important;overflow:hidden;border-radius:5px;box-shadow:0 4px 15px rgba(0,0,0,0.2);background:#fff;z-index:99999999}@media (max-width: 768px){.modal-outer .modal-inner{min-width:0;width:100%}}.modal-outer.fixed{padding:25px;display:flex;justify-content:center}.modal-outer.top{align-items:baseline}@media (min-width: 769px){.modal-outer.modal-size-lg .modal-inner{width:95%}.modal-outer.modal-size-sm .modal-inner{width:25%}}.modal-outer.full{background:#ff0066;padding:0}.modal-outer.full .modal-inner{left:0;right:0;bottom:0;top:0;width:100%;height:100%;border-radius:0}@media (max-width: 768px){.modal-outer{display:flex !important;padding:10px 10px 60px 10px !important}.modal-outer .modal-inner{display:flex !important;flex:1 !important;max-height:100% !important}}\n",""])},function(e,t,i){"use strict";var r=i(62);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-inline-edit .inline-hide{height:0 !important;width:0 !important;overflow:hidden !important;display:block !important}\n",""])},function(e,t,i){"use strict";var r=i(63);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-confirm-button .confirm-hide{height:0 !important;width:0 !important;overflow:hidden !important;display:block !important}\n",""])},function(e,t,i){"use strict";var r=i(64);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".muted[data-v-2add775e]{font-weight:100;opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(65);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".statbox[data-v-471de0f6]{padding:15px}label[data-v-471de0f6]{font-weight:bold;margin-bottom:10px;display:block}.value[data-v-471de0f6]{font-size:3em;font-weight:800;line-height:1em}.value sup[data-v-471de0f6]{font-weight:normal;opacity:0.5;font-size:0.3em}.subtitle[data-v-471de0f6]{font-size:0.9em}\n",""])},function(e,t,i){"use strict";var r=i(66);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".chart-widget .chart-header[data-v-ae64df28]{padding:10px 15px;background:#f5f5f5;border-bottom:1px solid rgba(0,0,0,0.1)}.chart-widget .chart-header .chart-title[data-v-ae64df28]{font-weight:500;line-height:36px;font-size:1.2em;display:flex;align-items:center}.chart-widget .chart-header .v-btn[data-v-ae64df28]{margin:10px}.chart-widget .chart-header .v-btn[data-v-ae64df28] .v-btn__content{padding:10px 0;height:36px}.chart-widget .chart-wrapper-outer[data-v-ae64df28]{background:#eee;position:relative;border-bottom:1px solid #ddd}.chart-widget .chart-wrapper-outer .chart-wrapper-empty[data-v-ae64df28]{display:none;position:absolute;left:0;top:0;right:0;bottom:0;flex:1;text-align:center;color:rgba(0,0,0,0.5);justify-content:center;align-items:center}.chart-widget .chart-wrapper-outer .chart-wrapper-inner[data-v-ae64df28]{background:#fff}.chart-widget .chart-wrapper-outer.empty .chart-wrapper-empty[data-v-ae64df28]{display:flex}.chart-widget .chart-wrapper-outer.empty .chart-wrapper-inner[data-v-ae64df28]{opacity:0}.chart-widget[data-v-ae64df28] tr.inactive td{background:#efefef;color:#999;font-style:italic;text-decoration:line-through;font-size:0.8em;padding-top:0px;padding-bottom:0px}.chart-widget[data-v-ae64df28] .v-toolbar{height:auto !important}.chart-widget[data-v-ae64df28] .v-toolbar .v-toolbar__content{height:auto !important;padding:5px 15px}.chart-widget[data-v-ae64df28] .chart-tooltip{padding:15px}\n",""])},function(e,t,i){"use strict";var r=i(67);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".v-btn .checkbox-outer[data-v-37aa2a9d]{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:18px;height:18px;display:inline-block;padding:0;margin:0;line-height:18px;text-align:center;font-size:12px}.v-btn .checkbox-outer svg[data-v-37aa2a9d]{opacity:0}.v-btn .checkbox-outer.some[data-v-37aa2a9d]{color:#f0974e}.v-btn .checkbox-outer.some svg[data-v-37aa2a9d]{opacity:1}.v-btn .checkbox-outer.active[data-v-37aa2a9d]{background:green;color:#fff;border-color:green !important}.v-btn .checkbox-outer.active svg[data-v-37aa2a9d]{opacity:1}.v-btn:hover .checkbox-outer[data-v-37aa2a9d]{border:2px solid rgba(0,0,0,0.5)}.v-btn:hover .checkbox-outer svg[data-v-37aa2a9d]{opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(68);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".v-btn .checkbox-outer[data-v-598b9d40]{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:18px;height:18px;display:inline-block;padding:0;margin:0;line-height:18px;text-align:center;font-size:12px}.v-btn .checkbox-outer svg[data-v-598b9d40]{opacity:0}.v-btn .checkbox-outer.active[data-v-598b9d40]{background:green;color:#fff;border-color:green !important}.v-btn .checkbox-outer.active svg[data-v-598b9d40]{opacity:1}.v-btn:hover .checkbox-outer[data-v-598b9d40]{border:2px solid rgba(0,0,0,0.5)}.v-btn:hover .checkbox-outer svg[data-v-598b9d40]{opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(69);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".number-cell-text[data-v-2ff72b1a]{text-align:center;opacity:0.8;font-size:0.9em}\n",""])},function(e,t,i){"use strict";var r=i(70);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".boolean-cell.true{color:green}.boolean-cell.false{opacity:0.3}\n",""])},function(e,t,i){"use strict";var r=i(71);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"span[data-v-25ee0c3f]{white-space:nowrap}\n",""])},function(e,t,i){"use strict";var r=i(72);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".wrap-limit[data-v-5349a862]{max-width:500px;overflow:hidden;white-space:pre-line;text-overflow:ellipsis}\n",""])},function(e,t,i){"use strict";var r=i(73);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-table-wrapper{position:relative;flex:1;display:flex;flex-direction:column;overflow:hidden;height:100%}.fluro-table-wrapper .v-progress-linear{position:absolute;top:0;left:0;right:0;margin:0;padding:0}.fluro-table-wrapper .thumbnail{background-size:cover;background-position:center;width:50px;height:30px;border-radius:3px;display:block}.fluro-table-wrapper .fluro-table-scroll{position:relative;width:100%;z-index:1;margin:auto;overflow:auto;height:100%;overscroll-behavior-x:none !important;overscroll-behavior-y:none !important;overscroll-behavior:none !important}.fluro-table-wrapper .fluro-table-scroll table{width:100%;margin:auto;border-collapse:separate;border-spacing:0}.fluro-table-wrapper .fluro-table-scroll.loading table{opacity:0.5}.fluro-table-wrapper .fluro-table-scroll th,.fluro-table-wrapper .fluro-table-scroll td{padding:8px 5px;border-bottom:1px solid #e8edf1;vertical-align:middle;white-space:nowrap;position:relative}.fluro-table-wrapper .fluro-table-scroll th.shrink,.fluro-table-wrapper .fluro-table-scroll td.shrink{width:1px}.fluro-table-wrapper .fluro-table-scroll th.sorting{background:#f6f6f6 !important}.fluro-table-wrapper .fluro-table-scroll .action-buttons{opacity:0.3;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll tr{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr th.first,.fluro-table-wrapper .fluro-table-scroll tr th.last,.fluro-table-wrapper .fluro-table-scroll tr th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr td.first,.fluro-table-wrapper .fluro-table-scroll tr td.last,.fluro-table-wrapper .fluro-table-scroll tr td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr td.sticky-last{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd){background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.last,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) td.sticky-last{background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td.sticky-last{color:#888;background:#f4f4f4}.fluro-table-wrapper .fluro-table-scroll tr.selected th.first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.last,.fluro-table-wrapper .fluro-table-scroll tr.selected th.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.sticky-last,.fluro-table-wrapper .fluro-table-scroll tr.selected td.first,.fluro-table-wrapper .fluro-table-scroll tr.selected td.last,.fluro-table-wrapper .fluro-table-scroll tr.selected td.sticky-first,.fluro-table-wrapper .fluro-table-scroll tr.selected td.sticky-last{background-color:#f7f6de !important;color:#846b1f;border-color:#f2eac9 !important}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.sticky-first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.sticky-last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.sticky-first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.sticky-last{background-color:#f4fafa;color:#055d52}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover .action-buttons{opacity:1}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker{background:rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker th{background:none !important;color:rgba(0,0,0,0.5) !important;text-transform:uppercase;font-size:0.8em;font-weight:600;letter-spacing:0.03em;padding:4px 5px}.fluro-table-wrapper .fluro-table-scroll thead th,.fluro-table-wrapper .fluro-table-scroll thead td{padding:5px 5px;position:-webkit-sticky;position:sticky;top:0;background:#fff !important;z-index:4;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:0.05em;line-height:20px;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th.sortable .sort-icon{position:absolute;right:2px}.fluro-table-wrapper .fluro-table-scroll tfoot{position:-webkit-sticky;position:sticky;bottom:0}.fluro-table-wrapper .fluro-table-scroll tfoot,.fluro-table-wrapper .fluro-table-scroll tfoot th,.fluro-table-wrapper .fluro-table-scroll tfoot td{position:-webkit-sticky;position:sticky;bottom:0;background:#fff;z-index:4}.fluro-table-wrapper .fluro-table-scroll tfoot th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll th.first,.fluro-table-wrapper .fluro-table-scroll th.sticky-first,.fluro-table-wrapper .fluro-table-scroll td.first,.fluro-table-wrapper .fluro-table-scroll td.sticky-first{position:-webkit-sticky;position:sticky;left:0;z-index:2}.fluro-table-wrapper .fluro-table-scroll th.last,.fluro-table-wrapper .fluro-table-scroll th.sticky-last,.fluro-table-wrapper .fluro-table-scroll td.last,.fluro-table-wrapper .fluro-table-scroll td.sticky-last{position:-webkit-sticky;position:sticky;right:0;z-index:2;text-align:right}.fluro-table-wrapper .fluro-table-scroll thead th.first,.fluro-table-wrapper .fluro-table-scroll thead th.sticky-first,.fluro-table-wrapper .fluro-table-scroll thead th.last,.fluro-table-wrapper .fluro-table-scroll thead th.sticky-last,.fluro-table-wrapper .fluro-table-scroll thead td.first,.fluro-table-wrapper .fluro-table-scroll thead td.sticky-first,.fluro-table-wrapper .fluro-table-scroll thead td.last,.fluro-table-wrapper .fluro-table-scroll thead td.sticky-last{z-index:5}.fluro-table-wrapper .footer-stats{padding:5px 10px;font-size:0.9em}.fluro-table-wrapper .flex-center{flex:1;display:flex;text-align:center;justify-content:center;align-items:center}.fluro-table-wrapper th.checkbox-cell,.fluro-table-wrapper td.checkbox-cell{text-align:center;padding-left:5px !important;padding-right:5px !important}\n",""])},function(e,t,i){"use strict";var r=i(74);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".search-input{position:relative;border-radius:3px;border:1px solid #ccc;overflow:hidden}.search-input.active{border-color:blue}.search-input input{line-height:35px;height:35px;display:block;width:100%;padding:0 45px 0 10px;border:none;background:none}.search-input input:focus{outline:none;box-shadow:none}.search-input .search-icon{position:absolute;top:0;right:0;bottom:0;width:35px;height:35px;text-align:center;line-height:35px}\n",""])},function(e,t,i){"use strict";var r=i(76);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".columnselected{background:#eee;color:#aaa}.fluro-table-wrapper{position:relative;flex:1;display:flex;flex-direction:column;overflow:hidden;height:100%}.fluro-table-wrapper .select-options{font-size:normal;font-weight:normal;letter-spacing:0;text-transform:none}.fluro-table-wrapper .v-progress-linear{position:absolute;top:0;left:0;right:0;margin:0;padding:0}.fluro-table-wrapper .thumbnail{background-size:cover;background-position:center;width:50px;height:30px;border-radius:3px;display:block}.fluro-table-wrapper .fluro-table-scroll{position:relative;width:100%;z-index:1;margin:auto;overflow:auto;height:100%;overscroll-behavior-x:none !important;overscroll-behavior-y:none !important;overscroll-behavior:none !important}.fluro-table-wrapper .fluro-table-scroll table{width:100%;margin:auto;border-collapse:separate;border-spacing:0}.fluro-table-wrapper .fluro-table-scroll.loading table{opacity:0.5}.fluro-table-wrapper .fluro-table-scroll th,.fluro-table-wrapper .fluro-table-scroll td{padding:8px 7px;border-bottom:1px solid #e8edf1;vertical-align:middle;white-space:nowrap;position:relative}.fluro-table-wrapper .fluro-table-scroll th.shrink,.fluro-table-wrapper .fluro-table-scroll td.shrink{width:1px}.fluro-table-wrapper .fluro-table-scroll th.sorting{background:#f6f6f6 !important}.fluro-table-wrapper .fluro-table-scroll .action-buttons{opacity:0.3;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll tr{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr th.first,.fluro-table-wrapper .fluro-table-scroll tr th.last{background:#fff}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd){background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.first,.fluro-table-wrapper .fluro-table-scroll tr:nth-child(odd) th.last{background:#fcfcfc}.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled td,.fluro-table-wrapper .fluro-table-scroll tr.status-cancelled th,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-archived td,.fluro-table-wrapper .fluro-table-scroll tr.status-archived th,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th.first,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th.last,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund td,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-refund th,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.first,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th.last,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased td,.fluro-table-wrapper .fluro-table-scroll tr.status-deceased th{color:#888;background:#f4f4f4}.fluro-table-wrapper .fluro-table-scroll tr.state-sent th.first,.fluro-table-wrapper .fluro-table-scroll tr.state-sent th.last,.fluro-table-wrapper .fluro-table-scroll tr.state-sent td,.fluro-table-wrapper .fluro-table-scroll tr.state-sent th{background:#f7f7f7 !important}.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th.first,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th.last,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled td,.fluro-table-wrapper .fluro-table-scroll tr.state-scheduled th,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-pending th{background:#fff7d3 !important;color:#a76631 !important}.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-complete th{color:#004d00 !important;background:#4dff4d !important}.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th.first,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th.last,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed td,.fluro-table-wrapper .fluro-table-scroll tr.process-status-failed th{color:#c00 !important;background:#ffd1d1 !important}.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th.first,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th.last,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending td,.fluro-table-wrapper .fluro-table-scroll tr.payment-status-pending th{color:#009;background:rgba(0,0,255,0.1)}.fluro-table-wrapper .fluro-table-scroll tr.selected th.first,.fluro-table-wrapper .fluro-table-scroll tr.selected th.last,.fluro-table-wrapper .fluro-table-scroll tr.selected td,.fluro-table-wrapper .fluro-table-scroll tr.selected th{background-color:#f7f6de !important;color:#846b1f;border-color:#f2eac9 !important}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover td.last,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.first,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover th.last{background-color:#f4fafa;color:#055d52}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr:hover .action-buttons{opacity:1}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker{background:rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker td,.fluro-table-wrapper .fluro-table-scroll.clickable tbody tr.breaker th{background:none !important;color:rgba(0,0,0,0.5) !important;text-transform:uppercase;font-size:0.8em;font-weight:600;letter-spacing:0.03em;padding:4px 7px}.fluro-table-wrapper .fluro-table-scroll thead th,.fluro-table-wrapper .fluro-table-scroll thead td{padding:5px 7px;position:-webkit-sticky;position:sticky;top:0;background:#fff !important;z-index:4;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:0.05em;line-height:20px;white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll thead th{white-space:nowrap;border-left:1px solid rgba(0,0,0,0.05)}.fluro-table-wrapper .fluro-table-scroll thead th.first{border-left:none}.fluro-table-wrapper .fluro-table-scroll thead th .options-icon{opacity:0;position:absolute;right:20px;top:50%;transform:translateY(-50%)}.fluro-table-wrapper .fluro-table-scroll thead th:hover .options-icon{opacity:1}.fluro-table-wrapper .fluro-table-scroll thead th.sorting{padding-right:20px}.fluro-table-wrapper .fluro-table-scroll thead th.sortable .sort-icon{position:absolute;right:2px;top:50%;transform:translateY(-50%)}.fluro-table-wrapper .fluro-table-scroll tfoot{position:-webkit-sticky;position:sticky;bottom:0}.fluro-table-wrapper .fluro-table-scroll tfoot,.fluro-table-wrapper .fluro-table-scroll tfoot th,.fluro-table-wrapper .fluro-table-scroll tfoot td{position:-webkit-sticky;position:sticky;bottom:0;background:#fff;z-index:4}.fluro-table-wrapper .fluro-table-scroll tfoot th{white-space:nowrap}.fluro-table-wrapper .fluro-table-scroll th.first{position:-webkit-sticky;position:sticky;left:0;z-index:2}.fluro-table-wrapper .fluro-table-scroll th.last{position:-webkit-sticky;position:sticky;right:0;z-index:2;text-align:right}.fluro-table-wrapper .fluro-table-scroll thead th.first,.fluro-table-wrapper .fluro-table-scroll tfoot th.first,.fluro-table-wrapper .fluro-table-scroll thead th.last,.fluro-table-wrapper .fluro-table-scroll tfoot th.last{z-index:5}.fluro-table-wrapper .footer-stats{padding:5px 10px;font-size:0.9em}.fluro-table-wrapper .pagenumber-select{display:inline-block;position:relative}.fluro-table-wrapper .pagenumber-select select{opacity:0;width:100%;height:100%;position:absolute;appearance:none;display:block;left:0;right:0;bottom:0;top:0}.fluro-table-wrapper .flex-center{flex:1;display:flex;text-align:center;justify-content:center;align-items:center}.fluro-table-wrapper th.checkbox-cell,.fluro-table-wrapper td.checkbox-cell{text-align:center;padding-left:5px !important;padding-right:5px !important}\n",""])},function(e,t,i){"use strict";var r=i(77);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".clickable{cursor:pointer}.clickable:hover{opacity:0.8}\n",""])},function(e,t,i){"use strict";var r=i(78);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".title-cell{display:flex;align-items:center}.title-cell .grow{flex:1}.title-cell .status-label{flex:none}.title-cell .summary{font-size:0.9em;opacity:0.5;max-width:500px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}\n",""])},function(e,t,i){"use strict";var r=i(79);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".image-cell[data-v-b9ba1978]{text-align:center;width:50px;margin:auto}.image-cell .icon-avatar[data-v-b9ba1978]{width:30px;height:30px;background:rgba(0,0,0,0.05);text-align:center;line-height:30px;display:inline-block}\n",""])},function(e,t,i){"use strict";var r=i(80);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"span[data-v-07ed431b]{border-radius:100%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center}.payment-success[data-v-07ed431b]{color:#51d432}.payment-failed[data-v-07ed431b]{color:#d33131}.payment-archived[data-v-07ed431b],.payment-manual[data-v-07ed431b]{color:rgba(0,0,0,0.3)}\n",""])},function(e,t,i){"use strict";var r=i(81);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".symbol[data-v-645d33bc]{opacity:0.4}\n",""])},function(e,t,i){"use strict";var r=i(82);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"div[data-v-9637fce4]{font-size:0.9em;opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(83);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"div[data-v-782190a5]{font-size:0.9em;opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(84);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"div[data-v-121c181e]{font-size:0.9em;opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(85);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".contact-timeline .timeline-wrapper{max-width:960px;margin:auto}.log-message{font-size:0.8em;opacity:0.5;padding:5px;font-style:italic}.timeline-entry{padding:5px;position:relative;overflow:hidden;text-overflow:ellipsis}.timeline-entry .summary{font-size:0.8em;opacity:0.5}.timeline-icon{text-align:center;width:34px;line-height:34px;height:34px;background:rgba(0,0,0,0.1);border-radius:100%;display:block}\n",""])},function(e,t,i){"use strict";var r=i(86);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".card{background:#fff;border-radius:5px;margin-bottom:10px;overflow:hidden}\n",""])},function(e,t,i){"use strict";var r=i(87);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".sheet-panel.archived{opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(88);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var r=i(89);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".thumbnail[data-v-faa00218]{width:50px;height:50px;background-size:contain;background-position:center center;background-repeat:no-repeat;display:block;border-radius:4px;margin-right:10px}\n",""])},function(e,t,i){"use strict";var r=i(90);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".sheet-panel.archived{opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(91);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".cell[data-v-2484e7cb]{font-size:0.9em;text-align:center}\n",""])},function(e,t,i){"use strict";var r=i(92);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".toggle-items{border:1px solid rgba(0,0,0,0.1);border-radius:3px}.toggle-item{font-size:0.9em;padding:10px;background:#fff;border-bottom:1px solid rgba(0,0,0,0.1);cursor:pointer;display:flex}.toggle-item .toggle-item-content{flex:1}.toggle-item:hover{background:#fafafa}.toggle-item:last-child{border-bottom:none;border-radius-bottom-left:3px;border-radius-bottom-right:3px}.toggle-item:first-child{border-radius-top-left:3px;border-radius-top-right:3px}.toggle-item .toggle-switch{flex:none;background:#E2E7EE;border-radius:50px;height:23px;line-height:23px;min-width:50px;position:relative;display:block;overflow:hidden;text-align:center;letter-spacing:0.03em;font-size:0.8em;font-weight:600;text-transform:uppercase;box-shadow:inset 0px 2px 3px rgba(0,0,0,0.2);font-style:normal;border-bottom:1px solid rgba(255,255,255,0.5)}.toggle-item .toggle-switch .off{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50px;transform:translateX(-100%);transition:all 0.5s;pointer-events:none;opacity:0.5}.toggle-item .toggle-switch .on{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50px;background:green;color:#fff;transform:translateX(0);transition:all 0.5s;pointer-events:none;box-shadow:inset 0px 4px 5px rgba(0,0,0,0.1)}.toggle-item.inactive{font-style:italic;color:rgba(0,0,0,0.3);background:rgba(0,0,0,0.05)}.toggle-item.inactive .toggle-switch .off{transform:translateX(0)}.toggle-item.inactive .toggle-switch .on{transform:translateX(100%)}\n",""])},function(e,t,i){"use strict";var r=i(93);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-item-image[data-v-359edbd2]{text-align:center;width:50px;margin:auto}.fluro-item-image .thumbnail[data-v-359edbd2]{width:50px;height:50px;display:block;background-color:rgba(0,0,0,0.1);background-repeat:no-repeat;background-size:contain;background-position:center center;border-radius:5px}.fluro-item-image .icon-avatar[data-v-359edbd2]{width:30px;height:30px;background-color:rgba(0,0,0,0.1);text-align:center;line-height:30px;display:inline-block}\n",""])},function(e,t,i){"use strict";var r=i(94);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-options-dialog{min-width:300px;text-align:center}.fluro-options-dialog .detail-button{border:1px solid #ddd;background:#fff;padding:10px;border-radius:3px;text-align:left;margin-bottom:2px;cursor:pointer}.fluro-options-dialog .detail-button:hover{background:#fafafa;border-color:blue}.fluro-options-dialog .v-list__tile__title{font-size:0.9em;font-weight:500}\n",""])},function(e,t,i){!function(i){"use strict";var r=function(e,t){var i=new Error(e+" at character "+t);throw i.index=t,i.description=e,i},n={"-":!0,"!":!0,"~":!0,"+":!0},a={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},o=function(e){var t,i=0;for(var r in e)(t=r.length)>i&&e.hasOwnProperty(r)&&(i=t);return i},s=o(n),l=o(a),c={true:!0,false:!1,null:null},u=function(e){return a[e]||0},d=function(e,t,i){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:i}},p=function(e){return e>=48&&e<=57},f=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!a[String.fromCharCode(e)]},m=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!a[String.fromCharCode(e)]},h=function(e){for(var t,i,o=0,h=e.charAt,v=e.charCodeAt,g=function(t){return h.call(e,t)},b=function(t){return v.call(e,t)},y=e.length,_=function(){for(var e=b(o);32===e||9===e||10===e||13===e;)e=b(++o)},x=function(){var e,t,i=w();return _(),63!==b(o)?i:(o++,(e=x())||r("Expected expression",o),_(),58===b(o)?(o++,(t=x())||r("Expected expression",o),{type:"ConditionalExpression",test:i,consequent:e,alternate:t}):void r("Expected :",o))},k=function(){_();for(var t=e.substr(o,l),i=t.length;i>0;){if(a.hasOwnProperty(t)&&(!f(b(o))||o+t.length<e.length&&!m(b(o+t.length))))return o+=i,t;t=t.substr(0,--i)}return!1},w=function(){var e,t,i,n,a,s,l,c;if(s=C(),!(t=k()))return s;for(a={value:t,prec:u(t)},(l=C())||r("Expected expression after "+t,o),n=[s,a,l];(t=k())&&0!==(i=u(t));){for(a={value:t,prec:i};n.length>2&&i<=n[n.length-2].prec;)l=n.pop(),t=n.pop().value,s=n.pop(),e=d(t,s,l),n.push(e);(e=C())||r("Expected expression after "+t,o),n.push(a,e)}for(e=n[c=n.length-1];c>1;)e=d(n[c-1].value,n[c-2],e),c-=2;return e},C=function(){var t,i,r;if(_(),t=b(o),p(t)||46===t)return S();if(39===t||34===t)return $();if(91===t)return F();for(r=(i=e.substr(o,s)).length;r>0;){if(n.hasOwnProperty(i)&&(!f(b(o))||o+i.length<e.length&&!m(b(o+i.length))))return o+=r,{type:"UnaryExpression",operator:i,argument:C(),prefix:!0};i=i.substr(0,--r)}return!(!f(t)&&40!==t)&&P()},S=function(){for(var e,t,i="";p(b(o));)i+=g(o++);if(46===b(o))for(i+=g(o++);p(b(o));)i+=g(o++);if("e"===(e=g(o))||"E"===e){for(i+=g(o++),"+"!==(e=g(o))&&"-"!==e||(i+=g(o++));p(b(o));)i+=g(o++);p(b(o-1))||r("Expected exponent ("+i+g(o)+")",o)}return t=b(o),f(t)?r("Variable names cannot start with a number ("+i+g(o)+")",o):46===t&&r("Unexpected period",o),{type:"Literal",value:parseFloat(i),raw:i}},$=function(){for(var e,t="",i=g(o++),n=!1;o<y;){if((e=g(o++))===i){n=!0;break}if("\\"===e)switch(e=g(o++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=e}else t+=e}return n||r('Unclosed quote after "'+t+'"',o),{type:"Literal",value:t,raw:i+t+i}},D=function(){var t,i=b(o),n=o;for(f(i)?o++:r("Unexpected "+g(o),o);o<y&&(i=b(o),m(i));)o++;return t=e.slice(n,o),c.hasOwnProperty(t)?{type:"Literal",value:c[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},M=function(e){for(var t,i,n=[],a=!1;o<y;){if(_(),(t=b(o))===e){a=!0,o++;break}44===t?o++:((i=x())&&"Compound"!==i.type||r("Expected comma",o),n.push(i))}return a||r("Expected "+String.fromCharCode(e),o),n},P=function(){var e,t;for(t=40===(e=b(o))?O():D(),_(),e=b(o);46===e||91===e||40===e;)o++,46===e?(_(),t={type:"MemberExpression",computed:!1,object:t,property:D()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:x()},_(),93!==(e=b(o))&&r("Unclosed [",o),o++):40===e&&(t={type:"CallExpression",arguments:M(41),callee:t}),_(),e=b(o);return t},O=function(){o++;var e=x();if(_(),41===b(o))return o++,e;r("Unclosed (",o)},F=function(){return o++,{type:"ArrayExpression",elements:M(93)}},T=[];o<y;)59===(t=b(o))||44===t?o++:(i=x())?T.push(i):o<y&&r('Unexpected "'+g(o)+'"',o);return 1===T.length?T[0]:{type:"Compound",body:T}};h.version="0.3.4",h.toString=function(){return"JavaScript Expression Parser (JSEP) v"+h.version},h.addUnaryOp=function(e){return s=Math.max(e.length,s),n[e]=!0,this},h.addBinaryOp=function(e,t){return l=Math.max(e.length,l),a[e]=t,this},h.addLiteral=function(e,t){return c[e]=t,this},h.removeUnaryOp=function(e){return delete n[e],e.length===s&&(s=o(n)),this},h.removeAllUnaryOps=function(){return n={},s=0,this},h.removeBinaryOp=function(e){return delete a[e],e.length===l&&(l=o(a)),this},h.removeAllBinaryOps=function(){return a={},l=0,this},h.removeLiteral=function(e){return delete c[e],this},h.removeAllLiterals=function(){return c={},this},e.exports?t=e.exports=h:t.parse=h}()},function(e,t,i){"use strict";function r(e){return null==e}function n(e){return null!=e}function a(e,t){return t.tag===e.tag&&t.key===e.key}function o(e){var t=e.tag;e.vm=new t({data:e.args})}function s(e,t,i){var r,a,o={};for(r=t;r<=i;++r)n(a=e[r].key)&&(o[a]=r);return o}function l(e,t,i){for(;t<=i;++t)o(e[t])}function c(e,t,i){for(;t<=i;++t){var r=e[t];n(r)&&(r.vm.$destroy(),r.vm=null)}}function u(e,t){e!==t&&(t.vm=e.vm,function(e){for(var t=Object.keys(e.args),i=0;i<t.length;i++)t.forEach((function(t){e.vm[t]=e.args[t]}))}(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.patchChildren=function(e,t){n(e)&&n(t)?e!==t&&function(e,t){var i,d,p,f=0,m=0,h=e.length-1,v=e[0],g=e[h],b=t.length-1,y=t[0],_=t[b];for(;f<=h&&m<=b;)r(v)?v=e[++f]:r(g)?g=e[--h]:a(v,y)?(u(v,y),v=e[++f],y=t[++m]):a(g,_)?(u(g,_),g=e[--h],_=t[--b]):a(v,_)?(u(v,_),v=e[++f],_=t[--b]):a(g,y)?(u(g,y),g=e[--h],y=t[++m]):(r(i)&&(i=s(e,f,h)),r(d=n(y.key)?i[y.key]:null)?(o(y),y=t[++m]):a(p=e[d],y)?(u(p,y),e[d]=void 0,y=t[++m]):(o(y),y=t[++m]));f>h?l(t,m,b):m>b&&c(e,f,h)}(e,t):n(t)?l(t,0,t.length-1):n(e)&&c(e,0,e.length-1)},t.h=function(e,t,i){return{tag:e,key:t,args:i}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("alpha",/^[a-zA-Z]*$/);t.default=r},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===e.env.BUILD?i(303).withParams:i(185).withParams;t.default=r}).call(this,i(170))},function(e,t,i){"use strict";(function(e){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!=typeof window?window:void 0!==e?e:{},n=r.vuelidate?r.vuelidate.withParams:function(e,t){return"object"===i(e)&&void 0!==t?t:e((function(){}))};t.withParams=n}).call(this,i(34))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("numeric",/^[0-9]*$/);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},(function(i){return!(0,r.req)(i)||(!/\s/.test(i)||i instanceof Date)&&+e<=+i&&+t>=+i}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8),n=(0,r.withParams)({type:"ipAddress"},(function(e){if(!(0,r.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)}));t.default=n;var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},(function(t){if(!(0,r.req)(t))return!0;if("string"!=typeof t)return!1;var i="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==i&&(6===i.length||8===i.length)&&i.every(n)}))};var n=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"maxLength",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"minLength",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8),n=(0,r.withParams)({type:"required"},(function(e){return"string"==typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},(function(t,i){return!(0,r.ref)(e,this,i)||(0,r.req)(t)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},(function(t,i){return!!(0,r.ref)(e,this,i)||(0,r.req)(t)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"sameAs",eq:e},(function(t,i){return t===(0,r.ref)(e,this,i)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.withParams)({type:"or"},(function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.length>0&&t.reduce((function(t,i){return t||i.apply(e,r)}),!1)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.withParams)({type:"and"},(function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.length>0&&t.reduce((function(t,i){return t&&i.apply(e,r)}),!0)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"not"},(function(t,i){return!(0,r.req)(t)||!e.call(this,t,i)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"minValue",min:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(8);t.default=function(e){return(0,r.withParams)({type:"maxValue",max:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(8).regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},function(e,t,i){"use strict";var r=i(95);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".vc-chrome{width:auto !important}.color-swatch{cursor:pointer;border:1px solid #ccc;border-radius:5px;overflow:hidden;background:conic-gradient(#fafafa 0deg, #fafafa 90deg, #ccc 90deg, #ccc 180deg, #fafafa 180deg, #fafafa 270deg, #ccc 270deg, #ccc 360deg) 0 0/25% 25%}.color-swatch .swatch{display:block;width:100%;padding:10px;color:#fff;font-weight:500;text-align:center}.color-swatch .swatch span{background:rgba(0,0,0,0.2);border-radius:5px;padding:3px 10px;line-height:20px;font-size:14px;display:inline-block}.fluro-content-form-field .same-line{padding-top:0 !important;padding-bottom:0 !important}.fluro-content-form-field.is-context{border-radius:5px;outline:1px dashed rgba(0,0,255,0.5);background:rgba(0,0,255,0.1)}.fluro-content-form-field .multi-input-row{display:flex;padding:5px 10px;align-items:center;border-bottom:1px solid rgba(0,0,0,0.1);background:#fff;border-radius:5px;margin-bottom:4px}.fluro-content-form-field .multi-input-row svg,.fluro-content-form-field .multi-input-row span{opacity:0;cursor:pointer}.fluro-content-form-field .multi-input-row:hover svg,.fluro-content-form-field .multi-input-row:hover span{opacity:0.5}.fluro-content-form-field .multi-input-row span{font-style:italic;font-size:0.8em}.fluro-content-form-field .file-drop{display:block;position:relative;border:1px dashed rgba(0,0,0,0.2);background:rgba(0,0,0,0.05);padding:10px;border-radius:10px;text-align:center;min-height:60px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:0.8;font-style:italic;color:rgba(0,0,0,0.5);margin-bottom:5px}.fluro-content-form-field .file-drop:hover,.fluro-content-form-field .file-drop:focus,.fluro-content-form-field .file-drop:active{background:#fff}.fluro-content-form-field .file-drop input{display:block;left:0;right:0;bottom:0;top:0;opacity:0;width:100%;height:100%;position:absolute;cursor:pointer}.fluro-content-form-field .file-items{margin-bottom:15px}.fluro-content-form-field .file-items .file-item{position:relative;padding:5px 5px 5px 15px;border:1px solid rgba(0,0,0,0.2);border-bottom:none;background:#fff;font-size:0.9em}.fluro-content-form-field .file-items .file-item:first-child{border-radius:5px 5px 0 0}.fluro-content-form-field .file-items .file-item:last-child{border-bottom:1px solid rgba(0,0,0,0.2);border-radius:0 0 5px 5px}.fluro-content-form-field .vertical-center{display:flex;align-items:center;min-height:36px}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input,.fluro-content-form-field.fluro-content-form-field-group.multiple-input{margin:25px 0}.fluro-content-form-field.fluro-content-form-field-embedded.multiple-input.multiple-input-values-0,.fluro-content-form-field.fluro-content-form-field-group.multiple-input.multiple-input-values-0{margin:0}.fluro-content-form-field .no-flex>.v-input__control>.v-input__slot{display:block;margin:0}.fluro-content-form-field .v-sheet{margin-bottom:15px}.fluro-content-form-field .v-toolbar__content{height:40px !important;padding-right:5px}.fluro-content-form-field .v-toolbar__title{letter-spacing:-0.03em}.fluro-content-form-field .fluro-editor .fluro-editor-textarea>div{min-height:200px}.fluro-content-form-field .faint .v-label{font-weight:400 !important;opacity:0.5;font-style:italic}.fluro-content-form-field .terms{padding:15px 15px;background:rgba(0,0,0,0.05);border-radius:3px;margin-top:16px}.fluro-content-form-field .terms.has-error{background:rgba(255,82,82,0.05)}.fluro-content-form-field .terms>.v-input{margin-top:0 !important}.fluro-content-form-field .terms .conditions{margin-top:10px;font-size:0.9em;opacity:0.8;font-style:italic}.fluro-content-form-field.right-messages /deep/ .v-text-field__details{text-align:right}\n",""])},function(e,t,i){"use strict";var r=i(96);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var r=i(97);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-prompt-dialog{min-width:300px;text-align:center}.fluro-prompt-dialog .v-list__tile__title{font-size:0.9em;font-weight:500}\n",""])},function(e,t,i){"use strict";var r=i(98);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-confirm-dialog{text-align:center}@media (min-width: 768px){.fluro-confirm-dialog{width:100%;min-width:500px}}\n",""])},function(e,t,i){"use strict";var r=i(99);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".realm-bar[data-v-4a6cff45]{width:5px;position:absolute;left:0;top:0;bottom:0;height:100%;background:rgba(0,0,0,0.1)}\n",""])},function(e,t,i){"use strict";var r=i(100);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-list-item[data-v-e21c3d46]{display:flex;overflow:hidden;position:relative;background:#fff;user-select:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}.fluro-list-item .item-actions[data-v-e21c3d46]{opacity:0}.fluro-list-item .item-actions.active[data-v-e21c3d46]{opacity:1}.fluro-list-item:hover .item-actions[data-v-e21c3d46]{opacity:1}@media (max-width: 768px){.fluro-list-item .item-actions[data-v-e21c3d46]{opacity:1}}.fluro-list-item[data-v-e21c3d46]:last-of-type{border-bottom:none}.fluro-list-item.bordered[data-v-e21c3d46],.fluro-list-item[bordered][data-v-e21c3d46]{border-top:1px solid rgba(0,0,0,0.1);border-left:1px solid rgba(0,0,0,0.1);border-right:1px solid rgba(0,0,0,0.1)}.fluro-list-item.bordered[data-v-e21c3d46]:first-of-type,.fluro-list-item[bordered][data-v-e21c3d46]:first-of-type{border-top-left-radius:3px;border-top-right-radius:3px}.fluro-list-item.bordered[data-v-e21c3d46]:last-of-type,.fluro-list-item[bordered][data-v-e21c3d46]:last-of-type{border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-bottom:1px solid rgba(0,0,0,0.1)}.fluro-list-item .realm-bar[data-v-e21c3d46]{width:5px;position:absolute;left:0;top:0;bottom:0}.fluro-list-item .handle[data-v-e21c3d46]{flex:none;display:flex;align-items:center;justify-content:center;padding:0 5px;text-align:center;line-height:50px;opacity:0.3}.fluro-list-item .handle[data-v-e21c3d46]:hover{opacity:1}.fluro-list-item .item-icon[data-v-e21c3d46]{flex:none;text-align:center;padding:5px;width:50px;display:flex;justify-content:center;align-items:center}.fluro-list-item .item-icon.image[data-v-e21c3d46]{padding:0 10px}.fluro-list-item .item-text[data-v-e21c3d46]{flex:1;align-items:center;padding:8px 15px;color:inherit;display:flex;text-decoration:none}.fluro-list-item .item-text .item-subtitle[data-v-e21c3d46]{font-size:0.8em;opacity:0.5}.fluro-list-item .item-actions[data-v-e21c3d46]{flex:none;padding:5px;display:flex;align-items:center}.fluro-list-item .item-actions .v-btn[data-v-e21c3d46]{margin:0}\n",""])},function(e,t,i){"use strict";var r=i(101);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".timeline-wrapper[data-v-60c1fbfc]{padding:25px}.year[data-v-60c1fbfc]{border-left:1px solid rgba(0,0,0,0.1)}.year-label[data-v-60c1fbfc]{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.4em;background:rgba(0,0,0,0.1)}.month-label[data-v-60c1fbfc]{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.2em;margin:10px 0;color:rgba(0,0,0,0.8)}.day[data-v-60c1fbfc]{display:flex;margin-top:10px}.day-label[data-v-60c1fbfc]{font-weight:600;font-size:10px;text-transform:uppercase;padding:5px 10px;border-top:1px solid rgba(0,0,0,0.1);width:80px;white-space:nowrap;color:rgba(0,0,0,0.3)}.entries[data-v-60c1fbfc]{position:relative;top:-10px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,0.1);flex:1;margin-bottom:15px;overflow:hidden}\n",""])},function(e,t,i){"use strict";var r=i(102);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".tabset{flex:1}.tabset .tabset-menu{flex:none;overflow:hidden;white-space:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.tabset .tabset-menu a{display:inline-block;color:inherit;opacity:0.6;padding:15px 35px;font-size:0.8em;letter-spacing:0.05em;text-transform:uppercase;font-weight:500;flex:1;text-align:center;border-top:3px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent;border-bottom:1px solid rgba(0,0,0,0.05);position:relative;transition:opacity 0.2s, background 0.2s}.tabset .tabset-menu a.muted{opacity:0.4;background:#ccc}.tabset .tabset-menu a.active{opacity:1;background:#fff;border-left:1px solid rgba(0,0,0,0.05);border-right:1px solid rgba(0,0,0,0.05);border-top:3px solid blue;border-bottom:1px solid transparent}.tabset .tabset-content{flex:1;position:relative}.tabset.justified .tabset-menu a{padding:15px 17px}.tabset.justified .tabset-menu-inner{display:flex}@media (min-width: 768px){.tabset.vertical{display:flex;flex-direction:row}.tabset.vertical>.tabset-header{min-width:200px;max-width:260px;width:25%;display:flex;flex-direction:column;background:rgba(0,0,0,0.05)}.tabset.vertical>.tabset-header .tabset-menu{background:none;flex:1;white-space:normal;overflow-x:hidden;overflow-y:auto}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner{display:block}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a{background:none;border:none;display:block;border-left:3px solid transprent;text-align:left;text-transform:none;letter-spacing:0;font-size:1.1em;padding:10px 5px 10px 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:none}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a.muted{opacity:0.2;background:#bbb}.tabset.vertical>.tabset-header .tabset-menu .tabset-menu-inner a.active{background:#fafafa;border-left:3px solid blue}}\n",""])},function(e,t,i){"use strict";var r=i(103);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".slide-leave-active,.slide-enter-active{transition:0.2s}.slide-enter{top:0;left:0;right:0;bottom:0;width:100%;position:absolute;transform:translate(15px, 0);opacity:0}.slide-leave-to{top:0;left:0;right:0;bottom:0;width:100%;position:absolute;transform:translate(-15px, 0);opacity:0}\n",""])},function(e,t,i){"use strict";var r=i(104);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var r=i(105);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".dots[data-v-82bc59f0]{display:inline-block;margin-right:5px;vertical-align:middle;white-space:nowrap}.dots .dot[data-v-82bc59f0]{display:inline-block;border-radius:100%;width:14px;height:14px;margin-left:-7px;border:1px solid #fff;vertical-align:middle}.dots .dot[data-v-82bc59f0]:first-child{margin-left:0}\n",""])},function(e,t,i){"use strict";var r=i(106);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".realm-select-modal{max-width:500px;max-height:80vh}.realm-select-modal .tabset .tabset-menu{background:#333;color:#fff}.realm-select-modal .tabset .tabset-menu a{border:none !important;padding:20px 15px}.realm-select-modal .tabset .tabset-menu a.active{background:none;opacity:1;border:none}.realm-select-modal .flex-tabs{background:#eaedf2}@media (max-width: 768px){.realm-select-modal{max-width:none}}.realm-select-modal .realm-select-item-outer{background:#eaedf2;padding:0 5px 0 15px}.realm-select-modal .realm-select-item-outer.has-children+.realm-select-item-outer>.realm-select-item:first-child{border-top:1px solid #cbd2df !important}.realm-select-modal .realm-select-item-outer .realm-select-item{border:1px solid #cbd2df;display:block;padding:10px;color:#888;position:relative;background:#fff;font-weight:400;cursor:pointer}.realm-select-modal .realm-select-item-outer .realm-select-item:hover{background:#fafafa}.realm-select-modal .realm-select-item-outer .realm-select-item .type{font-weight:1 !important;font-style:italic !important;font-size:0.9em !important;opacity:0.5}.realm-select-modal .realm-select-item-outer .realm-select-item .check-icon{width:35px;text-align:right}.realm-select-modal .realm-select-item-outer .realm-select-item:first-child{border-top:none}.realm-select-modal .realm-select-item-outer .realm-select-item:before{content:'';border-top:1px solid #cbd2df;position:absolute;left:-16px;top:19px;width:15px;height:2px;display:block}.realm-select-modal .realm-select-item-outer .realm-select-item .v-list__tile__action{opacity:0}.realm-select-modal .realm-select-item-outer .realm-select-item .dot{border-radius:100%;display:inline-block;width:10px;height:10px;margin-right:10px;background-color:rgba(68,68,68,0.3)}.realm-select-modal .realm-select-item-outer .children{padding:0px 0 15px;margin-left:21px;border-left:1px solid #cbd2df;position:relative}@media (max-width: 768px){.realm-select-modal .realm-select-item-outer .children{margin-left:5px}}.realm-select-modal .realm-select-item-outer .children:before{content:'';position:absolute;width:1px;height:20px;display:block;left:-1px;border-left:1px solid #cbd2df;top:0}.realm-select-modal .realm-select-item-outer .children:after{content:'';position:absolute;width:1px;height:36px;display:block;left:-1px;border-left:1px solid #eaedf2;bottom:0}.realm-select-modal .has-selection .realm-select-item{background:#edf0f4}.realm-select-modal .has-selection .realm-select-item.selected{background:#fff;border-color:#cbd2df;color:#333;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n",""])},function(e,t,i){"use strict";var r=i(107);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".label[data-v-6d8c49ce]{max-width:150px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""])},function(e,t,i){"use strict";var r=i(108);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".subfields[data-v-3e7d1456]{border-radius:5px;background:#eee;padding:5px}.filter-condition-row.mini[data-v-3e7d1456] .v-messages{display:none !important}.filter-condition-row.mini[data-v-3e7d1456] .v-select__slot{overflow:hidden}.filter-condition-row.mini[data-v-3e7d1456] .v-select,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field{margin:0;padding:0}.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-label,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-label{font-size:13px}.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-select__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-select .v-text-field__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-select__slot,.filter-condition-row.mini[data-v-3e7d1456] .v-text-field .v-text-field__slot{white-space:nowrap;font-size:13px;padding:0}\n",""])},function(e,t,i){"use strict";var r=i(109);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".filter-group-outer .description[data-v-3dbdcd7b]{font-size:13px;padding:10px 0}.filter-group-outer .select-operator[data-v-3dbdcd7b]{font-size:13px;border:1px solid transparent;background:none;text-align:center;appearance:none;display:inline-block}.filter-group-outer .select-operator[data-v-3dbdcd7b]:hover{border:1px solid rgba(0,0,0,0.1);background:#fff}.filter-group-outer.mini .operator[data-v-3dbdcd7b]{font-weight:700;overflow:hidden;text-align:center;text-transform:uppercase;font-size:10px;padding:0 3px;position:absolute;left:50%;transform:translateX(-50%);line-height:20px;height:20px;color:transparent;border:1px solid #fff;background:green;border-radius:10px;opacity:0}.filter-group-outer.mini .operator.additional[data-v-3dbdcd7b]{opacity:1;color:#fff}.filter-group-outer.mini .operator.nor[data-v-3dbdcd7b]{background:#333}.filter-group-outer.mini .operator.or[data-v-3dbdcd7b]{background:#f0974e}.filter-group-outer.mini .operator-column[data-v-3dbdcd7b]{flex:none !important;padding-top:8px;margin-right:8px;width:25px;position:relative}.filter-group-outer.mini .operator-column[data-v-3dbdcd7b]:before{content:'';border-left:2px solid rgba(0,0,0,0.1);display:block;position:absolute;right:50%;height:100%;top:0;bottom:0}.filter-group-outer.mini .operator-column.and[data-v-3dbdcd7b]:before{border-left-color:green}.filter-group-outer.mini .operator-column.nor[data-v-3dbdcd7b]:before{border-left-color:#333}.filter-group-outer.mini .operator-column.or[data-v-3dbdcd7b]:before{border-left-color:#f0974e}.filter-group-outer.mini .filter-group[data-v-3dbdcd7b]{overflow:hidden}.filter-group-outer.mini .filter-group.additional[data-v-3dbdcd7b]{border:1px solid #ccc;box-shadow:0 2px 2px rgba(0,0,0,0.1);border-radius:5px;background:#fff;margin-bottom:15px}@media (min-width: 769px){.filter-group-outer.mini .filter-group .hover[data-v-3dbdcd7b]{opacity:0}}.filter-group-outer.mini .filter-group:hover .hover[data-v-3dbdcd7b]{opacity:1}.filter-group-outer.large .operator[data-v-3dbdcd7b]{font-weight:600;letter-spacing:0.05em;text-transform:uppercase;font-size:12px;padding:0 10px;position:absolute;right:30px;line-height:32px;color:transparent}.filter-group-outer.large .operator.additional[data-v-3dbdcd7b]{background:green;color:#fff;border-radius:5px 0 0 5px}.filter-group-outer.large .operator.additional[data-v-3dbdcd7b]:after{content:'';display:block;border:16px solid transparent;border-left-color:green;position:absolute;width:32px;height:32px;top:0;right:-32px}.filter-group-outer.large .operator.additional.nor[data-v-3dbdcd7b]{background:#333}.filter-group-outer.large .operator.additional.nor[data-v-3dbdcd7b]:after{border-left-color:#333}.filter-group-outer.large .operator.additional.or[data-v-3dbdcd7b]{background:#f0974e}.filter-group-outer.large .operator.additional.or[data-v-3dbdcd7b]:after{border-left-color:#f0974e}.filter-group-outer.large .operator[data-v-3dbdcd7b]:before{content:'';display:block;background:green;position:absolute;right:-30px;top:50%;margin-top:-6px;width:12px;height:12px;border-radius:100%;border:1px solid #fff}.filter-group-outer.large .operator.nor[data-v-3dbdcd7b]:before{background:#333}.filter-group-outer.large .operator.or[data-v-3dbdcd7b]:before{background:#f0974e}.filter-group-outer.large .operator-column[data-v-3dbdcd7b]{flex:none !important;padding-top:20px;width:90px;margin-right:25px;position:relative}.filter-group-outer.large .operator-column[data-v-3dbdcd7b]:before{content:'';border-left:2px solid rgba(0,0,0,0.1);display:block;position:absolute;right:5px;height:100%;top:0;bottom:0}.filter-group-outer.large .operator-column.and[data-v-3dbdcd7b]:before{border-left-color:green}.filter-group-outer.large .operator-column.nor[data-v-3dbdcd7b]:before{border-left-color:#333}.filter-group-outer.large .operator-column.or[data-v-3dbdcd7b]:before{border-left-color:#f0974e}.filter-group-outer.large .filter-group.additional[data-v-3dbdcd7b]{border-top:1px solid rgba(0,0,0,0.1);padding-top:15px;margin-top:15px}.filter-group-outer.large .filter-group .hover[data-v-3dbdcd7b]{opacity:0}.filter-group-outer.large .filter-group:hover .hover[data-v-3dbdcd7b]{opacity:1}.filter-group-outer .v-btn.ghost[data-v-3dbdcd7b]{border:1px dashed rgba(0,0,0,0.5)}\n",""])},function(e,t,i){"use strict";var r=i(110);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".content-select-modal{width:80vw;min-width:300px;max-width:1200px}\n",""])},function(e,t,i){"use strict";var r=i(111);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".inline-tag[data-v-7e6571ee]{cursor:pointer}.inline-tag .on[data-v-7e6571ee]{display:none}.inline-tag .off[data-v-7e6571ee]{display:inline-block}.inline-tag:hover .off[data-v-7e6571ee]{display:none}.inline-tag:hover .on[data-v-7e6571ee]{display:inline-block}\n",""])},function(e,t,i){"use strict";var r=i(112);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".status-label{display:inline-block;text-transform:uppercase;font-weight:600;letter-spacing:.05em;font-size:.6em;padding:2px 5px;line-height:inherit;border-radius:50px;margin:0 2px 2px 2px;background:rgba(0,0,0,0.01);color:rgba(0,0,0,0.1)}.status-label.draft,.status-label.trial,.status-label.sandbox,.status-label.scheduled,.status-label.yellow,.status-label.warning{background:#fff3b9 !important;color:#f0974e !important}.status-label.click,.status-label.open,.status-label.live,.status-label.ready,.status-label.active,.status-label.green,.status-label.success{background:rgba(81,212,50,0.2) !important;color:#51d432 !important}.status-label.red,.status-label.danger{background:rgba(187,0,16,0.2) !important;color:#bb0010 !important}.status-label.archived,.status-label.unsubscribe,.status-label.sent{background:rgba(0,0,0,0.05) !important;color:rgba(0,0,0,0.3) !important}.status-label[right]{float:right}\n",""])},function(e,t,i){"use strict";var r=i(113);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-status-select{display:inline-block;width:100px;height:25px;line-height:25px;margin:0 10px;vertical-align:middle}.fluro-status-select .status-label{margin:0;border-radius:3px;display:block;text-align:center;padding:0;font-size:11px}\n",""])},function(e,t,i){"use strict";var r=i(114);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".log-viewer{max-width:500px;max-height:70vh}.log-viewer .timeline{background:#f4f4f4;padding-right:10px}.log-viewer .timeline .year{border-left:1px solid rgba(0,0,0,0.1)}.log-viewer .timeline .year-label{font-weight:500;text-transform:uppercase;display:block;padding:5px 10px;font-size:1.4em;background:rgba(0,0,0,0.1)}.log-viewer .timeline .month{border-top:1px solid rgba(0,0,0,0.1)}.log-viewer .timeline .month-label{font-weight:500;text-transform:uppercase;display:block;padding:1px 10px;font-size:15px;margin:10px 0;color:rgba(0,0,0,0.8)}.log-viewer .timeline .day{display:flex;margin-top:10px}.log-viewer .timeline .day-label{font-weight:600;font-size:10px;text-transform:uppercase;padding:5px 10px;border-top:1px solid rgba(0,0,0,0.1);width:60px;white-space:nowrap;color:rgba(0,0,0,0.3)}.log-viewer .timeline .entries{position:relative;top:-10px;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,0.1);flex:1;margin-bottom:15px}.log-viewer .timeline .entry{padding:8px;font-size:11px;background:#fff;border-top:1px solid rgba(0,0,0,0.1);min-width:320px;cursor:pointer}.log-viewer .timeline .entry:hover{background:#fafafa}.log-viewer .timeline .entry:first-child{border-top:none}\n",""])},function(e,t,i){var r={"./academic.vue":[474,21],"./application.vue":[475,22],"./article.vue":[476,31],"./asset.vue":[477,9],"./attendance.vue":[470,25],"./audio.vue":[478,10],"./capability.vue":[479,32],"./checkin.vue":[480,33],"./code.vue":[481,34],"./collection.vue":[482,55],"./component.vue":[483,35],"./contact.vue":[463,13],"./contactdetail.vue":[484,36],"./definition.vue":[464,27],"./event.vue":[485,5,1,23],"./eventtrack.vue":[465,1,0,16],"./family.vue":[471,20],"./image.vue":[486,11],"./integration.vue":[487,37],"./location.vue":[466,8],"./mailout.vue":[488,38],"./persona.vue":[472,14],"./plan.vue":[468,26],"./policy.vue":[489,24],"./post.vue":[490,39],"./process.vue":[491,40],"./query.vue":[469,15],"./realm.vue":[492,41],"./role.vue":[493,42],"./roster.vue":[494,0,43],"./tag.vue":[495,30],"./team.vue":[467,7],"./ticket.vue":[496,44],"./timetrigger.vue":[497,56],"./video.vue":[498,12]};function n(e){if(!i.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(i.e)).then((function(){return i(n)}))}n.keys=function(){return Object.keys(r)},n.id=364,e.exports=n},function(e,t,i){"use strict";var r=i(115);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".modal-inner .content-edit{width:100%;min-width:80vw}\n",""])},function(e,t,i){"use strict";var r=i(116);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".settings-popup[data-v-ea01adb4]{z-index:100}.white-background[data-v-ea01adb4]{background:white}.content-edit[data-v-ea01adb4]{background:#fafafa}.content-edit[data-v-ea01adb4] .tabset-menu{background:#fff}.content-edit[data-v-ea01adb4] .tabset-menu a.active{background:#fafafa}.content-edit[data-v-ea01adb4] .v-text-field--outline .v-input__control .v-input__slot{border-width:1px !important;border-color:rgba(0,0,0,0.3);background:#fff !important;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1) !important}.content-edit[data-v-ea01adb4] .v-text-field--outline.v-input--is-focused .v-input__control .v-input__slot,.content-edit[data-v-ea01adb4] .v-text-field--outline.success--text .v-input__control .v-input__slot,.content-edit[data-v-ea01adb4] .v-text-field--outline.error--text .v-input__control .v-input__slot{border-color:currentColor}.content-edit[data-v-ea01adb4] .v-label{font-weight:500}\n",""])},function(e,t,i){var r={"./article.vue":[499,57],"./asset.vue":[500,18],"./collection.vue":[501,58],"./contact.vue":[502,59],"./event.vue":[503,5,17],"./image.vue":[504,19],"./interaction.vue":[505,60],"./mailout.vue":[506,45],"./plan.vue":[473,28],"./post.vue":[507,61],"./query.vue":[508,62],"./tag.vue":[509,63],"./video.vue":[510,29]};function n(e){if(!i.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(i.e)).then((function(){return i(n)}))}n.keys=function(){return Object.keys(r)},n.id=369,e.exports=n},function(e,t){e.exports=brace/ext/language_tools},function(e,t){e.exports=brace/mode/html},function(e,t){e.exports=brace/mode/json},function(e,t){e.exports=brace/mode/ejs},function(e,t){e.exports=brace/mode/scss},function(e,t){e.exports=brace/theme/tomorrow_night_eighties},function(e,t){e.exports=brace/snippets/javascript},function(e,t,i){"use strict";var r=i(117);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-code-editor[data-v-77fb60eb]{min-height:200px;display:flex;flex-direction:column}.fluro-code-editor>div[data-v-77fb60eb]{flex:1}\n",""])},function(e,t,i){"use strict";var r=i(118);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".list-group{border:1px solid rgba(0,0,0,0.1);border-radius:3px;margin-bottom:15px}\n",""])},function(e,t,i){"use strict";var r=i(119);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".list-group-item{color:inherit;position:relative;padding:7px 10px;background:#fff;border-bottom:1px solid rgba(0,0,0,0.1);display:flex;align-items:center;transition:background 0.3s;transition:color 0.3s;text-decoration:none}.list-group-item .tick-icon{opacity:0;transition:opacity 0.3s}.list-group-item:hover{background:#fafafa}.list-group-item:hover .tick-icon{opacity:1}.list-group-item .fluro-item-image{margin-right:10px}.list-group-item .list-group-item-content{flex:1}.list-group-item:last-child{border-bottom:none;border-radius-bottom-left:3px;border-radius-bottom-right:3px}.list-group-item:first-child{border-radius-top-left:3px;border-radius-top-right:3px}.list-group-item.inactive{background:#eee;color:rgba(0,0,0,0.5)}.list-group-item.selected{background:blue;color:#fff}.list-group-item.selected .tick-icon{opacity:1}\n",""])},function(e,t,i){"use strict";var r=i(120);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-content-render-field .field-group{display:block;margin-bottom:1.5em}.fluro-content-render-field .field-group label{display:block;font-weight:700;margin-bottom:0.3em;text-transform:uppercase;letter-spacing:0.05em;font-size:0.8em}.fluro-content-render-field .panel{margin-bottom:1em;border:1px solid rgba(0,0,0,0.15) !important;border-radius:4px;box-shadow:none !important}.fluro-content-render-field .panel .panel-title{padding:1em;background:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.05)}\n",""])},function(e,t,i){"use strict";var r=i(121);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-content-render[data-v-5f7ed093]{flex:1}\n",""])},function(e,t,i){"use strict";var r=i(122);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".add-post-modal{display:flex;flex:1;max-height:80vh;min-width:300px;max-width:750px;width:100%}\n",""])},function(e,t,i){"use strict";var r=i(123);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-task-modal{min-width:300px}@media (min-width: 768px){.fluro-task-modal{max-width:500px}}.fluro-task-modal .introduction{font-size:1.1em}.fluro-task-modal .task-options{padding:15px;background:rgba(0,0,0,0.05)}.fluro-task-modal .task-options .task-option-item{background:#fff;padding:10px 15px;font-size:1.2em;border:1px solid rgba(0,0,0,0.2);border-radius:5px;margin-bottom:5px;cursor:pointer;display:flex;align-items:center}.fluro-task-modal .task-options .task-option-item:hover{border:1px solid rgba(0,0,0,0.4)}.fluro-task-modal .task-options .task-option-item .task-icon{width:50px;height:50px;line-height:50px;background:#eee;border-radius:50%;text-align:center;font-size:20px;border:1px solid rgba(0,0,0,0.05);color:rgba(0,0,0,0.5);margin-left:15px}.fluro-task-modal .task-options .task-option-item.complete .task-icon{color:green}.fluro-task-modal .task-options .task-option-item.complete.active{background-color:#00cd00;border-color:green;color:#000}.fluro-task-modal .task-options .task-option-item.complete.active .task-icon{background-color:green;color:#fff}.fluro-task-modal .task-options .task-option-item.pending .task-icon{color:#f0974e}.fluro-task-modal .task-options .task-option-item.pending.active{background-color:#f8ceac;border-color:#f0974e;color:#ec7b1f}.fluro-task-modal .task-options .task-option-item.pending.active .task-icon{background-color:#f0974e;color:#fff}.fluro-task-modal .task-options .task-option-item.failed .task-icon{color:red}.fluro-task-modal .task-options .task-option-item.failed.active{background-color:#ff4d4d;border-color:red;color:#600}.fluro-task-modal .task-options .task-option-item.failed.active .task-icon{background-color:red;color:#fff}\n",""])},function(e,t,i){"use strict";var r=i(124);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-task-edit-modal{min-width:300px}@media (min-width: 768px){.fluro-task-edit-modal{max-width:500px}}.fluro-task-edit-modal .fluro-editor-textarea{background:#fff}.fluro-task-edit-modal .tabset-menu a.active{background:#fafafa}.fluro-task-edit-modal .tabset-content{background:#fafafa}.fluro-task-edit-modal .bordered{border:1px solid rgba(0,0,0,0.05)}.fluro-task-edit-modal .fluro-content-form-field-checkbox{margin-bottom:25px}.fluro-task-edit-modal .fluro-content-form-field-checkbox .v-input__slot{margin-bottom:5px}\n",""])},function(e,t){e.exports=prosemirror-commands},function(e,t,i){"use strict";var r=i(125);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-editor{margin-bottom:15px}.fluro-editor .text-muted{color:inherit;opacity:0.5}.fluro-editor .font-xs{font-size:0.7em}.fluro-editor .font-sm{font-size:0.8em}.fluro-editor .font-lg{font-size:1.3em}.fluro-editor .font-xl{font-size:1.6em}.fluro-editor .font-xxl{font-size:2em}.fluro-editor table{border-collapse:collapse}.fluro-editor table th,.fluro-editor table td{border:1px dotted rgba(0,0,0,0.1) !important}.fluro-editor .ace_editor{border-radius:5px;overflow:hidden}.fluro-editor .menububble{position:absolute;display:flex;z-index:20;background:#000;border-radius:5px;padding:.3rem;margin-bottom:.5rem;transform:translateX(-50%);visibility:hidden;opacity:0;transition:opacity .2s, visibility .2s;color:#fff !important}.fluro-editor .menububble.active{opacity:1;visibility:visible}.fluro-editor .menububble .v-btn{margin:0;color:#fff}.fluro-editor .menububble .link-input{background:rgba(255,255,255,0.2);color:#fff;border-radius:3px;font-size:0.8em;padding:2px 4px;color:#fff !important}.fluro-editor .menububble .link-input::placeholder{color:rgba(255,255,255,0.5)}.fluro-editor .menububble .link-input:-ms-input-placeholder{color:rgba(255,255,255,0.5)}.fluro-editor .menububble .link-input::-ms-input-placeholder{color:rgba(255,255,255,0.5)}.fluro-editor *{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}.fluro-editor .fluro-image-preview{max-width:100%}.fluro-editor .fluro-image-preview img{display:block;width:100%;height:auto}.fluro-editor ul,.fluro-editor ol{padding-left:24px}.fluro-editor user agent stylesheet div{display:block}.fluro-editor html{font-family:-apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;font-size:18px;color:#000;line-height:1.5}.fluro-editor .floating-menu{position:absolute;margin-top:-0.25rem;visibility:hidden;opacity:0;transition:opacity 0.2s, visibility 0.2s}.fluro-editor .floating-menu.is-active{opacity:1;visibility:visible}.fluro-editor-toolbar{margin-bottom:10px}.fluro-editor-toolbar .v-menu{display:inline}.fluro-editor-toolbar .v-btn{margin:3px}.fluro-editor-textarea{display:flex;flex-direction:column;min-height:200px;overflow:hidden;resize:vertical}.fluro-editor-textarea .selectedCell{background:rgba(0,0,255,0.1)}.fluro-editor-textarea>div{flex:1;padding:15px;outline:none;border:1px solid rgba(0,0,0,0.1);border-radius:5px;overflow:auto}.fluro-editor-textarea>div:focus{border:1px solid rgba(0,0,0,0.4)}.fluro-editor-textarea .is-empty:before{opacity:0.4;background:#ff0066;content:attr(data-empty-text);float:left;pointer-events:none;height:0;font-style:italic}.fluro-editor-textarea .tableWrapper{display:block;width:100%}.fluro-editor-textarea .tableWrapper table{width:100%;border-collapse:collapse}.fluro-editor-textarea .tableWrapper table tr,.fluro-editor-textarea .tableWrapper table td{border:1px solid rgba(0,0,0,0.2);padding:10px}.fluro-editor-textarea mention{display:inline;background:rgba(0,0,0,0.1);color:rgba(0,0,0,0.6);font-size:0.9rem;font-weight:500;border-radius:9px;padding:0.3rem 0.5rem;white-space:nowrap}.fluro-editor-textarea pre{box-shadow:none;border:none;margin:15px 0}.fluro-editor-textarea pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:0.6rem}.fluro-editor-textarea pre code{box-shadow:none !important;background:#333 !important;color:#ccc !important;padding:15px;display:block}.fluro-editor-textarea pre code .hljs-comment,.fluro-editor-textarea pre code .hljs-quote{color:#999999}.fluro-editor-textarea pre code .hljs-variable,.fluro-editor-textarea pre code .hljs-template-variable,.fluro-editor-textarea pre code .hljs-tag,.fluro-editor-textarea pre code .hljs-name,.fluro-editor-textarea pre code .hljs-selector-id,.fluro-editor-textarea pre code .hljs-selector-class,.fluro-editor-textarea pre code .hljs-regexp,.fluro-editor-textarea pre code .hljs-deletion{color:#f2777a}.fluro-editor-textarea pre code .hljs-number,.fluro-editor-textarea pre code .hljs-built_in,.fluro-editor-textarea pre code .hljs-builtin-name,.fluro-editor-textarea pre code .hljs-literal,.fluro-editor-textarea pre code .hljs-type,.fluro-editor-textarea pre code .hljs-params,.fluro-editor-textarea pre code .hljs-meta,.fluro-editor-textarea pre code .hljs-link{color:#f99157}.fluro-editor-textarea pre code .hljs-attribute{color:#ffcc66}.fluro-editor-textarea pre code .hljs-string,.fluro-editor-textarea pre code .hljs-symbol,.fluro-editor-textarea pre code .hljs-bullet,.fluro-editor-textarea pre code .hljs-addition{color:#99cc99}.fluro-editor-textarea pre code .hljs-title,.fluro-editor-textarea pre code .hljs-section{color:#6699cc}.fluro-editor-textarea pre code .hljs-keyword,.fluro-editor-textarea pre code .hljs-selector-tag{color:#cc99cc}.fluro-editor-textarea pre code .hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:0.5em}.fluro-editor-textarea pre code .hljs-emphasis{font-style:italic}.fluro-editor-textarea pre code .hljs-strong{font-weight:bold}.mention-suggestion{color:rgba(0,0,0,0.6)}.suggestion-list{font-family:'font-proxima';padding:0.2rem;border:2px solid rgba(0,0,0,0.1);font-size:0.8rem;font-weight:bold}.suggestion-list__no-results{padding:0.2rem 0.5rem}.suggestion-list__item{border-radius:5px;padding:0.2rem 0.5rem;margin-bottom:0.2rem;cursor:pointer}.suggestion-list__item:last-child{margin-bottom:0}.suggestion-list__item.is-selected,.suggestion-list__item:hover{background-color:rgba(255,255,255,0.2)}.suggestion-list__item.is-empty{opacity:0.5}.tippy-tooltip.dark-theme{background-color:#000;padding:0;font-size:1rem;text-align:inherit;color:#fff;border-radius:5px}.tippy-tooltip.dark-theme .tippy-backdrop{display:none}.tippy-tooltip.dark-theme .tippy-roundarrow{fill:#000}.tippy-popper[x-placement^=top] .tippy-tooltip.dark-theme .tippy-arrow{border-top-color:#000}.tippy-popper[x-placement^=bottom] .tippy-tooltip.dark-theme .tippy-arrow{border-bottom-color:#000}.tippy-popper[x-placement^=left] .tippy-tooltip.dark-theme .tippy-arrow{border-left-color:#000}.tippy-popper[x-placement^=right] .tippy-tooltip.dark-theme .tippy-arrow{border-right-color:#000}\n",""])},function(e,t,i){"use strict";var r=i(126);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-task-item{padding:10px 3px 5px 3px;border-radius:3px;font-size:1.1em;cursor:pointer}.fluro-task-item .input{display:block;padding:5px;background:#fff;border:1px solid blue;width:100%}.fluro-task-item .hover,.fluro-task-item .detail-placeholder,.fluro-task-item .edit-button{opacity:0}.fluro-task-item:hover{opacity:0.8}.fluro-task-item:hover .hover,.fluro-task-item:hover .detail-placeholder,.fluro-task-item:hover .edit-button{opacity:1}.fluro-task-item.complete{color:rgba(0,0,0,0.4);text-decoration:line-through}.fluro-task-item.pending{background-color:#fef8f3;border-color:#f0974e;color:#ec7b1f}.fluro-task-item.failed{background-color:#ffb3b3;border-color:red;color:#600}.fluro-task-item p:last-child{margin-bottom:0}.fluro-task-item .wrap{max-width:500px}.fluro-task-item .v-btn .checkbox-outer{background:#fff;border-radius:2px;border:2px solid rgba(0,0,0,0.2);width:25px;height:25px;display:inline-block;padding:0;margin:0;line-height:25px;text-align:center;font-size:14px}.fluro-task-item .v-btn .checkbox-outer svg{opacity:0}.fluro-task-item .v-btn .checkbox-outer.complete{background:green;color:#fff;border-color:green !important}.fluro-task-item .v-btn .checkbox-outer.complete svg{opacity:1}.fluro-task-item .v-btn .checkbox-outer.failed{background:red;color:#fff;border-color:red !important}.fluro-task-item .v-btn .checkbox-outer.failed svg{opacity:1}.fluro-task-item .v-btn .checkbox-outer.pending{background:#f0974e;color:#fff;border-color:#f0974e !important}.fluro-task-item .v-btn .checkbox-outer.pending svg{opacity:1}.fluro-task-item .v-btn:hover .checkbox-outer{border:2px solid rgba(0,0,0,0.5)}.fluro-task-item .v-btn:hover .checkbox-outer svg{opacity:0.5}\n",""])},function(e,t,i){"use strict";var r=i(127);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-task-list{margin-bottom:25px;border:1px solid rgba(0,0,0,0.15);padding:10px;border-radius:3px;background:#fff}.fluro-task-list .task-list-items .fluro-task-item{background:#eee;margin-bottom:1px}.fluro-task-list .hover{opacity:0}.fluro-task-list:hover .hover{opacity:1}\n",""])},function(e,t,i){"use strict";var r=i(128);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-page-preloader[data-v-625dafb6]{pointer-events:none !important;position:fixed;width:100vw;height:100vh;z-index:999;left:0;top:0;right:0;bottom:0}.fluro-page-preloader .v-progress-circular[data-v-625dafb6]{opacity:0.1;width:30% !important;height:30% !important;position:absolute;left:35%;top:50%;margin-top:-15%}.fluro-page-preloader[contain][data-v-625dafb6]{width:100%;height:100%;position:absolute}.fluro-page-preloader[contain] .v-progress-circular[data-v-625dafb6]{margin-top:0;transform:translateY(-50%)}\n",""])},function(e,t,i){"use strict";var r=i(129);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-search-bar[data-v-6a2e384c]{border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(0,0,0,0.1)}.fluro-search-bar .options[data-v-6a2e384c]{background:rgba(0,0,0,0.03)}.fluro-search-bar .icon[data-v-6a2e384c]{height:60px;width:50px;line-height:40px;font-size:25px;display:flex;justify-content:center;align-items:center;opacity:0.5}.fluro-search-bar .icon[data-v-6a2e384c]:hover{opacity:0.8}.fluro-search-bar .icon.active[data-v-6a2e384c]{opacity:1}.fluro-search-bar .icon-more.active[data-v-6a2e384c]{background:rgba(0,0,0,0.03)}.fluro-search-bar .search-wrapper[data-v-6a2e384c]{position:relative;display:flex}.fluro-search-bar .search-wrapper input[data-v-6a2e384c]{border:none;background:none;line-height:60px;font-size:22px;letter-spacing:-0.03em;flex:1;padding-right:50px;width:100%}.fluro-search-bar .search-wrapper input[data-v-6a2e384c]:focus{outline:none;box-shadow:none}@media (max-width: 768px){.fluro-search-bar .search-wrapper input[data-v-6a2e384c]{padding-left:15px}}.fluro-search-bar .search-wrapper .icon-search[data-v-6a2e384c]{position:absolute;right:0;top:0}.fluro-search-bar.active[data-v-6a2e384c]{background:#fff}.fluro-search-bar.active .icon-search[data-v-6a2e384c]{cursor:pointer}.fluro-search-bar.active input[data-v-6a2e384c]:before{border:10px solid red;content:'Searching for '}\n",""])},function(e,t,i){"use strict";var r=i(130);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"* [left][data-v-61d6caba]{margin-right:10px}* [right][data-v-61d6caba]{margin-left:10px}\n",""])},function(e,t,i){"use strict";var r=i(131);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".dots[data-v-41ee6357]{display:inline-block;margin-right:5px;vertical-align:middle;white-space:nowrap}.dots .dot[data-v-41ee6357]{display:inline-block;border-radius:100%;width:14px;height:14px;margin-left:-7px;border:1px solid #fff;vertical-align:middle}.dots .dot[data-v-41ee6357]:first-child{margin-left:0}\n",""])},function(e,t,i){"use strict";var r=i(132);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".wrapper{padding:70px 0}.wrapper[bottom]{padding-top:0 !important}.wrapper[top]{padding-top:0 !important}.wrapper [wrapper-title]{margin-bottom:56px}.wrapper [centered]{text-align:center}.wrapper[xs]{padding:23px 0}.wrapper[xs] [wrapper-title]{margin-bottom:18.4px}.wrapper[sm]{padding:35px 0}.wrapper[sm] [wrapper-title]{margin-bottom:28px}.wrapper[lg]{padding:140px 0}.wrapper[lg] [wrapper-title]{margin-bottom:37.33333px}.wrapper[xl]{padding:210px 0}.wrapper[xl] [wrapper-title]{margin-bottom:56px}@media (max-width: 1024px){.wrapper{padding:50px 0}.wrapper [wrapper-title]{margin-bottom:40px}.wrapper[xs]{padding:16px 0}.wrapper[xs] [wrapper-title]{margin-bottom:12.8px}.wrapper[sm]{padding:25px 0}.wrapper[sm] [wrapper-title]{margin-bottom:20px}.wrapper[lg]{padding:100px 0}.wrapper[lg] [wrapper-title]{margin-bottom:26.66667px}.wrapper[xl]{padding:150px 0}.wrapper[xl] [wrapper-title]{margin-bottom:40px}}@media (max-width: 768px){.wrapper{padding:30px 0}.wrapper [wrapper-title]{margin-bottom:24px}.wrapper[xs]{padding:10px 0}.wrapper[xs] [wrapper-title]{margin-bottom:8px}.wrapper[sm]{padding:15px 0}.wrapper[sm] [wrapper-title]{margin-bottom:12px}.wrapper[lg]{padding:60px 0}.wrapper[lg] [wrapper-title]{margin-bottom:16px}.wrapper[xl]{padding:90px 0}.wrapper[xl] [wrapper-title]{margin-bottom:24px}}\n",""])},function(e,t,i){"use strict";var r=i(133);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".constrain[data-v-10362a06]{margin:auto;max-width:1200px}.constrain[gutterless][data-v-10362a06]{padding:0}.constrain[xs][data-v-10362a06]{max-width:320px}.constrain[sm][data-v-10362a06]{max-width:740px}.constrain[md][data-v-10362a06]{max-width:1200px}.constrain[lg][data-v-10362a06]{max-width:1600px}.constrain[left][data-v-10362a06]{margin:0}.constrain[centered][data-v-10362a06]{text-align:center}\n",""])},function(e,t,i){"use strict";var r=i(134);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var r=i(135);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".accordion-panel{border:1px solid rgba(0,0,0,0.1);margin-bottom:4px}.accordion-panel .accordion-panel-title{padding:10px;background:#eee}.accordion-panel .accordion-panel-body{max-height:0;overflow:hidden;transition:all 0.3s}.accordion-panel.expanded .accordion-panel-body{max-height:100vh;overflow:auto}\n",""])},function(e,t,i){"use strict";var r=i(136);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"td.fixed-w{padding:0 !important}.fluro-content-browser{flex:1;display:flex;flex-direction:column;overflow:hidden}.fluro-content-browser .v-card{flex:1;overflow:auto}\n",""])},function(e,t,i){"use strict";var r=i(137);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-content-list{margin-bottom:5px}.fluro-content-select /deep/ .v-select__selections{padding-top:0 !important}.fluro-content-select /deep/ .v-input__slot{min-height:48px !important}.fluro-content-select /deep/ .v-input__prepend-inner,.fluro-content-select /deep/ .v-input__append-inner{margin-top:11px !important}.fluro-content-select /deep/ .v-text-field--box .v-input__slot{background:rgba(0,0,0,0.03)}.fluro-content-select .content-select-search-bar{position:relative}.fluro-content-select .content-select-search-bar .content-select-search-buttons{position:absolute;right:5px;top:10px;display:flex;align-items:center}.fluro-content-select.outlined /deep/ .v-input__slot{height:60px}.fluro-content-select.outlined /deep/ .v-input__prepend-inner{margin-top:16px !important}.fluro-content-select.outlined .content-select-search-bar .content-select-search-buttons{top:6px}.fluro-content-select .fluro-content-select-dialog{overflow:hidden;display:flex;flex-direction:column}.fluro-content-select .ghost{opacity:0.5}.fluro-content-select .buttons{display:flex;justify-content:center;align-items:center}.fluro-content-select .flip-list-move{transition:transform 0.5s}.fluro-content-select .no-move{transition:transform 0s}\n",""])},function(e,t,i){"use strict";var r=i(138);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-expression-editor{min-height:30px;max-height:30px;display:flex;border-radius:4px;border:1px solid #ddd;overflow:hidden;flex-direction:column;margin-bottom:5px}.fluro-expression-editor div.ace_scroller>div.ace_content{margin-top:0 !important;overflow:hidden !important;height:30px !important}.fluro-expression-editor div.ace_scroller>div.ace_content .ace_line,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_active-line,.fluro-expression-editor div.ace_scroller>div.ace_content .ace_cursor{line-height:30px !important;height:30px !important}\n",""])},function(e,t,i){"use strict";var r=i(139);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".hljs-comment,.hljs-quote{color:#999999}.hljs-variable,.hljs-template-variable,.hljs-tag,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-regexp,.hljs-deletion{color:#f2777a}.hljs-number,.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-type,.hljs-params,.hljs-meta,.hljs-link{color:#f99157}.hljs-attribute{color:#ffcc66}.hljs-string,.hljs-symbol,.hljs-bullet,.hljs-addition{color:#99cc99}.hljs-title,.hljs-section{color:#6699cc}.hljs-keyword,.hljs-selector-tag{color:#cc99cc}.hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:0.5em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}\n",""])},function(e,t,i){"use strict";var r=i(140);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-signature-field .v-input__slot{display:block !important}\n",""])},function(e,t,i){"use strict";var r=i(141);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".signature-pad-wrap[data-v-9d24245a]{flex:1;position:relative;height:0;padding-bottom:50%;border:2px solid;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.signature-pad-wrap canvas[data-v-9d24245a]{display:block;width:100%;height:100%;position:absolute;left:0;right:0;bottom:0;top:0;cursor:pointer}.signature-pad-wrap .clear[data-v-9d24245a]{position:absolute;bottom:0;right:0}.pad[data-v-9d24245a]{border:1px solid rgba(0,0,0,0.1);border-radius:3px;box-shadow:0 3px 3px rgba(0,0,0,0.2);background:#fff;margin:5px 0 10px;min-height:300px;width:100%}\n",""])},function(e,t,i){"use strict";var r=i(142);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".no-flex>.v-input__control>.v-input__slot{display:block;margin:0}\n",""])},function(e,t,i){"use strict";var r=i(143);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-post-form .v-btn .v-progress-circular[data-v-44c8f1f5]{width:15px !important;height:15px !important;margin-left:15px}\n",""])},function(e,t,i){"use strict";var r=i(144);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-interaction-form .payment[data-v-719f0f95]{margin:15px 0;background:#fff;border-radius:3px;border:1px solid #ddd;box-shadow:0 1px 2px rgba(0,0,0,0.1)}.fluro-interaction-form dt[data-v-719f0f95],.fluro-interaction-form label[data-v-719f0f95]{font-weight:600}.fluro-interaction-form .modifier[data-v-719f0f95]{opacity:0.5}.fluro-interaction-form .modifier .modifier-title[data-v-719f0f95]{font-style:italic}.fluro-interaction-form .v-btn .v-progress-circular[data-v-719f0f95]{width:15px !important;height:15px !important;margin-left:15px}\n",""])},function(e,t,i){"use strict";var r=i(145);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var r=i(146);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-card{display:block;background:#fff;margin-bottom:10px;text-align:left;border-radius:4px;overflow:hidden;box-shadow:0 3px 15px rgba(0,0,0,0.1)}.fluro-card[margin]{margin-bottom:15px}\n",""])},function(e,t,i){"use strict";var r=i(147);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-card-body{padding:15px}\n",""])},function(e,t,i){"use strict";var r=i(148);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-card-title{padding:10px 15px;background:rgba(0,0,0,0.08)}\n",""])},function(e,t,i){"use strict";var r=i(149);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-panel{display:block;background:#fff;margin-bottom:10px;text-align:left;border-radius:4px;overflow:hidden;border:1px solid rgba(0,0,0,0.1);box-shadow:0 1px 1px rgba(0,0,0,0.1);margin:15px 0}.fluro-panel[margin]{margin-bottom:30px}\n",""])},function(e,t,i){"use strict";var r=i(150);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-panel-body{padding:15px}\n",""])},function(e,t,i){"use strict";var r=i(151);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".fluro-panel-title{padding:10px 15px;background:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.1)}\n",""])},function(e,t,i){"use strict";var r=i(152);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".flex-column{display:flex;overflow:hidden;flex:1;flex-direction:column}.flex-column[center]{align-items:center;justify-content:center}\n",""])},function(e,t,i){"use strict";var r=i(153);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".flex-row{display:flex;overflow:hidden;flex:1;flex-direction:row}\n",""])},function(e,t,i){"use strict";var r=i(154);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".flex-column-header{flex:none}\n",""])},function(e,t,i){"use strict";var r=i(155);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".flex-column-body{overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;flex:1;overscroll-behavior-x:none !important}\n",""])},function(e,t,i){"use strict";var r=i(156);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".flex-column-footer{flex:none}\n",""])},function(e,t,i){"use strict";var r=i(157);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"iframe.mailout-preview-frame[data-v-d830603a]{border:none;flex:1}\n",""])},function(e,t,i){"use strict";var r=i(158);i.n(r).a},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".row-item[data-v-08ca41a6]{display:block;padding:10px;color:inherit;text-decoration:none}.row-item[data-v-08ca41a6]:hover{background:#fafafa}.stat-box[data-v-08ca41a6]{padding:10px;border:1px solid rgba(0,0,0,0.1);border-radius:3px;text-align:center;margin:2px;background:linear-gradient(#fff, #fafafa)}.stat-box label[data-v-08ca41a6]{text-transform:uppercase;font-weight:500;font-size:10px;opacity:0.5;letter-spacing:0.05em}.stat-box h3[data-v-08ca41a6]{font-size:40px;display:block;line-height:50px}\n",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"FluroImage",(function(){return s})),i.d(t,"FluroModalMixin",(function(){return l.a})),i.d(t,"FluroAvatar",(function(){return c.default})),i.d(t,"FluroAvatarUpdate",(function(){return u.a})),i.d(t,"FluroFieldEditor",(function(){return d.a})),i.d(t,"FluroCompileHtml",(function(){return p.default})),i.d(t,"FluroInfiniteScroll",(function(){return f.a})),i.d(t,"FluroPagedContent",(function(){return g})),i.d(t,"FluroVideo",(function(){return F})),i.d(t,"FluroVideoThumbnail",(function(){return N})),i.d(t,"FluroModal",(function(){return R})),i.d(t,"FluroInlineEdit",(function(){return V.default})),i.d(t,"FluroConfirmButton",(function(){return B.default})),i.d(t,"FluroTrendChart",(function(){return le})),i.d(t,"FluroTable",(function(){return ce.a})),i.d(t,"TableCell",(function(){return ue.a})),i.d(t,"SearchInput",(function(){return de.a})),i.d(t,"FluroDynamicTable",(function(){return pe.a})),i.d(t,"DefinitionCell",(function(){return fe.a})),i.d(t,"TitleCell",(function(){return me.a})),i.d(t,"TypeImageCell",(function(){return he.a})),i.d(t,"FirstNameCell",(function(){return ye})),i.d(t,"BooleanCell",(function(){return _e.a})),i.d(t,"LastNameCell",(function(){return Ce})),i.d(t,"StatusCell",(function(){return Se.a})),i.d(t,"DateCell",(function(){return $e.a})),i.d(t,"TimeCell",(function(){return Oe})),i.d(t,"ThumbnailCell",(function(){return Fe.a})),i.d(t,"EventThumbnailCell",(function(){return Ne})),i.d(t,"NumberCell",(function(){return Ae.a})),i.d(t,"RealmDotCell",(function(){return Ie.a})),i.d(t,"PaymentStatusCell",(function(){return Be})),i.d(t,"CurrencyCell",(function(){return Ye})),i.d(t,"TimeagoCell",(function(){return Ke.a})),i.d(t,"PhoneNumberCell",(function(){return Je})),i.d(t,"EmailAddressCell",(function(){return et})),i.d(t,"FilesizeCell",(function(){return nt})),i.d(t,"DurationCell",(function(){return lt})),i.d(t,"DimensionsCell",(function(){return pt})),i.d(t,"AvatarCell",(function(){return ft.a})),i.d(t,"PersonaAvatarCell",(function(){return gt})),i.d(t,"ContactAvatarCell",(function(){return xt})),i.d(t,"ContactTimeline",(function(){return kt.a})),i.d(t,"ContactPostThread",(function(){return $t})),i.d(t,"ContactDetailList",(function(){return Ot})),i.d(t,"ContactMessageList",(function(){return jt})),i.d(t,"ContactTransactionList",(function(){return Lt})),i.d(t,"ContactInteractionList",(function(){return qt})),i.d(t,"ContactCheckinList",(function(){return Kt})),i.d(t,"ContactTeamList",(function(){return Jt})),i.d(t,"PrivacyCell",(function(){return ei})),i.d(t,"JSONCell",(function(){return ni})),i.d(t,"TicketCollectCell",(function(){return li})),i.d(t,"FluroToggleItem",(function(){return ci.a})),i.d(t,"FluroItemImage",(function(){return ui.a})),i.d(t,"FluroOptionsDialog",(function(){return di.a})),i.d(t,"FluroPromptDialog",(function(){return vi})),i.d(t,"FluroConfirmDialog",(function(){return xi})),i.d(t,"FluroListItem",(function(){return $i})),i.d(t,"FluroTimeline",(function(){return Di.default})),i.d(t,"FluroContentEdit",(function(){return Gi})),i.d(t,"FluroContentView",(function(){return Hi.a})),i.d(t,"FilterConditionGroup",(function(){return Ji.default})),i.d(t,"FilterConditionRow",(function(){return Xi.default})),i.d(t,"FluroContentRender",(function(){return Qi.default})),i.d(t,"FluroContentRenderField",(function(){return Zi.default})),i.d(t,"FluroTaskList",(function(){return er.a})),i.d(t,"FluroPagePreloader",(function(){return nr})),i.d(t,"FluroSearchBar",(function(){return lr})),i.d(t,"FluroIcon",(function(){return pr})),i.d(t,"FluroRealmDots",(function(){return fr.a})),i.d(t,"FluroRealmTags",(function(){return gr})),i.d(t,"FluroStatusLabel",(function(){return br.a})),i.d(t,"FluroStatusSelect",(function(){return Vi.a})),i.d(t,"FluroWrapper",(function(){return yr.default})),i.d(t,"FluroConstrain",(function(){return _r.default})),i.d(t,"FluroRealmBar",(function(){return wi.default})),i.d(t,"FluroTabset",(function(){return Fi.a})),i.d(t,"FluroTab",(function(){return Ti.a})),i.d(t,"FluroAccordion",(function(){return Cr})),i.d(t,"FluroAccordionPanel",(function(){return Mr})),i.d(t,"FluroContentBrowser",(function(){return Er})),i.d(t,"FluroContentSelect",(function(){return jr.default})),i.d(t,"FluroSelector",(function(){return Nr.a})),i.d(t,"AddPostModal",(function(){return Ar.default})),i.d(t,"FluroContentSelectModal",(function(){return Ir.a})),i.d(t,"FluroContentSelectButton",(function(){return Ni.default})),i.d(t,"FluroRealmSelect",(function(){return Ri.default})),i.d(t,"FluroTagSelect",(function(){return Li})),i.d(t,"FluroEditor",(function(){return Lr.default})),i.d(t,"FluroCodeEditor",(function(){return Rr.default})),i.d(t,"FluroExpressionEditor",(function(){return Vr.default})),i.d(t,"FluroCodeHighlight",(function(){return Ur})),i.d(t,"FluroContentForm",(function(){return fi.default})),i.d(t,"FluroContentFormField",(function(){return Bi.default})),i.d(t,"FluroDateTimePicker",(function(){return Yr.default})),i.d(t,"FluroSignatureField",(function(){return Kr.default})),i.d(t,"FluroAcademicSelect",(function(){return Wr.a})),i.d(t,"FluroPostForm",(function(){return Qr})),i.d(t,"FluroBasicForm",(function(){return rn})),i.d(t,"FluroInteractionForm",(function(){return nn.default})),i.d(t,"FluroPostThread",(function(){return ln})),i.d(t,"FluroStatToggle",(function(){return pn})),i.d(t,"FluroStatTotal",(function(){return vn})),i.d(t,"FluroCard",(function(){return yn})),i.d(t,"FluroCardBody",(function(){return kn})),i.d(t,"FluroCardTitle",(function(){return Sn})),i.d(t,"FluroPanel",(function(){return Mn})),i.d(t,"FluroPanelBody",(function(){return Fn})),i.d(t,"FluroPanelTitle",(function(){return jn})),i.d(t,"FlexColumn",(function(){return Ln})),i.d(t,"FlexRow",(function(){return qn})),i.d(t,"FlexColumnHeader",(function(){return Kn})),i.d(t,"FlexColumnBody",(function(){return Jn})),i.d(t,"FlexColumnFooter",(function(){return ea})),i.d(t,"ListGroup",(function(){return ta.a})),i.d(t,"ListGroupItem",(function(){return ia.a})),i.d(t,"MailoutRenderPreview",(function(){return ra.a})),i.d(t,"MailoutTestPanel",(function(){return na.a})),i.d(t,"MailoutPreflightPanel",(function(){return aa.a})),i.d(t,"MailoutResultsPanel",(function(){return oa.a})),i.d(t,"Layout",(function(){return bi.a})),i.d(t,"DynamicListMixin",(function(){return sa.a})),i.d(t,"DynamicPageMixin",(function(){return la})),i.d(t,"FluroContactCommunicateMixin",(function(){return ca.a})),i.d(t,"FluroSelectionMixin",(function(){return Or.a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-image",class:{loaded:e.loaded},style:e.style},[e.longpress?i("img",{staticClass:"holder",attrs:{src:e.url}}):e._e(),e._v(" "),i("div",{style:e.spacer}),e._v(" "),!e.loaded&&e.placeholder?i("div",{staticClass:"placeholder",style:{backgroundImage:e.placeholderImage}}):e._e(),e._v(" "),!e.loaded&&e.spinner?i("v-progress-circular",{attrs:{indeterminate:"",color:"rgba(180,180,180,0.5)"}}):e._e(),e._v(" "),e._t("default")],2)};r._withStripped=!0;var n={props:{longpress:{type:Boolean},spinner:{type:Boolean,default:!0},placeholder:{type:Boolean,default:!0},item:[String,Object],width:{type:Number},height:{type:Number},imageWidth:{type:Number},imageHeight:{type:Number},from:{type:[String,Object]},cacheKey:[String,Number]},data:()=>({timer:null,loadedImageWidth:0,loadedImageHeight:0,loaded:!1}),watch:{url:"load"},mounted(){this.load()},methods:{load(){var e=this;if(e.loaded=!1,e.url){var t=e.url,i=new Image;i.onload=function(t){e.loaded=!0,e.$emit("load",t),e.loadedImageWidth=i.width,e.loadedImageHeight=i.height},i.onerror=function(t){e.$emit("error",t)},i.src=t}}},computed:{style(){var e={backgroundImage:this.backgroundImage};return this.width?e.width=this.width+"px":e.width="100%",this.height?e.height=this.height+"px":e.height="auto",e},computedWidth(){return this.imageWidth||this.loadedImageWidth||this.width||_.get(this.item,"width")||1},computedHeight(){return this.imageHeight||this.loadedImageHeight||this.height||_.get(this.item,"height")||1},aspectRatio(){return this.computedHeight/this.computedWidth*100},spacer(){var e={};return this.aspectRatio&&(e.height="0",e.paddingBottom=this.aspectRatio+"%"),e},imageID(){return this.$fluro.utils.getStringID(this.item)},url(){if(this.imageID){var e=this.imageWidth||(this.width?2*this.width:null),t=this.imageHeight||(this.height?2*this.height:null),i={includePublic:!0};return this.cacheKey&&String(this.cacheKey.length)&&(i.cacheKey=this.cacheKey),this.from&&(i.from=this.$fluro.utils.getStringID(this.from)),this.$fluro.asset.imageUrl(this.imageID,e,t,i)}},placeholderImage(){if(this.imageID){var e={includePublic:!0};return this.cacheKey&&String(this.cacheKey.length)&&(e.cacheKey=this.cacheKey),this.from&&(e.from=this.$fluro.utils.getStringID(this.from)),`url(${this.$fluro.asset.imageUrl(this.imageID,50,null,e)})`}},backgroundImage(){if(this.url)return`url(${this.url})`}}},a=(i(203),i(0)),o=Object(a.a)(n,r,[],!1,null,"53cb0c7f",null);o.options.__file="src/components/FluroImage.vue";var s=o.exports,l=i(5),c=i(36),u=i(179),d=i(178),p=i(188),f=i(159),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",[i("flex-column-body",[i("div",{ref:"top"}),e._v(" "),e._t("default",null,{page:e.page})],2),e._v(" "),i("flex-column-footer",[i("div",{staticClass:"footer-stats"},[i("v-layout",{attrs:{row:"",wrap:""}},[e.totalPages?[i("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[e._v("\n                        "+e._s(e._f("numberWithCommas")(e.startOffset+1))+" to "+e._s(e._f("numberWithCommas")(e.endOffset))+" of "+e._s(e._f("numberWithCommas")(e.filteredTotal))+" matches\n                        ")]),e._v(" "),i("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"","align-center":"","d-flex":""}},[i("div",[e.$vuetify.breakpoint.smAndUp?i("span",{staticClass:"text-muted"},[e._v("Page "+e._s(e.currentPage)+" of "+e._s(e.totalPages))]):e._e(),e._v(" "),i("span",{staticClass:"ml-3"},[[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.firstPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.previousPageDisabled,icon:""},on:{click:function(t){return e.previousPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],e._v(" "),[i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.nextPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-right"}})],1),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{disabled:e.nextPageDisabled,icon:""},on:{click:function(t){return e.lastPage()}}},[i("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[i("v-flex",{staticClass:"text-muted"},[e._v("\n                        No matches\n                    ")])]],2)],1)])],1)};m._withStripped=!0;var h={props:{top:{type:Boolean},items:{type:Array,default:function(){return[]}},perPage:{type:Number,default:24},startPage:{type:Number,default:1},click:{type:Function}},data(){return{currentPage:this.startPage}},filters:{numberWithCommas:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},watch:{items:"checkPage"},computed:{previousPageDisabled(){return this.currentPage<=1},nextPageDisabled(){return this.currentPage==this.totalPages},totalVisible(){return this.$vuetify.breakpoint.smAndDown?0:15},totalPages(){return this.availablePages.length},availablePages(){return _.chunk(this.items,this.perPage)},page(){return this.currentPage>this.totalPages?_.first(this.availablePages):this.availablePages[this.currentPage-1]},startOffset(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},filteredTotal(){return this.items?this.items.length:0}},methods:{checkPage(){this.currentPage=1,this.pageChanged()},pageChanged(){var e=this.$refs.top;e?e.scrollIntoView({block:"center",behavior:"smooth"}):console.log("No top"),this.$emit("change",this.currentPage)},firstPage(){this.currentPage=1},lastPage(){this.currentPage=this.totalPages},nextPage(){var e=this.totalPages;this.currentPage<e?this.currentPage++:this.currentPage=e,this.pageChanged()},previousPage(){this.totalPages;this.currentPage>1?this.currentPage--:this.currentPage=1,this.pageChanged()}}},v=(i(213),Object(a.a)(h,m,[],!1,null,"1086cec5",null));v.options.__file="src/components/ui/FluroPagedContent.vue";var g=v.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"fluro-video",class:e.classes,style:e.style},["youtube"==e.provider?i("div",{staticClass:"fluro-video-embed"},[i("youtube-embed",{attrs:{"video-id":e.mediaID}})],1):e._e(),e._v(" "),"upload"==e.provider?i("div",{staticClass:"fluro-video-embed"},[i("video",{staticClass:"embed-responsive-item",attrs:{poster:e.posterUrl,controls:""}},[i("source",{attrs:{src:e.assetUrl,type:e.item.mimetype}})])]):e._e(),e._v(" "),"embed"==e.provider?i("div",{staticClass:"fluro-video-embed",domProps:{innerHTML:e._s(e.item.external.embed)}}):e._e(),e._v(" "),"vimeo"==e.provider?i("div",{staticClass:"fluro-video-embed"},[i("vimeo-player",{attrs:{"video-id":e.mediaID}})],1):e._e(),e._v(" "),e._t("default")],2)])};b._withStripped=!0;var y=i(195),x=i(196),k=i.n(x),w=0;function C(e){var t=this;this.player.on(e,(function(i){t.$emit(e,i,t.player)}))}var S=["play","pause","ended","timeupdate","progress","seeked","texttrackchange","cuechange","cuepoint","volumechange","error","loaded"],$={props:{playerHeight:{default:320},playerWidth:{default:640},options:{default:function(){return{}}},videoId:{required:!0},loop:{default:!1},autoplay:{default:!1}},render:function(e){return e("div",{attrs:{id:this.elementId}})},watch:{videoId:"update"},data:function(){return{elementId:"vimeo-player-"+(w+=1),player:null}},methods:{update:function(e){return this.player.loadVideo(e)},play:function(){return this.player.play()},pause:function(){return this.player.pause()},mute:function(){return this.player.setVolume(0)},unmute:function(e){return void 0===e&&(e=.5),this.player.setVolume(e)},setEvents:function(){var e=this;this.player.ready().then((function(){e.$emit("ready",e.player)})).catch((function(t){e.$emit("error",t,e.player)})),S.forEach((function(t){return C.call(e,t)}))}},mounted:function(){var e={id:this.videoId,width:this.playerWidth,height:this.playerHeight,loop:this.loop,autoplay:this.autoplay};this.player=new y.a(this.elementId,k()(e,this.options)),this.setEvents()},beforeDestroy:function(){this.player.unload()}};function D(e,t){e.component("vimeo-player",$)}D.version="0.0.9","undefined"!=typeof window&&window.Vue&&window.Vue.use(D);var M=i(197),P={components:{vimeoPlayer:$,youtubeEmbed:M.Youtube},props:{item:Object,width:{type:Number},height:{type:Number},cacheKey:[String,Number]},computed:{provider(){if(this.item)return this.item.assetType},mediaID(){if(this.item)switch(this.provider){case"upload":break;default:return this.$fluro.video.getAssetMediaIDFromURL(_.get(this,"item.external."+this.provider),this.provider)}},classes(){var e={};if(this.item)switch(this.item.assetType){case"youtube":case"vimeo":case"s3":case"embed":case"upload":e["fluro-video-"+this.item.assetType]=!0}return e},computedWidth(){return _.get(this.item,"width")||this.width||1920},computedHeight(){return _.get(this.item,"height")||this.height||1080},aspectRatio(){return this.computedHeight/this.computedWidth*100},style(){var e={color:"#fff",backgroundColor:"#eee",backgroundImage:this.backgroundImage};return this.aspectRatio&&(e.height="0",e.paddingBottom=this.aspectRatio+"%"),e},videoID(){return this.$fluro.utils.getStringID(this.item)},posterUrl(){var e={extension:"jpg"};return this.cacheKey&&String(this.cacheKey.length)&&(e.cacheKey=this.cacheKey),this.$fluro.asset.posterUrl(this.item,null,null,e)},assetUrl(){var e={};return this.cacheKey&&String(this.cacheKey.length)&&(e.cacheKey=this.cacheKey),this.$fluro.asset.getUrl(this.item,e)},backgroundImage(){return this.posterUrl?`url(${this.posterUrl})`:void 0}}},O=(i(229),Object(a.a)(P,b,[],!1,null,null,null));O.options.__file="src/components/FluroVideo.vue";var F=O.exports,T=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"fluro-video-thumbnail",style:this.style})};T._withStripped=!0;var E={props:{item:[String,Object],width:{type:Number},height:{type:Number}},computed:{computedWidth(){return _.get(this.item,"width")||this.width||1920},computedHeight(){return _.get(this.item,"height")||this.height||1080},aspectRatio(){return this.computedHeight/this.computedWidth*100},style(){var e={backgroundColor:"#eee",backgroundImage:this.backgroundImage};return this.aspectRatio&&(e.height="0",e.paddingBottom=this.aspectRatio+"%"),e},posterUrl(){return this.$fluro.asset.posterUrl(this.item)},backgroundImage(){return this.posterUrl?`url(${this.posterUrl})`:void 0}}},j=(i(231),Object(a.a)(E,T,[],!1,null,null,null));j.options.__file="src/components/FluroVideoThumbnail.vue";var N=j.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-outer",class:[{center:!e.fixed},{top:e.top},{fixed:e.fixed},{full:e.full},e.size]},[i("div",{staticClass:"blanket",on:{click:e.dismiss}}),e._v(" "),i("div",{staticClass:"modal-inner"},[i(e.modal.component,{tag:"component",attrs:{options:e.modal.options},on:{close:e.close,dismiss:e.dismiss}})],1)])};A._withStripped=!0;var I={components:{},props:{modal:{type:Object,required:!0}},created(){this.modal.options||(this.modal.options={})},data:()=>({}),computed:{size(){return"modal-size-"+(this.modal.options.size||"md")},top(){return this.modal.options.fixed||this.modal.options.top},full(){return this.modal.options.full},fixed(){return this.modal.options.fixed}},methods:{dismiss(e){this.$fluro.closeModal(this.modal.modalID),this.modal.reject(e)},close(e){this.$fluro.closeModal(this.modal.modalID),this.modal.resolve(e)}}},L=(i(233),Object(a.a)(I,A,[],!1,null,null,null));L.options.__file="src/components/ui/modal/Modal.vue";var R=L.exports,V=i(20),B=i(174),q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasData?i("v-card",{staticClass:"chart-widget"},[i("div",{staticClass:"chart-header"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"chart-title"},[e._v(e._s(e.title))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-toolbar-items",{staticClass:"hidden-xs-only"},[i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({},r),[i("fluro-icon",{attrs:{left:"",icon:"chart-"+e.chartType.value,library:"far"}}),e._v("\n                            "+e._s(e.chartType.title)+"\n                        ")],1)]}}],null,!1,1749139046)},[e._v(" "),i("v-list",{attrs:{dense:""}},e._l(e.chartTypeOptions,(function(t){return i("v-list-tile",{key:t.value,on:{click:function(i){return e.selectChartType(t)}}},[i("v-list-tile-content",[e._v("\n                                "+e._s(t.title)+"\n                            ")]),e._v(" "),i("fluro-icon",{attrs:{icon:"chart-"+t.value,library:"far",right:""}})],1)})),1)],1),e._v(" "),i("v-menu",{attrs:{fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({},r),[i("fluro-icon",{attrs:{library:"far",icon:"clock"}}),e._v(" "+e._s(e.dateGroupFormat.title)+"\n                            ")],1)]}}],null,!1,1802485439)},[e._v(" "),i("v-list",{attrs:{dense:""}},e._l(e.dateGroupFormatOptions,(function(t){return i("v-list-tile",{key:t.value,on:{click:function(i){return e.selectDateFormat(t)}}},[i("v-list-tile-content",[e._v(e._s(t.title))])],1)})),1)],1),e._v(" "),i("v-menu",{ref:"dateSelection",attrs:{fixed:!0,right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({},r),[i("fluro-icon",{attrs:{library:"far",icon:"calendar",left:""}}),e._v(" "+e._s(e.readableStartDate)+" - "+e._s(e.readableEndDate)+"\n                            ")],1)]}}],null,!1,1427879873)},[e._v(" "),i("v-card",[i("v-layout",[i("v-flex",[i("v-card-text",[i("label",[e._v(" ")]),e._v(" "),i("v-list",{attrs:{dense:""}},e._l(e.datePeriodOptions,(function(t){return i("v-list-tile",{key:t.value,on:{click:function(i){e.datePeriod=t}}},[e._v("\n                                            "+e._s(t.title)+"\n                                        ")])})),1)],1)],1),e._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[e._v("From Date")])]),e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.startDateString,callback:function(t){e.startDateString=t},expression:"startDateString"}})],1),e._v(" "),i("v-flex",[i("v-card-text",{staticClass:"text-sm-center"},[i("label",[e._v("To Date")])]),e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.endDateString,callback:function(t){e.endDateString=t},expression:"endDateString"}})],1)],1)],1)],1),e._v(" "),i("v-menu",{attrs:{fixed:!0,right:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({staticClass:"ma-0",attrs:{icon:""}},r),[i("v-icon",[e._v("more_vert")])],1)]}}],null,!1,471955300)},[e._v(" "),i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:e.hideAll}},[i("v-list-tile-content",[e._v("\n                                Hide all Series\n                            ")]),e._v(" "),i("fluro-icon",{attrs:{icon:"eye-slash",library:"far",right:""}})],1),e._v(" "),i("v-list-tile",{on:{click:e.showAll}},[i("v-list-tile-content",[e._v("\n                                Show all Series\n                            ")]),e._v(" "),i("fluro-icon",{attrs:{icon:"eye",right:""}})],1),e._v(" "),i("v-list-tile",{on:{click:e.downloadPNG}},[i("v-list-tile-content",[e._v("Download PNG")]),e._v(" "),i("fluro-icon",{attrs:{icon:"image",library:"fas",right:""}})],1)],1)],1)],1)],1)],1),e._v(" "),i("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[e._l(e.enabledSeries.slice(0,4),(function(t){return t.end?[i("v-flex",{attrs:{shrink:""}},[i("statbox",{attrs:{color:t.color,label:t.title,start:t.start,mean:t.mean,end:t.end}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-divider",{attrs:{vertical:""}})],1)]:e._e()}))],2),e._v(" "),i("div",{staticClass:"chart-wrapper-outer",class:{empty:!e.enabledSeries.length}},[i("div",{staticClass:"chart-wrapper-empty"},[e._v("\n            No data\n        ")]),e._v(" "),i("div",{staticClass:"chart-wrapper-inner"},[i("apexchart",{ref:"chart",attrs:{height:350,type:e.chartType.value,options:e.chartOptions,series:e.enabledSeries},on:{dataPointSelection:e.markerClick}})],1)]),e._v(" "),e.series.length?[i("v-data-table",{staticClass:"elevation-0",attrs:{"hide-actions":e.series.length<=10,headers:e.headers,"rows-per-page-items":e.perPageOptions,items:e.series},scopedSlots:e._u([{key:"items",fn:function(t){return[i("tr",{class:{inactive:!e.seriesIsActive(t.item)}},[i("td",{on:{mouseover:function(i){return e.showHighlight(t.item)},mouseleave:function(t){return e.hideHighlight()},click:function(i){return e.toggleSeries(t.item,i.metaKey)}}},[i("v-btn",{attrs:{icon:""}},[e.seriesIsActive(t.item)?i("fluro-icon",{attrs:{icon:"eye"}}):e._e(),e._v(" "),e.seriesIsActive(t.item)?e._e():i("fluro-icon",{attrs:{icon:"eye-slash",library:"far"}})],1)],1),e._v(" "),i("td",[i("fluro-icon",{attrs:{color:t.item.color,icon:"circle",library:"fas"}})],1),e._v(" "),i("td",[e._v("\n                        "+e._s(t.item.title)+"\n                        ")]),e._v(" "),i("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.mean))]),e._v(" "),i("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.start))]),e._v(" "),i("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.end))]),e._v(" "),i("td",[i("change-indicator",{attrs:{value:t.item.changedPeriod,suffix:"%"}})],1),e._v(" "),i("td",[i("change-indicator",{attrs:{value:t.item.changedAverage,suffix:"%"}})],1)])]}}],null,!1,1963932089)})]:e._e()],2):e._e()};q._withStripped=!0;var z=i(1),U=i.n(z),Y={computed:{theme:()=>({colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#7adc12","#f34be2","#b76b1a","#ff7800"]})},methods:{getColor(e){return this.theme.colors[e%this.theme.colors.length]}}},K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("strong",{class:e.className},[i("fluro-icon",{attrs:{icon:e.icon,library:"fas"}}),e._v(" "+e._s(e.prefix)+e._s(e.value)+e._s(e.suffix))],1)};K._withStripped=!0;var W={props:{value:{default:0,type:Number},prefix:{default:"",type:String},suffix:{default:"",type:String}},computed:{icon(){return this.increased?"caret-square-up":this.decreased?"caret-square-down":"square"},className(){return this.increased?"success--text":this.decreased?"error--text":"muted"},increased(){return this.value>0},decreased(){return this.value<0}}},G=(i(239),Object(a.a)(W,K,[],!1,null,"2add775e",null));G.options.__file="src/components/reporting/ChangeIndicator.vue";var H=G.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"statbox"},[i("div",{staticClass:"value"},[e._v(e._s(e.end)),e.average?i("sup",[e._v("("+e._s(e.average)+" avg)")]):e._e()]),e._v(" "),i("label",[i("fluro-icon",{style:e.style,attrs:{icon:"circle",library:"fas"}}),e._v(" "+e._s(e.label))],1),e._v(" "),i("div",{staticClass:"subtitle"},[i("strong",{class:e.className},[i("fluro-icon",{attrs:{icon:e.icon}}),e._v("  "+e._s(e.swing))],1),e._v("\n         \n        "),i("span",{staticClass:"muted"},[e._v("("+e._s(e.start)+" to "+e._s(e.end)+")")])]),e._v(" "),i("div",{staticClass:"subtitle"},[i("strong",{class:e.classNameAvg},[i("fluro-icon",{attrs:{icon:e.iconAvg}}),e._v("  "+e._s(e.swingAverage))],1),e._v("\n         \n        "),i("span",{staticClass:"muted"},[e._v("("+e._s(e.average)+" to "+e._s(e.end)+")")])])])};J._withStripped=!0;var X={props:{label:{type:String},color:{type:String},start:{default:0,type:Number},end:{default:0,type:Number},mean:{type:Number}},data:()=>({}),computed:{average(){if(this.mean)return""+Math.round(this.mean)},style(){return{color:this.color}},icon(){return this.increased?"caret-square-up":this.decreased?"caret-square-down":"square"},iconAvg(){return this.increasedAvg?"caret-square-up":this.decreasedAvg?"caret-square-down":"square"},className(){return this.increased?"success--text":this.decreased?"error--text":""},classNameAvg(){return this.increasedAvg?"success--text":this.decreasedAvg?"error--text":""},value(){return(this.end-this.start)/this.start*100},valueAverage(){return(this.end-this.mean)/this.mean*100},swing(){return parseFloat(this.value).toFixed(2)+"%"},swingAverage(){return parseFloat(this.valueAverage).toFixed(2)+"%"},increased(){return this.end>this.start},decreased(){return this.end<this.start},increasedAvg(){return this.end>this.mean},decreasedAvg(){return this.end<this.mean},subtitle:()=>"Growth"}},Q=(i(241),Object(a.a)(X,J,[],!1,null,"471de0f6",null));Q.options.__file="src/components/reporting/StatBox.vue";var Z=Q.exports,ee=i(4),te=[{title:"Day",value:"dddd D MMM YYYY"},{title:"Week",value:"[Week] w YYYY"},{title:"4 Week Period",value:"4week",handler(e){var t=Object(ee.moment)(e).format("W"),i=Object(ee.moment)(e).format("YYYY");return`Period ${Math.ceil(t/4)} ${i}`}},{title:"6 Week Period",value:"6week",handler(e){var t=Object(ee.moment)(e).format("W"),i=Object(ee.moment)(e).format("YYYY");return`Period ${Math.ceil(t/6)} ${i}`}},{title:"Month",value:"MMM YYYY"},{title:"Quarter",value:"[Quarter] Q YYYY"},{title:"Year",value:"YYYY"}],ie=[{title:"Line",value:"line"},{title:"Bar",value:"bar"},{title:"Area",value:"area"}],re=[];re[0]="Sunday",re[1]="Monday",re[2]="Tuesday",re[3]="Wednesday",re[4]="Thursday",re[5]="Friday",re[6]="Saturday";var ne=new Date,ae=[];ae.push({title:"Last 2 Years",start:new Date((new Date).setFullYear((new Date).getFullYear()-2)),end:ne}),ae.push({title:"Last 12 Months",start:new Date((new Date).setFullYear((new Date).getFullYear()-1)),end:ne}),ae.push({title:"Last 6 Months",start:new Date((new Date).setMonth((new Date).getMonth()-6)),end:ne}),ae.push({title:"Last 3 Months",start:new Date((new Date).setMonth((new Date).getMonth()-3)),end:ne}),ae.push({title:"Last 12 Weeks",start:new Date((new Date).setTime((new Date).getTime()-72576e5)),end:ne}),ae.push({title:"Last 4 Weeks",start:new Date((new Date).setTime((new Date).getTime()-24192e5)),end:ne}),ae.push({title:"Last 2 Weeks",start:new Date((new Date).setTime((new Date).getTime()-12096e5)),end:ne});var oe={components:{ChangeIndicator:H,Statbox:Z},props:{singleScale:{type:Boolean},id:{type:String,default:String(Math.random())},title:{type:String},group:{type:String},weekStartDay:{type:Number,default:4},type:{type:String,default:"line"},dateFormat:{type:String,default:"[Week] w YYYY"},localeID:{type:String,default:"fluro-chart"},data:{default:()=>({series:[],values:[]}),type:Object}},data(){var e=U.a.find(ie,{value:this.type}),t=U.a.find(te,{value:this.dateFormat});return{chartLocale:this.localeID,datePeriodOptions:ae,datePeriod:ae[1],dateGroupFormatOptions:te,dateGroupFormat:t,series:[],chartType:e}},mixins:[Y],computed:{grouping:()=>"grouped together",values(){return this.data.values},pieChartSeries(){return U.a.chain(this.enabledSeries).map((function(e){return U.a.get(e,`data[${e.data.length-1}][1]`)})).value()},pieChartOptions(){return{labels:U.a.map(this.enabledSeries,"title")}},perPageOptions:()=>[10,20,50,{text:"All",value:-1}],hasData(){return this.data&&this.data.values&&this.data.values.length},enabledSeries(){return U.a.filter(this.series,(function(e){if(!e.hidden&&(e.min||e.max))return!0}))},headers(){return[{text:"",align:"left",sortable:!1,value:"enabled"},{text:"",align:"left",sortable:!1,value:"color"},{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Mean / Average",value:"mean",align:"center"},{text:"At "+this.readableStartDate,value:"start",align:"center"},{text:"At "+this.readableEndDate,value:"end",align:"center"},{text:"Swing over time",value:"changedPeriod"},{text:"Swing from Average",value:"changedAverage"}]},readableStartDate(){return this.dateGroupFormat.handler?this.dateGroupFormat.handler(this.datePeriod.start):this.$fluro.date.formatDate(this.datePeriod.start,this.dateGroupFormat.value)},readableEndDate(){return this.dateGroupFormat.handler?this.dateGroupFormat.handler(this.datePeriod.end):this.$fluro.date.formatDate(this.datePeriod.end,this.dateGroupFormat.value)},startDateString:{get(){return this.datePeriod.start.toISOString().substr(0,10)},set(e){return this.datePeriod.start=new Date(e)}},endDateString:{get(){return this.datePeriod.end.toISOString().substr(0,10)},set(e){return this.datePeriod.end=new Date(e)}},datePeriodTitle:()=>self.datePeriod?self.datePeriod.title:"Custom",chartTypeOptions:()=>ie,markers:()=>({size:3,strokeColor:"#fff",strokeWidth:1,hover:{size:10}}),legend:()=>({show:!1,showForNullSeries:!1,showForZeroSeries:!1}),dataLabels:()=>({enabled:!1}),colors(){var e=this;return U.a.map(e.enabledSeries,(function(t,i){return U.a.get(t,"color")||e.theme.colors[i%e.theme.colors.length]}))},stroke(){var e=this,t={colors:[],curve:[],dashArray:[],width:[],lineCap:[]};return U.a.each(e.enabledSeries,(function(i,r){t.colors[r]=U.a.get(i,"options.stroke.color")||U.a.get(i,"color")||e.theme.colors[r%e.theme.colors.length],t.curve[r]=U.a.get(i,"options.stroke.curve")||"straight",t.dashArray[r]=U.a.get(i,"options.stroke.dashArray"),t.width[r]=U.a.get(i,"options.stroke.width")||5,t.lineCap[r]=U.a.get(i,"options.stroke.lineCap")||"round"})),t},fill(){var e=this,t={colors:[]};return U.a.each(e.enabledSeries,(function(i,r){t.colors[r]=U.a.get(i,"options.fill.color")||U.a.get(i,"color")||e.theme.colors[r%e.theme.colors.length]})),t},chartOptions(){var e=this,t={chart:{id:e.id,responsive:[{breakpoint:void 0,options:{}}],height:350,zoom:{type:"x",enabled:!1},toolbar:{show:!1,enabled:!1,autoSelected:"zoom"},group:e.group},plotOptions:{line:{curve:"smooth"}},colors:this.colors,dataLabels:this.dataLabels,legend:this.legend,stroke:this.stroke,markers:this.markers,fill:this.fill,grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:this.xaxis,yaxis:this.yaxis,tooltip:{shared:!1,custom:function(t){return(e.enabledSeries[t.seriesIndex].data[t.dataPointIndex]||[])[2]},y:{formatter:function(t){return e.dateGroupFormat.handler?e.dateGroupFormat.handler(t):e.$fluro.date.formatDate(t,e.dateGroupFormat.value)}},x:{formatter:function(t){return e.dateGroupFormat.handler?e.dateGroupFormat.handler(t):e.$fluro.date.formatDate(t,e.dateGroupFormat.value)}}}};return t},xaxis:()=>({labels:{datetimeFormatter:{year:"yyyy",month:"MMM yyyy",day:"ddd d MMM",hour:"HH:mm"}},type:"datetime"}),yaxis(){if(this.enabledSeries&&this.enabledSeries.length){if(this.singleScale){var e=U.a.last(U.a.orderBy(this.enabledSeries,"max")),t=U.a.first(U.a.orderBy(this.enabledSeries,"min"));return[{seriesName:e.name,max:Math.round(1.05*e.max)||0,min:t.min,show:!0}]}return U.a.map(this.enabledSeries,(function(e,t){return{seriesName:e.name,max:Math.round(1.05*e.max)||0,min:e.min,show:!0}}))}}},methods:{markerClick(e,t,i){var r=this.enabledSeries[i.seriesIndex],n=r.data[i.dataPointIndex];console.log("CLICKED",n[3],r,n,this),this.$emit("clicked",n[3],r,n,this)},click(e,t,i){console.log("CLICK",e,t,i)},dataPointSelection(e,t,i){console.log("DATAPOINT",t)},getFirstDayOfWeek(e){return Object(ee.moment)(e).locale(this.chartLocale).weekday(0).toDate()},setFirstDayOfWeek(e){ee.moment.locale(this.chartLocale,{week:{dow:e}})},selectDateFormat(e){this.dateGroupFormat=e,this.recalculateAndMapSeries()},selectChartType(e){this.chartType=e},downloadURI(e,t){var i=document.createElement("a");i.download=t,i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)},downloadPNG(){var e=this;this.$refs.chart.dataURI().then(t=>{console.log("PNG"),e.downloadURI(t,"Chart.png")})},downloadSVG(){var e=this.$refs.chart;console.log("SVG",e);var t=e.paper();this.downloadURI(t.svg(),"Chart.svg")},selectorName:e=>"series"+U.a.camelCase(e).toLowerCase(),showHighlight(e){var t=this.$el.querySelectorAll(".apexcharts-series");U.a.each(t,(function(e){e.style.opacity=.1}));var i="."+e.name,r=this.$el.querySelector(i);r&&(r.style.opacity=1)},hideHighlight(){var e=this.$el.querySelectorAll(".apexcharts-series");U.a.each(e,(function(e){e.style.opacity=1}))},hideAll(){U.a.each(this.series,(function(e,t){e.hidden=!0}))},showAll(){U.a.each(this.series,(function(e,t){e.hidden=!1}))},soloSeries(e){this.hideAll(),e.hidden=!1},toggleSeries(e,t){if(t)return this.soloSeries(e);e.hidden=!e.hidden},recalculateAndMapSeries(){},mapSeries(e,t,i,r){r||(r={});var n=this,a=U.a.chain(n.values).filter(n.filterDateRange).reduce((function(e,t){var i=new Date(t.date);switch(i.setHours(0,0,0,0),n.dateGroupFormat.value){case"[Week] w YYYY":i=n.getFirstDayOfWeek(i,n.weekStartDay)}n.dateGroupFormat.value;var r,a=e[r=n.dateGroupFormat.handler?n.dateGroupFormat.handler(i):Object(ee.moment)(i).format(n.dateGroupFormat.value)];return a||(a=e[r]={date:i,entries:[]}),a.entries.push(t),e}),{}).values().compact().map((function(a){var o='<div class="chart-tooltip">';o+=`<strong>${n.dateGroupFormat.handler?n.dateGroupFormat.handler(a.date):n.$fluro.date.formatDate(a.date,n.dateGroupFormat.value)}</strong>`,o+=`<div>${n.$fluro.date.timeago(a.date)}</div>`,o+=`<strong style="color:${i};">${e}</strong><br/>`;var s=0,l='<table class="table">',c=U.a.chain(a.entries).orderBy((function(e){return new Date(e.date)})).reduce((function(e,i){var r=U.a.get(i.values,t);return null==r?e:(null==e&&(e=0),l+=`<tr><td>${i.title||""}</td><td>${n.$fluro.date.formatDate(i.date,"h:mma D MMM YYYY")}</td><td><strong>${r}</strong></td></tr>`,s++,e+r)}),void 0).value();if(l+=`<tr><td colspan="2"><strong>Total</strong></td><td><strong>${c}</strong></td></tr>`,l+="</table>",o+=`<strong>${c} ${r.metricName||"total"}</strong><br/>`,o+=s+" events<br/>",o+=l,o+="</div>",null==c){if(!r.includeNull)return;c=null}return[a.date,c,o,a]})).compact().orderBy((function(e){return e[0]})).value(),o=(U.a.first(a)||[])[1],s=(U.a.last(a)||[])[1],l=(U.a.last(a)||[])[0],c=(U.a.first(a)||[])[0],u=Math.round(U.a.chain(a).compact().meanBy((function(e){return e[1]})).value()),d=U.a.max(U.a.map(a,(function(e){return e[1]}))),p=U.a.min(U.a.map(a,(function(e){return e[1]})));a.length||(o=0,s=0,u=0,d=0,p=0);var f=Math.round((s-o)/o*100),m=Math.round((s-u)/u*100),h=n.selectorName(e);return{title:e,id:h,key:t,name:h,color:i,options:r,data:a,type:r.type,start:o,end:s,mean:u,max:d,min:p,hidden:!1,solo:!1,changedPeriod:f,changedAverage:m,date:l,firstDate:c}},filterDateRange(e){var t=new Date(e.date).getTime(),i=new Date(this.datePeriod.start).getTime(),r=new Date(this.datePeriod.end).getTime();return t>=i&&t<=r},seriesIsActive:e=>!e.hidden},watch:{chartType(){return this.recalculateAndMapSeries()},data(){return this.recalculateAndMapSeries()},datePeriod:{handler:function(e){return this.recalculateAndMapSeries()},deep:!0}},created(){var e=this;e.setFirstDayOfWeek(4),e.recalculateAndMapSeries=U.a.debounce((function(){var t=U.a.chain(e.data.series).map((function(t,i){var r=t.color||e.getColor(i),n=Object.assign({},{type:e.chartType.value},t.options);return e.mapSeries(t.title,t.key,r,n)})).compact().orderBy((function(e){return e.mean})).reverse().value();e.series=t}),200)},mounted(){this.recalculateAndMapSeries()}},se=(i(243),Object(a.a)(oe,q,[],!1,null,"ae64df28",null));se.options.__file="src/components/reporting/FluroTrendChart.vue";var le=se.exports,ce=i(25),ue=i(29),de=i(49),pe=i(162),fe=i(39),me=i(23),he=i(31),ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"first-name-cell"},[i("span",[i("strong",[e._v(e._s(e.row.preferredName||e.row.firstName))]),e._v(" "),e.row.preferredName&&e.row.preferredName!=e.row.firstName?i("span",{staticClass:"muted"},[e._v(" ("+e._s(e.row.firstName)+")")]):e._e(),e._v(" "),e.row.ethnicName?i("span",{staticClass:"muted"},[e._v(" "+e._s(e.row.ethnicName))]):e._e()])])};ve._withStripped=!0;var ge={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:()=>!1}}},be=Object(a.a)(ge,ve,[],!1,null,null,null);be.options.__file="src/components/table/cells/FirstNameCell.vue";var ye=be.exports,_e=i(161),xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"last-name-cell"},[i("span",[i("strong",[e._v(e._s(e.row.lastName))]),e._v(" "),e.row.maidenName?i("span",{staticClass:"muted"},[e._v(" ("+e._s(e.row.maidenName)+")")]):e._e()])])};xe._withStripped=!0;var ke={props:{row:{type:Object},column:{type:Object},data:{},status:{type:Boolean,default:()=>!1}}},we=Object(a.a)(ke,xe,[],!1,null,null,null);we.options.__file="src/components/table/cells/LastNameCell.vue";var Ce=we.exports,Se=i(24),$e=i(16),De=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v(this._s(this._f("formatDate")(this.data,"h:mma")))])};De._withStripped=!0;var Me={props:{row:{type:Object},column:{type:Object},data:{}}},Pe=Object(a.a)(Me,De,[],!1,null,null,null);Pe.options.__file="src/components/table/cells/TimeCell.vue";var Oe=Pe.exports,Fe=i(40),Te=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+this.$fluro.asset.coverUrl(this.data,"event",{w:50})+")"}})};Te._withStripped=!0;var Ee={props:{row:{type:Object},column:{type:Object},data:{}}},je=Object(a.a)(Ee,Te,[],!1,null,null,null);je.options.__file="src/components/table/cells/EventThumbnailCell.vue";var Ne=je.exports,Ae=i(160),Ie=i(21),Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"text-xs-center"},["failed"==e.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-failed",attrs:{content:"Failed"}},[i("fluro-icon",{attrs:{icon:"times"}})],1):"success"==e.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-success",attrs:{content:"Success"}},[i("fluro-icon",{attrs:{icon:"check"}})],1):"pending"==e.data?i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"payment-pending",attrs:{content:"Pending"}},[i("fluro-icon",{attrs:{icon:"clock"}})],1):"refund"==e.data?i("div",{staticClass:"payment-archived"},[e._v("\n        Refund\n    ")]):"partial_refund"==e.data?i("div",{staticClass:"payment-archived"},[e._v("\n        Partial Refund\n    ")]):i("div",{staticClass:"payment-manual"},[e._v("\n        "+e._s(e.data)+"\n    ")])])};Le._withStripped=!0;var Re={props:{row:{type:Object},column:{type:Object},data:{}}},Ve=(i(269),Object(a.a)(Re,Le,[],!1,null,"07ed431b",null));Ve.options.__file="src/components/table/cells/PaymentStatusCell.vue";var Be=Ve.exports,qe=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"text-xs-center",class:{muted:this.empty}},[this._v("\n    "+this._s(this.rendered)+"\n    ")])};qe._withStripped=!0;var ze={props:{row:{type:Object},column:{type:Object},data:{}},computed:{empty(){if(0==parseInt(this.data))return!0},rendered(){return this.$fluro.utils.formatCurrency(this.data,this.currency)},currency(){return String(this.row.currency).toLowerCase()}}},Ue=(i(271),Object(a.a)(ze,qe,[],!1,null,"645d33bc",null));Ue.options.__file="src/components/table/cells/CurrencyCell.vue";var Ye=Ue.exports,Ke=i(30),We=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"inline-tags"},[t("a",{staticClass:"inline-tag",attrs:{href:"tel:"+this.data}},[t("fluro-icon",{attrs:{icon:"phone"}}),this._v(" "+this._s(this.data)+"\n    ")],1)])};We._withStripped=!0;var Ge={props:{row:{type:Object},column:{type:Object},data:{}}},He=Object(a.a)(Ge,We,[],!1,null,null,null);He.options.__file="src/components/table/cells/PhoneNumberCell.vue";var Je=He.exports,Xe=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"inline-tags"},[t("a",{staticClass:"inline-tag",attrs:{href:"mailto:"+this.data}},[t("fluro-icon",{attrs:{icon:"envelope"}}),this._v(" "+this._s(this.data)+"\n    ")],1)])};Xe._withStripped=!0;var Qe={props:{row:{type:Object},column:{type:Object},data:{}}},Ze=Object(a.a)(Qe,Xe,[],!1,null,null,null);Ze.options.__file="src/components/table/cells/EmailAddressCell.vue";var et=Ze.exports,tt=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    "+this._s(this.computed)+"\n")])};tt._withStripped=!0;var it={props:{row:{type:Object},column:{type:Object},data:{}},computed:{computed(){return this.data?this.$fluro.asset.filesize(this.data):""}}},rt=(i(273),Object(a.a)(it,tt,[],!1,null,"9637fce4",null));rt.options.__file="src/components/table/cells/FilesizeCell.vue";var nt=rt.exports,at=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    "+this._s(this.duration)+"\n    ")])};at._withStripped=!0;var ot={props:{row:{type:Object},column:{type:Object},data:{}},computed:{duration(){if(this.data&&String(this.data).length)return this.$fluro.video.hhmmss(this.data)}}},st=(i(275),Object(a.a)(ot,at,[],!1,null,"782190a5",null));st.options.__file="src/components/table/cells/DurationCell.vue";var lt=st.exports,ct=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    "+this._s(this.dimensions)+"\n")])};ct._withStripped=!0;var ut={props:{row:{type:Object},column:{type:Object},data:{}},computed:{dimensions(){return`${this.row.width}x${this.row.height}`}}},dt=(i(277),Object(a.a)(ut,ct,[],!1,null,"121c181e",null));dt.options.__file="src/components/table/cells/DimensionsCell.vue";var pt=dt.exports,ft=i(50),mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"print"!=e.context?i("div",[e.multiple?[e._l(e.data,(function(e){return[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.firstName||e.title,md:"",id:e,type:"persona"}})]}))]:[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.entry.firstName||e.entry.title,md:"",id:e.data,type:"persona"}})]],2):e._e()};mt._withStripped=!0;var ht={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}},computed:{multiple(){return _.isArray(this.data)}}},vt=Object(a.a)(ht,mt,[],!1,null,null,null);vt.options.__file="src/components/table/cells/PersonaAvatarCell.vue";var gt=vt.exports,bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"print"!=e.context?i("div",[e.multiple?[e._l(e.data,(function(e){return[i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.firstName||e.title,md:"",id:e,type:"contact"}})]}))]:[e.data?i("fluro-avatar",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{md:"",content:e.data.firstName||e.data.title,id:e.data,type:"contact"}}):e._e()]],2):e._e()};bt._withStripped=!0;var yt={props:{context:{type:String},row:{type:Object},column:{type:Object},data:{}},computed:{multiple(){return _.isArray(this.data)}}},_t=Object(a.a)(yt,bt,[],!1,null,null,null);_t.options.__file="src/components/table/cells/ContactAvatarCell.vue";var xt=_t.exports,kt=i(183),wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-post-thread"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-header",[i("v-container",{staticClass:"border-bottom text-xs-center",staticStyle:{background:"#fff"},attrs:{fluid:""}},e._l(e.postTypes,(function(t){return i("v-btn",{attrs:{small:""},on:{click:function(i){return e.create(t)}}},[e._v("\n                    Add "+e._s(t.title)+"\n                    "),i("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)})),1)],1),e._v(" "),i("flex-column-body",{staticStyle:{background:"#eee"}},[i("v-container",e._l(e.items,(function(e){return i("div",{staticClass:"card"},[i("post-card",{attrs:{item:e}})],1)})),0)],1)]],2)};wt._withStripped=!0;var Ct={props:{contact:{type:Object}},components:{PostCard:()=>i.e(3).then(i.bind(null,782)),AddPost:()=>Promise.resolve().then(i.bind(null,35))},data:()=>({loading:!1}),methods:{create(e){var t=this,r={definition:e,item:t.contact};t.$fluro.modal({component:()=>Promise.resolve().then(i.bind(null,35)),options:r}).then((function(){t.$fluro.resetCache()}))}},asyncComputed:{postTypes:{default:[],get(){var e=this;return new Promise((function(t,i){e.$fluro.types.subTypes("post").then((function(i){var r=_.filter(i,(function(t){if(_.chain(t).get("data.postParentTypes").includes("contact").value()){var i=e.$fluro.access.can("submit",t.definitionName,"post"),r=e.$fluro.access.can("create",t.definitionName,"post");return i||r}}));t(r)})).catch(i)}))}},items:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/info/posts?contact="+t).then((function(t){i(t.data),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},St=(i(281),Object(a.a)(Ct,wt,[],!1,null,null,null));St.options.__file="src/components/content/contact/timeline/ContactPostThread.vue";var $t=St.exports,Dt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-detail-list"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("v-container",{attrs:{fluid:""}},e._l(e.orderedSheets,(function(t){return i("fluro-panel",{staticClass:"sheet-panel",class:t.status,attrs:{fluid:""}},[i("fluro-panel-title",[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{shrink:""}},[i("fluro-realm-dots",{attrs:{realms:t.realms}})],1),e._v(" "),i("v-flex",[i("strong",[e._v(e._s(t.fullDefinition.title)+" "),"archived"==t.status?i("span",[e._v("(Archived)")]):e._e()])]),e._v(" "),e.$fluro.access.canEditItem(t)?i("v-flex",{attrs:{shrink:""}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Edit"},on:{click:function(i){return e.edit(t)}}},[i("fluro-icon",{attrs:{icon:"pencil"}})],1)],1):e._e(),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",icon:"",content:"Actions"},on:{click:function(i){return e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1),e._v(" "),"archived"!=t.status?i("fluro-panel-body",[i("fluro-content-render",{attrs:{fields:t.fullDefinition.fields},model:{value:t.data,callback:function(i){e.$set(t,"data",i)},expression:"sheet.data"}})],1):e._e()],1)})),1)],1)]],2)};Dt._withStripped=!0;var Mt={props:{contact:{type:Object}},components:{FluroContentRender:()=>Promise.resolve().then(i.bind(null,167))},data:()=>({loading:!1}),methods:{edit(e){var t=this;t.$fluro.global.edit(e,!0).then((function(i){console.log("RESPONSE!",i,e),t.$set(e,"data",i.data)}))},create(e){var t=this,i={definition:e,item:t.contact};t.$fluro.modal({component:AddPost,options:i}).then((function(){t.$fluro.resetCache()}))}},computed:{orderedSheets(){return _.chain(this.items).orderBy((function(e){switch(e.status){case"archived":return 1e3;case"active":return-1e3}return 0})).value()}},asyncComputed:{items:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/contact/details/"+t).then((function(t){i(t.data),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},Pt=(i(283),Object(a.a)(Mt,Dt,[],!1,null,null,null));Pt.options.__file="src/components/content/contact/timeline/ContactDetailList.vue";var Ot=Pt.exports,Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-message-list"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},e._l(e.timeline,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(e._f("formatDate")(t.date,"YYYY")))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(e._f("formatDate")(t.date,"MMM")))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(e._f("formatDate")(t.date,"ddd D")))]),e._v(" "),i("div",{staticClass:"entries"},e._l(t.items,(function(t){return i("div",{key:t._id},["mailout"==t._type?i("mailout-card",{attrs:{item:t}}):e._e(),e._v(" "),"sms"==t._type?i("text-message-card",{attrs:{item:t}}):e._e()],1)})),0)])}))],2)}))],2)})),0)])]],2)};Ft._withStripped=!0;var Tt={props:{contact:{type:Object}},components:{MailoutCard:()=>i.e(2).then(i.bind(null,781)),TextMessageCard:()=>i.e(4).then(i.bind(null,787))},data:()=>({loading:!1}),computed:{timeline(){var e=[];return e=_.chain(e.concat(this.sms,this.emails)).orderBy((function(e){return new Date(e.date)})).reverse().value(),this.$fluro.date.timeline(e,"date")}},asyncComputed:{sms:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get(`/contact/${t}/sms`).then((function(t){var r=_.map(t.data,(function(e){return e._type="sms",e}));i(r),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}},emails:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/info/correspondence?contact="+t).then((function(t){var r=_.map(t.data,(function(e){return e._type="mailout",e}));i(r),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},Et=(i(285),Object(a.a)(Tt,Ft,[],!1,null,null,null));Et.options.__file="src/components/content/contact/timeline/ContactMessageList.vue";var jt=Et.exports,Nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-transaction-list"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},e._l(e.timeline,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(e._f("formatDate")(t.date,"YYYY")))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(e._f("formatDate")(t.date,"MMM")))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(e._f("formatDate")(t.date,"ddd D")))]),e._v(" "),i("div",{staticClass:"entries"},e._l(t.items,(function(t){return i("div",{key:t._id,staticClass:"entry",on:{click:function(i){return e.$fluro.global.view(t,!0)}}},[i("fluro-realm-bar",{attrs:{realm:t.realms}}),e._v(" "),i("v-layout",[i("v-flex",[i("strong",[e._v(e._s(t.title))]),e._v(" "),i("div",[e._v(e._s(t.formattedAmount))]),e._v(" "),i("div",{staticClass:"text-muted sm"},[e._v("\n                                                "+e._s(t.module)+" - "+e._s(t.paymentStatus)+" - "+e._s(e._f("formatDate")(t.created,"dddd D MMM YYYY"))+" ("+e._s(e._f("timeago")(t.created))+")\n                                            ")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};Nt._withStripped=!0;var At={props:{contact:{type:Object}},components:{},data:()=>({loading:!1}),computed:{timeline(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/info/transactions?contact="+t).then((function(t){var r=_.map(t.data,(function(t){return t.formattedAmount=e.$fluro.utils.formatCurrency(t.amount,t.currency),t}));i(r),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},It=Object(a.a)(At,Nt,[],!1,null,null,null);It.options.__file="src/components/content/contact/timeline/ContactTransactionList.vue";var Lt=It.exports,Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-transaction-list"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},e._l(e.timeline,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(e._f("formatDate")(t.date,"YYYY")))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(e._f("formatDate")(t.date,"MMM")))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(e._f("formatDate")(t.date,"ddd D")))]),e._v(" "),i("div",{staticClass:"entries"},e._l(t.items,(function(t){return i("div",{key:t._id,staticClass:"entry",on:{click:function(i){return e.$fluro.global.view(t,!0)}}},[i("fluro-realm-bar",{attrs:{realm:t.realms}}),e._v(" "),i("v-layout",[i("v-flex",[i("strong",[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"text-muted sm"},[e._v("\n                                                "+e._s(e._f("formatDate")(t.created,"dddd D MMM YYYY"))+" ("+e._s(e._f("timeago")(t.created))+")\n                                            ")])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};Rt._withStripped=!0;var Vt={props:{contact:{type:Object}},components:{},data:()=>({loading:!1}),computed:{timeline(){return this.$fluro.date.timeline(this.items,"created")}},asyncComputed:{items:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/info/interactions?contact="+t).then((function(t){var r=_.map(t.data,(function(e){return e}));i(r),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},Bt=Object(a.a)(Vt,Rt,[],!1,null,null,null);Bt.options.__file="src/components/content/contact/timeline/ContactInteractionList.vue";var qt=Bt.exports,zt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-checkin-list"},[e.loading?[i("fluro-page-preloader",{attrs:{contain:""}})]:[i("flex-column-body",{staticStyle:{background:"#eee"}},[i("div",{staticClass:"timeline"},e._l(e.timeline,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(e._f("formatDate")(t.date,"YYYY")))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(e._f("formatDate")(t.date,"MMM")))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(e._f("formatDate")(t.date,"ddd D")))]),e._v(" "),i("div",{staticClass:"entries"},e._l(t.items,(function(t){return i("div",{key:t._id,staticClass:"entry",on:{click:function(i){return e.$fluro.global.view(t,!0)}}},[i("fluro-realm-bar",{attrs:{realm:t.realms}}),e._v(" "),i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.$fluro.asset.coverUrl(t.event._id,"event",{w:50})+")"}})]),e._v(" "),i("v-flex",[i("div",[i("strong",[e._v(e._s(t.event.title))]),e._v(" "),i("div",[i("strong",{staticClass:"sm"},[e._v(e._s(e._f("readableEventDate")(t.event)))])]),e._v(" "),i("div",{staticClass:"sm text-muted"},[e._v(e._s(e._f("definitionTitle")(t.event.definition?t.event.definition:"event"))+"  "+e._s(t.event.firstLine))])])]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.$actions.open([t])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)],1)],1)})),0)])}))],2)}))],2)})),0)])]],2)};zt._withStripped=!0;var Ut={props:{contact:{type:Object}},components:{},data:()=>({loading:!1}),computed:{timeline(){return this.$fluro.date.timeline(this.items,"event.startDate")}},asyncComputed:{items:{default:[],get(){var e=this;e.loading=!0;var t=e.$fluro.utils.getStringID(e.contact);return t||(Promise.resolve([]),e.loading=!1),new Promise((function(i,r){e.$fluro.api.get("/info/checkins?contact="+t).then((function(t){var r=_.map(t.data,(function(e){return e}));i(r),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},Yt=(i(287),Object(a.a)(Ut,zt,[],!1,null,"faa00218",null));Yt.options.__file="src/components/content/contact/timeline/ContactCheckinList.vue";var Kt=Yt.exports,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"contact-team-list"},[i("flex-column-body",[i("v-container",{attrs:{fluid:""}},[i("contact-group-manager",{model:{value:e.contact,callback:function(t){e.contact=t},expression:"contact"}})],1)],1)],1)};Wt._withStripped=!0;var Gt={props:{contact:{type:Object}},components:{ContactGroupManager:()=>i.e(65).then(i.bind(null,623))}},Ht=(i(289),Object(a.a)(Gt,Wt,[],!1,null,null,null));Ht.options.__file="src/components/content/contact/timeline/ContactTeamList.vue";var Jt=Ht.exports,Xt=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell",class:this.data},[t("fluro-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:this.data,library:this.library,icon:this.icon}})],1)};Xt._withStripped=!0;var Qt={props:{row:{type:Object},column:{type:Object},data:{}},computed:{icon(){return"public"==this.data?"lock-open":"lock"},library(){return"public"==this.data?"far":"fas"}}},Zt=(i(291),Object(a.a)(Qt,Xt,[],!1,null,"2484e7cb",null));Zt.options.__file="src/components/table/cells/PrivacyCell.vue";var ei=Zt.exports,ti=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("pre",[this._v(this._s(this.data))])])};ti._withStripped=!0;var ii={props:{row:{type:Object},column:{type:Object},data:{}}},ri=Object(a.a)(ii,ti,[],!1,null,null,null);ri.options.__file="src/components/table/cells/JSONCell.vue";var ni=ri.exports,ai=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"boolean-cell text-xs-center",class:{true:this.booleanTrue,false:!this.booleanTrue}},[this.booleanTrue?t("fluro-icon",{attrs:{library:"fas",icon:"check-circle"}}):t("fluro-icon",{attrs:{library:"far",icon:"times"}})],1)};ai._withStripped=!0;var oi={props:{row:{type:Object},column:{type:Object},data:{}},computed:{booleanTrue(){if(!_.isString(this.data))return!!this.data;switch(String(this.data).toLowerCase()){case"true":case"y":case"yes":return!0;case"false":case"null":case"undefined":case"n":case"no":case"":return}}}},si=Object(a.a)(oi,ai,[],!1,null,null,null);si.options.__file="src/components/table/cells/TicketCollectCell.vue";var li=si.exports,ci=i(171),ui=i(163),di=i(164),pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-prompt-dialog"},[i("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.done(t)}}},[e.title?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",{attrs:{"pa-2":""}},[e.title?i("h3",[e._v(e._s(e.title))]):e._e()])],1):e._e(),e._v(" "),i("flex-column-body",[i("v-container",{attrs:{"pa-2":""}},[i("fluro-content-form",{attrs:{fields:e.options.fields},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"pa-2":""}},[i("constrain",{attrs:{xs:""}},[i("v-layout",[i("v-btn",{attrs:{block:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                        Cancel\n                    ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{block:"",type:"submit",color:"primary"}},[e._v("\n                        Continue\n                    ")])],1)],1)],1)],1)],1)])};pi._withStripped=!0;var fi=i(10),mi={components:{FluroContentForm:fi.default},props:{options:{type:Object}},mixins:[l.a],data(){return{model:this.options.model||{}}},computed:{title(){return this.options.title}},methods:{done(){return this.close(this.model)}}},hi=(i(328),Object(a.a)(mi,pi,[],!1,null,null,null));hi.options.__file="src/components/ui/modal/PromptDialog.vue";var vi=hi.exports,gi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"fluro-confirm-dialog"},[e.title||e.description?i("flex-column-header",{staticClass:"border-bottom"},[i("v-container",[i("constrain",{attrs:{xs:""}},[e.title?i("h3",[e._v(e._s(e.title))]):e._e(),e._v(" "),e.description?i("div",{staticClass:"muted"},[e._v(e._s(e.description))]):e._e()])],1)],1):e._e(),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{staticClass:"pa-2"},[i("constrain",{attrs:{xs:""}},[i("v-layout",[i("v-btn",{attrs:{block:""},on:{click:function(t){return e.dismiss()}}},[e._v("\n                        Cancel\n                    ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{block:"",color:e.confirmColor},on:{click:function(t){return e.close()}}},[e._v("\n                        "+e._s(e.confirmText)+"\n                    ")])],1)],1)],1)],1)],1)};gi._withStripped=!0;var bi=i(12),yi={props:{options:{type:Object}},mixins:[l.a,bi.a],data:()=>({}),computed:{confirmColor(){return this.options.confirmColor?this.options.confirmColor:"success"},confirmText(){return this.options.confirmText?this.options.confirmText:"Confirm"},title(){return this.options.title},description(){return this.options.description}}},_i=(i(330),Object(a.a)(yi,gi,[],!1,null,null,null));_i.options.__file="src/components/ui/modal/ConfirmDialog.vue";var xi=_i.exports,ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-list-item"},[i("fluro-realm-bar",{attrs:{realm:e.item.realms}}),e._v(" "),i("div",{staticClass:"item-icon",class:e.item._type},["persona"==e.item._type?[i("fluro-avatar",{attrs:{id:e.item._id,type:"persona"}})]:"contact"==e.item._type?[i("fluro-avatar",{attrs:{id:e.item._id,type:"contact"}})]:"image"==e.item._type?[i("fluro-image",{attrs:{item:e.item,spinner:!0,width:40,height:40}})]:[i("fluro-icon",{attrs:{type:e.item._type}})]],2),e._v(" "),i(e.linkType,{tag:"component",staticClass:"item-text",attrs:{to:e.to,target:e.target,href:e.href}},[i("div",[i("div",{staticClass:"item-title"},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"item-subtitle"},[e._v(e._s(e.subtitle))])])]),e._v(" "),e._t("actions",[e.actionsEnabled?i("div",{staticClass:"item-actions",class:{active:e.actionsOpen}},[i("v-menu",{attrs:{left:!0,fixed:!0,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({attrs:{icon:"",flat:""}},r),[e.actionsOpen?i("fluro-icon",{attrs:{icon:"times"}}):i("fluro-icon",{attrs:{icon:"ellipsis-v"}})],1)]}}],null,!1,2747980089),model:{value:e.actionsOpen,callback:function(t){e.actionsOpen=t},expression:"actionsOpen"}},[e._v(" "),i("v-list",{attrs:{dense:""}},e._l(e.availableActions,(function(t){return i("v-list-tile",{on:{click:t.click}},[i("v-list-tile-content",[e._v(e._s(t.title))])],1)})),1)],1)],1):e._e()])],2)};ki._withStripped=!0;var wi=i(22),Ci={components:{FluroRealmBar:wi.default},props:{draggable:{default:!1,type:Boolean},to:{type:Object},href:{type:String},target:{type:String},item:[String,Object],model:{type:String,default:"node"},actions:{type:[Array,Boolean],default:function(){return[]}},defaultActions:{type:Boolean}},data(){return{actionsOpen:!1,availableActions:this.actions}},created(){var e=this,t=e.actions||[],i=e.item,r=e.$fluro.access.canEditItem(i),n=e.$fluro.access.canViewItem(i),a=e.$fluro.access.canDeleteItem(i);if(e.defaultActions&&!1!==e.actions){if(r&&t.push({title:"Edit",click:function(){e.$fluro.global.edit&&e.$fluro.global.edit(i)}}),n){switch(t.push({title:"View",click:function(){e.$fluro.global.view&&e.$fluro.global.view(i)}}),i._type){case"image":var o=e.$fluro.asset.getUrl(i);t.push({title:"View Image",click:function(){window.open(o)}});break;case"video":o=e.$fluro.asset.imageUrl(i);t.push({title:"Watch Video",click:function(){window.open(o)}});break;case"audio":o=e.$fluro.asset.getUrl(i);t.push({title:"Listen",click:function(){window.open(o)}})}if("upload"==i.assetType){o=e.$fluro.asset.downloadUrl(i);t.push({title:"Download",click:function(){window.open(o)}})}}a&&t.push({title:"Delete",click:function(){e.$fluro.global.delete&&e.$fluro.global.delete(i)}}),e.availableActions=t}},computed:{primaryRealm(){return _.chain(this.item).get("realms").filter((function(e){return e.bgColor})).last().value()},foregroundColor(){return this.primaryRealm?this.primaryRealm.color:null},backgroundColor(){return this.primaryRealm?this.primaryRealm.bgColor:null},actionsEnabled(){return!1!==this.actions&&this.availableActions.length},linkType(){return this.to?"router-link":this.href?"a":"div"},realmStyle(){var e=_.chain(this.item).get("realms").compact().filter((function(e){return e.bgColor})).last().value();if(e)return{backgroundColor:e.bgColor}},icon(){return this.$fluro.types.icon(this.type)},type(){return _.get(this,"item._type")},definition(){return _.get(this,"item.definition")||this.type},title(){return _.get(this,"item.title")},firstLine(){return _.get(this,"item.firstLine")},subtitle(){var e=this.item,t=[];switch(e._type){case"contact":return"";case"event":t.push(this.$fluro.date.readableEventDate(e)),e.rooms&&t.push(e.rooms.join(", "));break;default:t.push(this.firstLine)}return _.compact(t).join(". ")}}},Si=(i(334),Object(a.a)(Ci,ki,[],!1,null,"e21c3d46",null));Si.options.__file="src/components/FluroListItem.vue";var $i=Si.exports,Di=i(189),Mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"content-edit"},[e.showLoading?i("fluro-page-preloader",{attrs:{contain:""}}):[i("form",{staticClass:"flex-column",attrs:{disabled:"processing"==e.state},on:{submit:function(e){e.preventDefault()}}},[e.$vuetify.breakpoint.smAndUp?i("flex-column-header",["error"==e.state?[i("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n                        "+e._s(e.serverErrors)+"\n                    ")])]:e._e()],2):e._e(),e._v(" "),i("flex-column-header",{staticClass:"border-bottom"},[i("page-header",{attrs:{type:e.typeName},scopedSlots:e._u([{key:"left",fn:function(){return[i("fluro-inline-edit",{attrs:{enabled:e.clickTitleEdit},scopedSlots:e._u([{key:"default",fn:function(){return[i("h3",[e._v(e._s(e.title)+" "),i("span",{staticClass:"small text-muted"},[e._v(e._s(e.definitionTitle))])]),e._v(" "),e.summary?i("v-label",[e._v(e._s(e.summary))]):e._e()]},proxy:!0},{key:"edit",fn:function(t){t.props;var r=t.blur,n=t.focus;return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model.title,expression:"model.title"}],attrs:{block:""},domProps:{value:e.model.title},on:{focus:function(e){return n(e)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r(t)},blur:r,input:function(t){t.target.composing||e.$set(e.model,"title",t.target.value)}}})]}}])})]},proxy:!0},{key:"right",fn:function(){return["realm"!=e.typeName?i("fluro-realm-select",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Select where this "+e.definitionTitle+" should be stored",type:e.typeName,definition:e.definitionName},model:{value:e.model.realms,callback:function(t){e.$set(e.model,"realms",t)},expression:"model.realms"}}):e._e(),e._v(" "),"tag"!=e.typeName?i("fluro-tag-select",{staticClass:"mx-0 ml-2",model:{value:e.model.tags,callback:function(t){e.$set(e.model,"tags",t)},expression:"model.tags"}}):e._e(),e._v(" "),e.model._id?i("v-btn",{staticClass:"mx-0 ml-2",on:{click:function(t){return e.$actions.open([e.model])}}},[i("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1):e._e(),e._v(" "),e.embedded?e._e():i("v-btn",{staticClass:"mx-0 ml-2",on:{click:e.cancel}},[e._v("\n                            Close\n                        ")]),e._v(" "),i("v-btn",{staticClass:"mx-0 ml-2",attrs:{loading:"processing"==e.state,disabled:e.hasErrors,color:"primary"},on:{click:e.submit}},[e._v("\n                            "+e._s(e.saveText)+"\n                        ")])]},proxy:!0}])})],1),e._v(" "),e.component?i(e.component,{ref:"form",tag:"component",attrs:{context:e.context,type:e.typeConfig,config:e.config,definition:e.definition},on:{errorMessages:e.validate,input:e.updateModel,file:e.fileChanged},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),e.showFooter?[e.$vuetify.breakpoint.xsOnly?[i("flex-column-footer",["error"==e.state?[i("v-alert",{staticStyle:{margin:"0"},attrs:{value:!0,type:"error"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n                                "+e._s(e.serverErrors)+"\n                            ")])]:e._e()],2),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"py-0":"","px-1":""}},[i("fluro-realm-select",{attrs:{block:"",type:e.typeName,definition:e.definitionName},model:{value:e.model.realms,callback:function(t){e.$set(e.model,"realms",t)},expression:"model.realms"}})],1)],1),e._v(" "),i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{"py-0":"","px-1":""}},[i("v-layout",[i("v-flex",[i("v-btn",{attrs:{block:""},on:{click:e.cancel}},[e._v("\n                                        Cancel\n                                    ")])],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",[i("v-btn",{staticClass:"mr-0",attrs:{block:"",loading:"processing"==e.state,disabled:e.hasErrors,color:"primary"},on:{click:e.submit}},[e._v("\n                                        "+e._s(e.saveText)+"\n                                    ")])],1)],1)],1)],1)]:[i("flex-column-footer",{staticClass:"border-top"},[i("v-container",{attrs:{fluid:"","pa-1":""}},[i("v-layout",{attrs:{row:"","align-center":""}},[e.model._id?[i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Metadata Options",small:"",icon:"",flat:""}},r),[i("fluro-icon",{attrs:{library:"fas",icon:"info"}})],1)]}}],null,!1,2964907650)},[e._v(" "),i("v-container",{staticStyle:{background:"#fff"},attrs:{"pa-2":"","grid-list-xl":""}},[i("fluro-content-form-field",{attrs:{field:e.extraFields.inheritable},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.extraFields.slug},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),i("v-container",{staticClass:"white-background",attrs:{"pa-2":""}},[e.model._id?[i("v-input",{staticClass:"no-flex",attrs:{label:"Fluro ID"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(t){return e.copyToClipboard(e.model._id)}}},[e._v(e._s(e.model._id))])],1)]:e._e(),e._v(" "),e.model._external?[i("v-input",{staticClass:"no-flex",attrs:{label:"External ID"}},[i("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{small:"",block:"",content:"Click to copy to clipboard"},on:{click:function(t){return e.copyToClipboard(e.model._external)}}},[e._v(e._s(e.model._external))])],1)]:e._e(),e._v(" "),[i("v-btn",{attrs:{block:"",small:""},on:{click:function(t){return e.$fluro.global.json(e.model)}}},[e._v("\n                                                        View JSON\n                                                        "),i("fluro-icon",{attrs:{right:"",icon:"brackets-curly"}})],1)],e._v(" "),i("input",{ref:"clipboard",attrs:{type:"hidden"}})],2)],1)],1)]:e._e(),e._v(" "),e.enableAutomationDates?[i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"Publish/Archive Dates",small:"",icon:"",flat:""}},r),[i("fluro-icon",{attrs:{icon:"clock"}})],1)]}}],null,!1,672650455)},[e._v(" "),i("v-container",{staticStyle:{background:"#fff"},attrs:{"grid-list-xl":""}},[i("v-layout",[i("v-flex",[i("v-input",{staticClass:"no-flex",attrs:{label:"Publish Date","persistent-hint":!0,hint:e.publishDateHint}},[i("fluro-content-form-field",{attrs:{field:e.extraFields.publishDate},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1),e._v(" "),i("v-flex",[i("v-input",{staticClass:"no-flex",attrs:{label:"Archive Date","persistent-hint":!0,hint:e.archiveDateHint}},[i("fluro-content-form-field",{attrs:{field:e.extraFields.archiveDate},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1),e._v(" "),i("v-flex",[i("fluro-content-form-field",{attrs:{field:e.extraFields.createdDate},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1)],1)],1)]:e._e(),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{shrink:""}},[e.model._id?[i("em",{staticClass:"muted sm"},[e._v("Last updated "+e._s(e._f("timeago")(e.model.updated)))])]:e._e(),e._v(" "),e.canChangeStatus?i("fluro-status-select",{attrs:{type:e.model._type},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}}):e._e()],2),e._v(" "),e.model._id?i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"my-0",attrs:{content:"History and Change log",small:"",icon:"",flat:""}},r),[i("fluro-icon",{attrs:{library:"fas",icon:"history"}})],1)]}}],null,!1,345657208)},[e._v(" "),i("div",{staticStyle:{"min-width":"320px"}},[i("changelog",{attrs:{item:e.model}})],1)])],1):e._e()],2)],1)],1)]]:e._e()],2)]],2)};Mi._withStripped=!0;i(7);var Pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tag-select"},[i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[i("v-btn",e._g({staticClass:"pill mx-0",attrs:{small:e.small,block:e.block}},r),[e._v("\n                "+e._s(e.model.length?e.model.length:null)),i("fluro-icon",{attrs:{right:e.model.length>0,type:"tag"}})],1)]}}])},[e._v(" "),i("v-card",{attrs:{tile:""}},[i("v-container",{staticStyle:{"max-width":"320px"}},e._l(e.tagGroups,(function(t){return i("v-input",{staticClass:"no-flex"},[i("v-label",[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"inline-tags"},e._l(t.tags,(function(t){return i("span",{staticClass:"inline-tag",on:{click:function(i){return e.removeTag(t)}}},[e._v("\n                            "+e._s(t.title)+"\n                            "),i("fluro-icon",{staticClass:"off",attrs:{right:"",icon:"tag"}}),e._v(" "),i("fluro-icon",{staticClass:"on",attrs:{right:"",icon:"times"}})],1)})),0),e._v(" "),i("fluro-content-select-button",{attrs:{block:"",type:t.key},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)})),1)],1)],1)],1)};Pi._withStripped=!0;var Oi=function(){var e=this.$createElement;return(this._self._c||e)("div")};Oi._withStripped=!0;var Fi=i(13),Ti=i(14),Ei={props:{options:{type:Object}},components:{FluroTabset:Fi.a,FluroTab:Ti.a},mixins:[l.a],data(){return{selector:this.options.selector}}},ji=(i(342),Object(a.a)(Ei,Oi,[],!1,null,null,null));ji.options.__file="src/components/form/tagselect/TagSelectModal.vue";ji.exports;var Ni=i(17),Ai={asyncComputed:{tagDefinitions:{default:[],get(){return this.$fluro.types.subTypes("tag")}}},computed:{tagGroups(){var e=this,t=_.reduce(e.tagDefinitions,(function(e,t){return e[t.definitionName]={title:t.title,tags:[],key:t.definitionName},e}),{tag:{title:"Tags",tags:[],key:"tag"}});return _.chain(this.model).reduce((function(t,i){var r=i.definition||"tag",n=t[r];return n||(n=t[r]={title:e.$fluro.types.readable(r,!0),tags:[]}),n.tags.push(i),t}),t).values().value()}},methods:{removeTag(e){var t=this.model.indexOf(e);this.model.splice(t,1),console.log("Remove",t)}},components:{FluroContentSelectButton:Ni.default},props:{small:{type:Boolean},block:{type:Boolean},value:{type:Array,default:function(){return[]}}},data(){return{loading:!0,model:this.value}},watch:{model:function(e){this.$emit("input",e)}}},Ii=(i(356),Object(a.a)(Ai,Pi,[],!1,null,"7e6571ee",null));Ii.options.__file="src/components/form/tagselect/FluroTagSelect.vue";var Li=Ii.exports,Ri=i(19),Vi=i(52),Bi=i(11),qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",{staticClass:"log-viewer",staticStyle:{background:"#fff"}},[i("flex-column-header",[i("v-container",{staticClass:"border-bottom",attrs:{"pa-1":""}},[i("strong",[e._v("Historical Change Log")])])],1),e._v(" "),i("flex-column-body",[e.loading?i("v-container",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1):i("div",{staticClass:"timeline"},e._l(e.dates,(function(t){return i("div",{staticClass:"year"},[i("div",{staticClass:"year-label"},[e._v(e._s(e._f("formatDate")(t.date,"YYYY")))]),e._v(" "),e._l(t.months,(function(t){return i("div",{staticClass:"month"},[i("div",{staticClass:"month-label"},[e._v(e._s(e._f("formatDate")(t.date,"MMM")))]),e._v(" "),e._l(t.days,(function(t){return i("div",{staticClass:"day"},[i("div",{staticClass:"day-label"},[e._v(e._s(e._f("formatDate")(t.date,"ddd D")))]),e._v(" "),i("div",{staticClass:"entries"},e._l(t.items,(function(t){return i("div",{key:t._id,staticClass:"entry",on:{click:function(i){return e.$fluro.global.json(t.data,{title:t.message,depth:5})}}},[i("v-layout",[i("v-flex",{staticClass:"pr-1",attrs:{shrink:""}},[t.managedUser?i("fluro-avatar",{attrs:{id:t.managedUser,type:"persona"}}):e._e(),e._v(" "),t.user?i("fluro-avatar",{attrs:{id:t.user,type:"user"}}):e._e()],1),e._v(" "),i("v-flex",[i("strong",[e._v(e._s(t.message))]),e._v(" "),i("div",{staticClass:"sm muted"},[e._v(e._s(t.key)+" - "+e._s(t.managedUser?t.managedUser.title:""))])]),e._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{shrink:""}},[e._v("\n                                        "+e._s(e._f("formatDate")(t.created,"h:mma"))+"\n                                    ")])],1)],1)})),0)])}))],2)}))],2)})),0)],1)],1)};qi._withStripped=!0;var zi={props:{item:{type:[Object,String],required:!0}},data:()=>({loading:!1}),computed:{itemID(){return this.$fluro.utils.getStringID(this.item)},dates(){return this.$fluro.date.timeline(this.log,"created")}},asyncComputed:{log:{default:[],get(){var e=this;return e.loading=!0,new Promise((function(t,i){e.$fluro.api.get("/log?item="+e.itemID).then((function(i){t(i.data),e.loading=!1})).catch(i)}))}}}},Ui=(i(362),Object(a.a)(zi,qi,[],!1,null,null,null));Ui.options.__file="src/components/content/edit/components/Changelog.vue";var Yi=Ui.exports,Ki={props:{embedded:{type:Boolean},disableCacheClearOnSave:{type:Boolean,default:()=>!0},context:{type:String,default:"create"},type:{type:String,required:!0},value:{type:Object,default:function(){return{realms:[],tags:[]}}},options:{default:function(){return{}},type:Object}},data(){return{cacheClearRequired:!1,file:null,model:JSON.parse(JSON.stringify(this.value)),serverErrors:"",errorMessages:[],result:null,state:"ready",tagSearch:"",loading:!0}},created(){this.model&&!this.model.data&&this.$set(this.model,"data",{})},mounted(){this.addListeners()},activated(){this.addListeners()},deactivated(){this.removeListeners()},beforeDestroy(){this.removeListeners()},methods:{copyToClipboard(e){let t=this.$refs.clipboard;t.value=e,t.setAttribute("type","text"),t.select();try{document.execCommand("copy");this.$fluro.notify("Copied to clipboard")}catch(e){}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},addListeners(){document&&document.addEventListener("keydown",this.keypress,!1)},removeListeners(){document&&document.removeEventListener("keydown",this.keypress)},keypress(e){83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),this.submit())},editSuccess(e){"definition"==e.data._type&&(console.log("Reload glossary"),this.$fluro.global.reloadTerminology()),this.state="ready",this.cacheClearRequired=!0,this.disableCacheClearOnSave||this.$fluro.resetCache(),this.$emit("success",e.data),this.$fluro.notify(e.data.title+" was updated successfully")},editFailed(e){var t=this.$fluro.utils.errorMessage(e);this.$fluro.error(e),this.serverErrors=t,this.state="error",this.$emit("error",e)},createSuccess(e){console.log("CREATE SUCCESS",e),"definition"==e.data._type&&(console.log("Reload glossary"),this.$fluro.global.reloadTerminology()),this.cacheClearRequired=!0,console.log("CREATE CLEAR?",this.cacheClearRequired,this.disableCacheClearOnSave),this.disableCacheClearOnSave||this.$fluro.resetCache(),this.reset(!0),this.$emit("success",e.data),this.$fluro.notify(e.data.title+" was created successfully")},createFailed(e){console.log("ERROR MESAGE HAPPEND");var t=this.$fluro.utils.errorMessage(e);this.$fluro.error(e),this.serverErrors=t,this.state="error",this.$emit("error",e)},fileChanged(e){console.log("FILE CHANGE HEARD",e),this.file=e},updateModel(){this.$emit("input",this.model)},cancel(){this.$emit("cancel")},touch(){_.each(this.formFields,(function(e){e.touch()}))},validate(){var e=this.$refs.form;if(!e)return[];this.errorMessages=e.errorMessages||[]},validateAllFields(){this.$refs.form.touch(),this.validate()},reset(e){console.log("RESET");this.model={realms:[],tags:[]},this.$refs.form&&this.$refs.form.reset(),this.result=null,this.state="ready",e||this.$emit("reset")},preprocessCreateData(e){switch(this.typeName){case"process":e.title&&e.title.length||e.item&&e.item.title&&e.item.title.length&&(e.title=e.item.title)}return e},isValidDate:e=>e instanceof Date&&!isNaN(e),autosave(){var e=this;"processing"!=e.state&&(console.log("AUTOSAVE"),e.submitUpdate().then((function(t){e.state="ready"})).catch((function(t){e.state="ready"})))},submitUpdate(){this.state="processing";var e=Object.assign({},this.model);delete e.__v;var t=e.definition||this.definitionName||this.typeName;return this.$fluro.api.put(`/content/${t}/${e._id}`,e)},submit(){if(this.validateAllFields(),this.hasErrors)console.log("WE HAVE ERRORS",this.errorMessages);else{this.state="processing";var e=Object.assign({},this.model);delete e.__v;var t=e.definition||this.definitionName||this.typeName,i=this.context;switch(e._id&&(i="edit"),"attendance"!=this.typeName||e.title&&e.title.length||(e.title=e.event.title+" headcount"),console.log("SENDING TO SERVER",i,this.model),i){case"edit":this.submitUpdate().then(this.editSuccess).catch(this.editFailed);break;default:if(e=this.preprocessCreateData(e),this.uploadForSave){var r=this.file;if(!r)return this.$fluro.notify("Please select a file to upload"),void(this.state="ready");var n="/file/upload";if(e.externalIntegration){var a=e.externalIntegration;a._id&&(a=a._id),n="/file/integration/upload/"+a}r.state="uploading";var o=new FormData;o.append("json",JSON.stringify(e)),o.append("file",r.file,r.name);var s=o;return this.$fluro.api.post(n,s,{headers:{"Content-Type":"multipart/form-data"}}).then(this.createSuccess).catch(this.createFailed)}"family"==t?this.$fluro.api.post("/family",e).then(this.createSuccess).catch(this.createFailed):this.$fluro.api.post("/content/"+t,e).then(this.createSuccess).catch(this.createFailed)}}}},computed:{canChangeStatus(){switch(this.typeName){case"persona":case"realm":case"transaction":break;default:return!0}},showFooter(){return!this.hideFooter},hideFooter(){return"definition"==this.typeName},summary(){switch(this.typeName){case"event":return this.$fluro.date.readableEventDate(this.model);case"plan":var e,t=_.get(this.model,"event.title"),i=_.get(this.model,"startDate");if(t)return(e=this.$fluro.date.readableEventDate(this.model.event))?`${e} - ${this.model.event.title}`:void 0;if(i)return(e=this.$fluro.date.formatDate(i,"h:mm ddd D MMM"))||void 0}},clickTitleEdit(){switch(this.typeName){case"contact":return!1;default:return!0}},uploadForSave(){return!this.model._id&&"upload"==this.model.assetType},saveText(){return this.uploadForSave?"Upload":"Save"},enableAutomationDates(){switch(this.config.type.definitionName){case"article":case"asset":case"audio":case"video":case"image":case"code":case"collection":case"team":case"post":case"product":case"event":return!0}},publishDateHint(){if(this.model.publishDate&&this.isValidDate(this.model.publishDate))return"Change status to 'active' "+this.$filters.timeago(this.model.publishDate)},archiveDateHint(){if(this.model.archiveDate&&this.isValidDate(this.model.archiveDate))return"Change status to 'archived' "+this.$filters.timeago(this.model.archiveDate)},extraFields(){var e={};return e.inheritable={title:"Inheritable",description:"Allow child accounts to reference and use this content",minimum:0,maximum:1,type:"boolean",key:"inheritable",expressions:{hide(){switch(this.typeName){case"contact":case"family":return!0}}}},e.slug={title:"Slug / Readable ID",description:"A readable id that can be used for website urls and paths",minimum:0,maximum:1,type:"string",key:"slug",expressions:{hide(){switch(this.typeName){case"contact":case"family":return!0}}}},e.archiveDate={minimum:0,maximum:1,type:"date",key:"archiveDate",directive:"datetimepicker"},e.publishDate={minimum:0,maximum:1,type:"date",key:"publishDate",directive:"datetimepicker"},e.createdDate={title:"Creation Date",minimum:0,maximum:1,type:"date",key:"created",directive:"datetimepicker"},e},showLoading(){return!this.config||this.loading||!this.component},title(){return this.model.title?this.model.title:"New"},definition(){return this.config.definition},typeConfig(){if(this.config)return this.config.type},definitionTitle(){return this.definition?this.definition.title:this.typeConfig.title},typeName(){if(this.typeConfig)return this.typeConfig.definitionName},definitionName(){return this.definition?this.definition.definitionName:""},hasErrors(){return!!this.errorMessages.length},component(){if(this.typeName){return()=>i(364)(`./${this.typeName}.vue`)}}},components:{FluroTagSelect:Li,FluroRealmSelect:Ri.default,FluroStatusSelect:Vi.a,FluroInlineEdit:V.default,FluroContentFormField:Bi.default,Changelog:Yi},asyncComputed:{config:{default:null,get(){var e=this;return e.type&&e.type.length?(e.loading=!0,new Promise((function(t,i){var r=e.$fluro.api.get("/defined/type/"+e.type);r.then((function(i){t(i.data),e.loading=!1})),r.catch((function(t){return e.$fluro.error(t),i(t)}))}))):(console.log("NO CONFIG LOADED"),Promise.reject({}))}}},watch:{value(){this.model=this.value}}},Wi=(i(365),i(367),Object(a.a)(Ki,Mi,[],!1,null,"ea01adb4",null));Wi.options.__file="src/components/content/edit/FluroContentEdit.vue";var Gi=Wi.exports,Hi=i(175),Ji=i(27),Xi=i(51),Qi=i(167),Zi=i(33),er=i(182),tr=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fluro-page-preloader"},[t("v-progress-circular",{attrs:{width:1,indeterminate:""}})],1)};tr._withStripped=!0;var ir={},rr=(i(400),Object(a.a)(ir,tr,[],!1,null,"625dafb6",null));rr.options.__file="src/components/ui/FluroPagePreloader.vue";var nr=rr.exports,ar=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-search-bar",class:{active:e.isActive}},[i("v-container",{class:{"pa-0":e.$vuetify.breakpoint.xsOnly},attrs:{"py-0":""}},[i("constrain",[i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"search-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{placeholder:e.placeholder},domProps:{value:e.model},on:{focus:function(t){e.isFocused=!0},blur:function(t){e.isFocused=!1},input:[function(t){t.target.composing||(e.model=t.target.value)},e.keywordsChanged]}}),e._v(" "),i("div",{staticClass:"icon-search icon",class:{active:e.model.length},on:{click:function(t){return e.clear()}}},[e.model.length?i("fluro-icon",{attrs:{library:"far",icon:"times"}}):e._e(),e._v(" "),e.model.length?e._e():i("fluro-icon",{attrs:{library:"far",icon:"search"}})],1)]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("div",{staticClass:"icon-more icon",class:{active:e.showOptions},on:{click:function(t){e.showOptions=!e.showOptions}}},[i("fluro-icon",{attrs:{library:"far",icon:"ellipsis-v"}})],1)])],1)],1)],1),e._v(" "),i("div",{staticClass:"options"},[i("v-slide-y-reverse-transition",[e.showOptions?i("v-container",{attrs:{fluid:"","pa-0":""}},[i("v-container",[e._t("options")],2)],1):e._e()],1)],1)],1)};ar._withStripped=!0;var or={mixins:[bi.a],data(){return{isFocused:!1,model:this.value,showOptions:!1,debounced:null}},props:{debounce:{type:Number,default:500},placeholder:{type:String,default:"Search"},value:{type:String,default:""}},created(){var e=this;e.debounced=_.debounce((function(){console.log("DEBOUNCED",e.model),e.$emit("input",e.model)}),e.debounce)},computed:{isActive(){return this.isFocused||this.model.length}},methods:{keywordsChanged(){if(!this.model||!this.model.length)return this.clear();this.debounced()},clear(){this.model="",this.$emit("input","")}}},sr=(i(402),Object(a.a)(or,ar,[],!1,null,"6a2e384c",null));sr.options.__file="src/components/ui/FluroSearchBar.vue";var lr=sr.exports,cr=function(){var e=this.$createElement,t=this._self._c||e;return this.iconName?t("font-awesome-icon",{attrs:{spin:this.spin,"fixed-width":"",icon:this.iconName}}):this._e()};cr._withStripped=!0;var ur={props:{type:{type:String},icon:{type:String},library:{type:String,default(){return this.$fluro.global.defaultIconLibrary||"fas"}},spin:{type:Boolean}},computed:{fontLibrary(){return this.library||this.$fluro.global.defaultIconLibrary||"fas"},iconName(){return this.icon?[this.fontLibrary,this.icon]:this.$fluro.types.icon(this.type,this.fontLibrary)||[this.fontLibrary,this.type]}}},dr=(i(404),Object(a.a)(ur,cr,[],!1,null,"61d6caba",null));dr.options.__file="src/components/ui/FluroIcon.vue";var pr=dr.exports,fr=i(37),mr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"inline-tags"},e._l(e.filtered,(function(t){return i("span",{staticClass:"inline-tag",style:{backgroundColor:t.bgColor||"rgba(0,0,0,0.5);",color:t.color||"rgba(0,0,0,0.8)"}},[e._v("\n"+e._s(t.title)+"\n    ")])})),0)};mr._withStripped=!0;var hr={props:{realms:{default:()=>[],type:Array}},computed:{filtered(){return _.chain(this.realms).filter((function(e){if(!e._discriminatorType)return!0})).orderBy((function(e){return e.title})).value()}}},vr=(i(406),Object(a.a)(hr,mr,[],!1,null,"41ee6357",null));vr.options.__file="src/components/ui/FluroRealmTags.vue";var gr=vr.exports,br=i(41),yr=i(172),_r=i(173),xr=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"accordion"},[this._t("default")],2)};xr._withStripped=!0;var kr={props:{options:{type:Object},activePanel:{type:Number}},provide(){return{panels:this.panels,activePanelIndex:this.activePanelIndex,selectPanel:this.selectPanel}},data(){return{panels:[],activePanelIndex:this.activePanel||0}},watch:{activePanel:"selectPanel"},methods:{selectPanel(e){console.log("SELECT PANEL",e);var t=this;e=Math.max(e,0),e=Math.min(e,t.panels.length-1),t.activePanelIndex=e,_.each(t.panels,(function(e,i){e.active=i==t.activePanelIndex}))}}},wr=(i(412),Object(a.a)(kr,xr,[],!1,null,null,null));wr.options.__file="src/components/ui/accordion/FluroAccordion.vue";var Cr=wr.exports,Sr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"accordion-panel",class:{expanded:e.active}},[i("div",{staticClass:"accordion-panel-title",on:{click:function(t){return e.selectPanel(e.index)}}},[i("v-layout",[i("v-flex",[e._v("\n                                "+e._s(e.heading)+"\n                            ")]),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("fluro-icon",{attrs:{icon:e.field.expanded?"angle-up":"angle-down"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"accordion-panel-body"},[i("v-container",{attrs:{fluid:""}},[e._t("default")],2)],1)])};Sr._withStripped=!0;var $r={props:{heading:{type:String}},inject:["panels","activePanelIndex","selectPanel"],created(){this.index=this.panels.length,this.panels.push(this)},computed:{active(){return this.index==this.activePanelIndex}},data:()=>({index:0})},Dr=(i(414),Object(a.a)($r,Sr,[],!1,null,null,null));Dr.options.__file="src/components/ui/accordion/FluroAccordionPanel.vue";var Mr=Dr.exports,Pr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fluro-content-browser"},[i("v-toolbar",{staticClass:"elevation-0"},[i("v-spacer"),e._v(" "),i("v-text-field",{attrs:{solo:"","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.close()}}},[e._v("\n            Done\n        ")])],1),e._v(" "),i("v-card",[e.loading?[i("v-card-text",{staticClass:"text-sm-center"},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:[e.model.length?i("v-toolbar",{staticClass:"elevation-0"},[i("div",[e._v(e._s(e.selectionSummary))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-item-group",[e.canSelectAll?i("v-btn",{attrs:{small:""},on:{click:function(t){return e.selectAll()}}},[e._v("\n                        Select all "+e._s(e.items.length)+"\n                    ")]):e._e(),e._v(" "),i("v-btn",{attrs:{small:""},on:{click:function(t){return e.deselectAll()}}},[e._v("\n                        Deselect "+e._s(1==e.maximum?"":"all")+"\n                    ")])],1)],1):e._e(),e._v(" "),e.items?[i("v-data-table",{attrs:{"item-key":"_id",search:e.search,"select-all":e.multiple,"rows-per-page-items":e.pageOptions,"disable-initial-sort":!0,"hide-headers":e.$vuetify.breakpoint.xsOnly,headers:e.headers,items:e.items},scopedSlots:e._u([{key:"items",fn:function(t){return[i("tr",{attrs:{active:e.isSelected(t.item)},on:{"!click":function(i){return i.preventDefault(),i.stopPropagation(),e.clicked(t.item)}}},[e.multiple?i("td",[i("v-checkbox",{attrs:{"hide-details":""},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}})],1):e._e(),e._v(" "),i("td",{staticClass:"text-xs-center fixed-w"},["image"==t.item._type?[i("fluro-image",{attrs:{item:t.item,spinner:!0,width:50,height:50}})]:[i("fluro-icon",{attrs:{type:t.item._type}})]],2),e._v(" "),i("td",[i("div",[e._v(e._s(t.item.title))]),e._v(" "),i("div",{staticClass:"small muted"},[e._v(e._s(e.summary(t.item)))])]),e._v(" "),i("td",[e._v(e._s(e._f("timeago")(t.item.created)))]),e._v(" "),i("td",[e._v(e._s(e._f("timeago")(t.item.updated)))])])]}}],null,!1,1928552038),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:e._e()]],2)],1)};Pr._withStripped=!0;var Or=i(18),Fr={mixins:[Or.a],created(){this.setSelection(this.value)},props:{value:{default:()=>[],type:Array},type:{type:String},minimum:{type:Number,default:0},maximum:{type:Number,default:0}},watch:{model:function(){this.$emit("input",this.model)}},computed:{model:{get(){return this.selection},set(e){this.selection=e}},canSelectAll(){if(this.model.length!=this.items.length)return!this.maximum||this.total<this.maximum},selectionSummary(){if(this.multiple){if(this.minimum)return this.model.length>=this.minimum?this.model.length+" selected":`${this.model.length} of ${this.minimum} required`;if(this.maximum)return`${this.model.length} of max ${this.maximum} selected`}return this.model.length+" selected"},search:{get(){return this.terms},set:_.debounce((function(e){this.terms=e}),500)},multiple(){return 1!=this.maximum},total(){return this.model.length},canAddValue(){return!this.maximum||this.total<this.maximum}},data:()=>({loading:!0,terms:"",pageOptions:[10,20,60],headers:[{text:"",align:"left",sortable:!1,value:""},{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Updated",align:"left",sortable:!0,value:"updated"},{text:"Created",align:"left",sortable:!0,value:"created"}]}),methods:{selectAll(){this.maximum?this.setSelection(this.items.slice(0,this.maximum)):this.setSelection(this.items)},clicked(e){if(this.isSelected(e))return this.deselect(e);this.multiple?this.canAddValue&&this.select(e):this.setSelection([e])},close(){this.$emit("close")},summary(e){var t=e.firstLine||"";switch(e._type){case"event":t=`${this.$fluro.date.readableEventDate(e)} ${t}`}return t}},asyncComputed:{items:{get(){var e=this,t="/content";e.type&&e.type.length&&(t="/content/"+e.type),e.loading=!0;var i=e.$fluro.api.get(t,{params:{list:!0,simple:!0}});return new Promise((function(t,r){i.then((function(i){t(i.data),e.loading=!1})).catch((function(t){r(t),e.loading=!1}))}))}}}},Tr=(i(416),Object(a.a)(Fr,Pr,[],!1,null,null,null));Tr.options.__file="src/components/form/FluroContentBrowser.vue";var Er=Tr.exports,jr=i(190),Nr=i(48),Ar=i(35),Ir=i(26),Lr=i(45),Rr=i(28),Vr=i(191),Br=function(){var e=this.$createElement;return(this._self._c||e)("code",{ref:"code",staticClass:"fluro-code-highlight"},[this._t("default")],2)};Br._withStripped=!0;var qr={props:{lang:{type:String,default:"javascript"}},mounted(){var e=this.$refs.code;window.hljs&&(console.log(e),window.hljs.highlightBlock(e))}},zr=(i(422),Object(a.a)(qr,Br,[],!1,null,null,null));zr.options.__file="src/components/FluroCodeHighlight.vue";var Ur=zr.exports,Yr=i(192),Kr=i(193),Wr=i(180),Gr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.form?[e.allowed?e._e():[e.user?[e._t("authenticated",null,{form:e.form})]:e._e(),e._v(" "),e.user?e._e():[e._t("unauthenticated",null,{form:e.form})]],e._v(" "),e.allowed?[i("div",{staticClass:"fluro-post-form"},[e._t("header",[i("v-layout",[i("fluro-avatar",{attrs:{left:"",md:"",id:e.user.persona,type:"persona"}}),e._v(" "),i("v-flex",{attrs:{"d-flex":""}},[i("h3",{attrs:{title:""}},[e._v(e._s(e.displayTitle))])])],1)],{title:e.displayTitle,form:e.form,targetID:e.targetID}),e._v(" "),i("form",{attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[i("fluro-content-form",{ref:"form",attrs:{options:e.options,fields:e.form.fields},model:{value:e.model.data,callback:function(t){e.$set(e.model,"data",t)},expression:"model.data"}}),e._v(" "),i("div",{staticClass:"actions"},["processing"==e.state?[i("v-btn",{staticClass:"mx-0",attrs:{disabled:!0}},[e._v("\n                                Processing\n                                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==e.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                                "+e._s(e.serverErrors)+"\n                            ")]),e._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n                                Try Again\n                            ")])]:[e.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                                Please check the following issues before submitting\n                                "),e._l(e.errorMessages,(function(t){return i("div",[i("strong",[e._v(e._s(t.title))]),e._v(": "+e._s(t.messages[0])+"\n                                ")])}))],2):e._e(),e._v(" "),e._t("submit",[i("v-btn",{staticClass:"mx-0",attrs:{disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v("\n                                    "+e._s(e.saveButtonText)+"\n                                ")])],{hasErrors:e.hasErrors})]],2)],1)],2)]:e._e()]:e._e()],2)};Gr._withStripped=!0;var Hr=i(38),Jr={props:{title:{type:String},type:{type:String},cancelButtonText:{type:String},saveButtonText:{type:String,default:"Submit"},target:{type:[Object,String]},options:{default:function(){return{}},type:Object}},data:()=>({model:{data:{}},serverErrors:"",errorMessages:[],thread:[],state:"ready"}),created(){},mounted(){var e=this;e.$watch((function(){return U.a.get(e.$refs,"form.errorMessages")}),e.validate),e.validate()},computed:{targetID(){return this.$fluro.utils.getStringID(this.target)},hasErrors(){return!!this.errorMessages.length},displayTitle(){return this.title?this.title:"Add "+this.form.title},allowed(){var e=this.$fluro.access.can("create",this.type,"post"),t=this.$fluro.access.can("submit",this.type,"post");return e||t},...Object(Hr.mapFields)("fluro",["application","user"])},components:{FluroContentForm:fi.default},asyncComputed:{form:{default:[],get(){return this.$fluro.content.type(this.type)}}},methods:{validate(){this.errorMessages=U.a.get(this.$refs,"form.errorMessages")},clear(){this.reset()},reset(){this.$set(this.model,"data",{}),this.state="ready",this.$emit("reset")},submit(){var e=this;e.validate(),e.state="processing",e.$fluro.content.submitPost(this.target,this.type,this.model).then((function(t){e.$emit("created",t),e.$emit("success",t),e.reset()}),(function(t){e.$fluro.error(t),e.state="error",e.$emit("error",t),e.serverErrors=e.$fluro.utils.errorMessage(t)}))}}},Xr=(i(430),Object(a.a)(Jr,Gr,[],!1,null,"44c8f1f5",null));Xr.options.__file="src/components/form/FluroPostForm.vue";var Qr=Xr.exports,Zr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{attrs:{disabled:"processing"==e.state},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[i("fluro-content-form",{ref:"form",attrs:{fields:e.fields},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("div",{staticClass:"actions"},["processing"==e.state?[i("v-btn",{staticClass:"mx-0",attrs:{disabled:!0}},[e._v("\n                Processing\n                "),i("v-progress-circular",{attrs:{indeterminate:""}})],1)]:"error"==e.state?[i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                "+e._s(e.serverErrors)+"\n            ")]),e._v(" "),i("v-btn",{staticClass:"mx-0",attrs:{color:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.state="ready"}}},[e._v("\n                Try Again\n            ")])]:[e.hasErrors?i("v-alert",{attrs:{value:!0,type:"error",outline:""}},[e._v("\n                Please check the following issues before submitting\n                "),e._l(e.errorMessages,(function(t){return i("div",[i("strong",[e._v(e._s(t.title))]),e._v(": "+e._s(t.messages[0])+"\n                ")])}))],2):e._e(),e._v(" "),e._t("submit",[i("v-btn",{staticClass:"mx-0",attrs:{disabled:e.hasErrors,type:"submit",color:"primary"}},[e._v("\n                    "+e._s(e.submitButtonText)+"\n                ")])],{hasErrors:e.hasErrors})]],2)],1)};Zr._withStripped=!0;var en={props:{method:{type:String,default:"post"},url:{type:String,required:!0},fields:{type:Array,required:!0},submitText:{type:String,default:"Submit"},value:{type:Object,default:()=>({})}},data(){return{model:this.value,state:"ready",serverErrors:"",errorMessages:[]}},components:{FluroContentForm:fi.default},mounted(){var e=this;e.$watch((function(){return _.get(e.$refs,"form.errorMessages")}),e.validate),e.validate()},computed:{submitButtonText(){return this.submitText},hasErrors(){return!!this.errorMessages.length}},methods:{validate(){this.errorMessages=_.get(this.$refs,"form.errorMessages")},clear(){this.reset()},reset(){this.model={},this.state="ready",this.$emit("reset")},submit(){var e,t=this;switch(t.validate(),t.state="processing",String(t.method).toLowerCase()){case"post":e=t.$fluro.api.post;break;case"put":e=t.$fluro.api.put;break;default:return}e(this.url,this.model).then((function(e){t.$emit("success",e.data),t.reset()}),(function(e){t.$fluro.error(e),t.state="error",t.$emit("error",e),t.serverErrors=t.$fluro.utils.errorMessage(e)}))}}},tn=Object(a.a)(en,Zr,[],!1,null,null,null);tn.options.__file="src/components/form/FluroBasicForm.vue";var rn=tn.exports,nn=i(194),an=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"fluro-post-thread"},[e._l(e.model,(function(t){return[e._t("post",null,{post:t})]}))],2)};an._withStripped=!0;var on={props:{value:{type:Array}},data(){return{model:this.value}},computed:{...Object(Hr.mapFields)("fluro",["application","user"])},watch:{value(e){this.model=e},model(){this.$emit("input",this.model)}}},sn=(i(434),Object(a.a)(on,an,[],!1,null,"33311dfb",null));sn.options.__file="src/components/form/FluroPostThread.vue";var ln=sn.exports,cn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"fluro-stat-toggle"},[e._t("default",[i("a",{class:{active:e.statted},on:{click:e.toggle}},[e._v(e._s(e.readable))])],{statting:e.statting,toggle:e.toggle,increment:e.increment,decrement:e.decrement,statted:e.statted,store:e.store})],2)};cn._withStripped=!0;var un={props:{target:{type:[String,Object],required:!0},stat:{type:String,required:!0}},watch:{target:"reset",stat:"reset"},data(){return{store:this.$fluro.stats.getUserStore(this.stat,!0),statting:!1,statted:!1}},created(){this.reset()},methods:{reset(){this.store&&this.store.removeEventListener("change",this.update),this.statted=this.store.isStatted(this.targetID),this.statting=this.store.isStatting(this.targetID),this.store.addEventListener("change",this.update),this.store.refresh()},update(){this.statting=this.store.isStatting(this.targetID),this.statted=this.store.isStatted(this.targetID)},toggle(){var e=this;e.statting=!0,e.store.toggle(e.targetID).then((function(t){e.statted=e.store.isStatted(e.targetID),e.statting=!1,e.$emit("statted",t.data)})).catch((function(t){e.statting=!1,e.statted=e.store.isStatted(e.targetID)||!1}))},increment(){},decrement(){}},beforeDestroy(){this.store.removeEventListener("change",this.update)},computed:{pastTense(){return U.a.endsWith(this.stat,"e")?this.stat+"d":this.stat+"ed"},readable(){return this.statting?"processing":this.statted?this.pastTense:this.stat},targetID(){return this.$fluro.utils.getStringID(this.target)}}},dn=Object(a.a)(un,cn,[],!1,null,"111ebed4",null);dn.options.__file="src/components/FluroStatToggle.vue";var pn=dn.exports,fn=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"fluro-stat-total"},[this._t("default",[this._v("\n        "+this._s(this.total)+"\n    ")],{processing:this.processing,total:this.total,store:this.store})],2)};fn._withStripped=!0;var mn={props:{target:{type:[String,Object],required:!0},stat:{type:String,required:!0},unique:{type:Boolean,default:!1}},data:()=>({store:null,processing:!1,total:0}),watch:{target:"reset",stat:"reset",unique:"reset"},created(){this.reset()},methods:{reset(){this.store&&this.store.removeEventListener("change",this.update),this.store=this.$fluro.stats.getStore(this.stat,this.targetID,this.unique),this.total=this.store.total,this.processing=this.store.processing,this.store.addEventListener("change",this.update)},update(){this.total=this.store.total,this.processing=this.store.processing}},beforeDestroy(){this.store.removeEventListener("change",this.update)},computed:{targetID(){return this.$fluro.utils.getStringID(this.target)}}},hn=Object(a.a)(mn,fn,[],!1,null,"114433f4",null);hn.options.__file="src/components/FluroStatTotal.vue";var vn=hn.exports,gn=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"fluro-card"},[this._t("default")],2)};gn._withStripped=!0;i(436);var bn=Object(a.a)({},gn,[],!1,null,null,null);bn.options.__file="src/components/ui/card/FluroCard.vue";var yn=bn.exports,_n=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"fluro-card-body"},[this._t("default")],2)};_n._withStripped=!0;i(438);var xn=Object(a.a)({},_n,[],!1,null,null,null);xn.options.__file="src/components/ui/card/FluroCardBody.vue";var kn=xn.exports,wn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"fluro-card-title"},[this._t("default")],2)};wn._withStripped=!0;i(440);var Cn=Object(a.a)({},wn,[],!1,null,null,null);Cn.options.__file="src/components/ui/card/FluroCardTitle.vue";var Sn=Cn.exports,$n=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"fluro-panel"},[this._t("default")],2)};$n._withStripped=!0;i(442);var Dn=Object(a.a)({},$n,[],!1,null,null,null);Dn.options.__file="src/components/ui/panel/FluroPanel.vue";var Mn=Dn.exports,Pn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"fluro-panel-body"},[this._t("default")],2)};Pn._withStripped=!0;i(444);var On=Object(a.a)({},Pn,[],!1,null,null,null);On.options.__file="src/components/ui/panel/FluroPanelBody.vue";var Fn=On.exports,Tn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"fluro-panel-title"},[this._t("default")],2)};Tn._withStripped=!0;i(446);var En=Object(a.a)({},Tn,[],!1,null,null,null);En.options.__file="src/components/ui/panel/FluroPanelTitle.vue";var jn=En.exports,Nn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"flex-column"},[this._t("default")],2)};Nn._withStripped=!0;var An={},In=(i(448),Object(a.a)(An,Nn,[],!1,null,null,null));In.options.__file="src/components/ui/FlexColumn.vue";var Ln=In.exports,Rn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"flex-row"},[this._t("default")],2)};Rn._withStripped=!0;var Vn={},Bn=(i(450),Object(a.a)(Vn,Rn,[],!1,null,null,null));Bn.options.__file="src/components/ui/FlexRow.vue";var qn=Bn.exports,zn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"flex-column-header"},[this._t("default")],2)};zn._withStripped=!0;var Un={},Yn=(i(452),Object(a.a)(Un,zn,[],!1,null,null,null));Yn.options.__file="src/components/ui/FlexColumnHeader.vue";var Kn=Yn.exports,Wn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"flex-column-body"},[this._t("default")],2)};Wn._withStripped=!0;var Gn={},Hn=(i(454),Object(a.a)(Gn,Wn,[],!1,null,null,null));Hn.options.__file="src/components/ui/FlexColumnBody.vue";var Jn=Hn.exports,Xn=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"flex-column-footer"},[this._t("default")],2)};Xn._withStripped=!0;var Qn={},Zn=(i(456),Object(a.a)(Qn,Xn,[],!1,null,null,null));Zn.options.__file="src/components/ui/FlexColumnFooter.vue";var ea=Zn.exports,ta=i(46),ia=i(47),ra=i(168),na=i(169),aa=i(181),oa=i(177),sa=i(75),la={props:{initPage:{type:[Number,String],default:1},pageSize:{type:Number,default:50}},data(){return console.log("INITIAL PAGE IS",this.initPage),{page:[],perPage:this.pageSize,currentPage:parseInt(this.initPage)}},filters:{numberWithCommas:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},methods:{setPage(e){if(this.currentPage!=e){console.log("SET PAGE NUMBER",e),this.currentPage=e;var t=this.$refs.top;t&&t.scrollIntoView({}),this.$emit("page",e)}},firstPage(){this.currentPage=1},lastPage(){this.currentPage=this.totalPages},nextPage(){console.log("PAGES",this.currentPage,this.totalPages),this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage(){this.page&&this.page.length&&this.selectionController&&this.selectionController.selectMultiple(this.page)},deselectPage(){this.page&&this.page.length&&this.selectionController&&this.selectionController.deselectMultiple(this.page)},selectAll(){this.selectionController&&this.selectionController.selectMultiple(this.rows)},deselectAll(){this.selectionController&&this.selectionController.deselectAll()}},computed:{previousPageDisabled(){return this.currentPage<=1},nextPageDisabled(){return this.currentPage==this.totalPages},filteredTotal(){return this.rows.length},availablePages(){return _.chunk(this.rows,this.perPage)},startOffset(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},totalPages(){return this.availablePages?this.availablePages.length:0}}},ca=i(176);console.log("fluro-vue-ui 2.0.80");const ua={install:function(e,t){var i=e.prototype.$fluro;i.global.modals=[],i.modal=function(e){return new Promise((function(t,r){e.modalID=i.global.modals.length,e.resolve=t,e.reject=r,i.global.modals.splice(e.modalID,0,e)}))},i.options=function(e,t,r){return i.modal({component:di.a,options:{title:t,description:r,options:e}})},i.prompt=function(e,t,r){return i.modal({component:vi,options:{title:t,fields:e,model:r}})},i.confirm=function(e,t,r){return r||(r={}),r.title=e,r.description=t,i.modal({component:xi,options:r})},i.closeModal=function(e){var t=_.find(i.global.modals,{modalID:e}),r=_.findIndex(i.global.modals,t);i.global.modals.splice(r,1)},e.mixin(bi.a),e.component("fluro-icon",pr),e.component("fluro-realm-dots",fr.a),e.component("fluro-realm-tags",gr),e.component("fluro-realm-bar",wi.default),e.component("fluro-status-label",br.a),e.component("fluro-avatar",c.default),e.component("fluro-image",s),e.component("fluro-list-item",$i),e.component("fluro-toggle-item",ci.a),e.component("fluro-video",F),e.component("fluro-video-thumbnail",N),e.component("fluro-page-preloader",nr),e.component("flex-row",qn),e.component("flex-column",Ln),e.component("flex-column-body",Jn),e.component("flex-column-header",Kn),e.component("flex-column-footer",ea)}};t.default=ua},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=vuedraggable}]);