(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{780:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-currency-field",{attrs:{prefix:e.prefix,suffix:e.suffix,label:e.label,required:e.required,autofocus:e.autofocus,outline:e.outline,success:e.success,"error-messages":e.errorMessages,"persistent-hint":e.persistentHint,hint:e.hint,placeholder:e.placeholder,min:e.min,max:e.max},on:{blur:e.blur},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)};r._withStripped=!0;var i=n(7),u=n.n(i);
/*!
 * v-currency-field v3.0.7 
 * (c) 2020 Philipe Augusto <phiny1@gmail.com>
 * Released under the MIT License.
 */
function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e,t,n){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)},s=function(e,t){return e.substring(0,t.length)===t},m=function(e,t){return t&&s(e,t)?e.substr(t.length):e},d=function(e,t){var n=t.prefix,r=t.suffix,i=e.replace(n,"").replace(r,"");return{value:m(i,"-"),negative:s(i,"-")}},p=function(e){return e.match(/^-?\d+(\.\d+)?$/)},g=function(e){var t=e.format(123456),n=e.format(-1),r=(t.match(/0/g)||[]).length,i=r>0?t.substr(t.indexOf("6")+1,1):null;return{prefix:t.substring(0,t.indexOf("1")),negativePrefix:n.substring(0,n.indexOf("1")),suffix:t.substring(t.lastIndexOf(r>0?"0":"6")+1),groupingSymbol:t.substr(t.indexOf("3")+1,1),decimalSymbol:i,decimalLength:r}};var v=function(e){return e.replace(/^0+(0$|[^0])/,"$1")},h=function(e){return e.replace(/\D+/g,"")},y=function(e,t){return(e.match(new RegExp("\\"+t,"g"))||[]).length},b=function(e,t){return e.substring(e.length-t.length,e.length)===t},x=function(e,t){return e.substring(0,t.length)===t},S=function(e,t){return t&&x(e,t)?e.substr(t.length):e},$=function(e,t){var n=t.prefix,r=t.suffix,i=e.replace(n,"").replace(r,"");return{value:S(i,"-"),negative:x(i,"-")}},w=function(e){return e.match(/^-?\d+(\.\d+)?$/)};function O(e,t){void 0===t&&(t={});var n=t.prefix,r=t.suffix,i=t.groupingSymbol,u=t.decimalSymbol;if("number"==typeof e)return e;if(e&&"string"==typeof e){if(w(e))return Number(e);var o=$(e,{prefix:n,suffix:r}),l=o.value,a=o.negative,c=l.split(u);if(c.length>2)return null;var f=c[0].replace(new RegExp("\\"+i,"g"),"");if(f.length&&!f.match(/^\d+$/g))return null;var s=f;if(2===c.length){var m=c[1];if(m.length&&!m.match(/^\d+$/g))return null;s+="."+m}if(s)return a&&(s="-"+s),Number(s)}return null}var V={locale:void 0,currency:"EUR",distractionFree:!0,decimalLength:void 0,autoDecimalMode:!1,min:null,max:null},D=function(e,t){return e.setSelectionRange(t,t)},F=function(e,t,n){var r=e.$ci.currencyFormat,i=r.prefix,u=r.suffix,o=r.decimalSymbol,l=r.decimalLength,a=r.groupingSymbol,c=e.value,f=t.indexOf(o)+1,s=t.length-n;return Math.abs(c.length-t.length)>1&&n<=f?c.indexOf(o)+1:c.substr(n,1)===a&&y(c,a)===y(t,a)+1?c.length-s-1:(!e.$ci.options.autoDecimalMode&&0!==f&&n>f&&h(function(e,t){return t&&b(e,t)?e.slice(0,-1*t.length):e}(t.substr(f),u)).length-1===l&&(s-=1),e.$ci.options.hideCurrencySymbol?c.length-s:Math.max(c.length-Math.max(s,u.length),0===i.length?0:i.length+1))},E=function(e,t){var n=t.decimalSymbol,r=t.groupingSymbol,i=e.split(n);return b(e,n)&&2===i.length&&function(e,t){return e.match(new RegExp("^-?(0|[1-9]\\d{0,2}(\\"+t+"?\\d{3})*)$"))}(i[0],r)};function N(e,t,n,r){if(void 0===r&&(r=""),"string"==typeof e){if(e=e.trim(),n.autoDecimalMode)return function(e,t,n){var r=n.decimalLength;if(""===e)return{conformedValue:""};var i=x(e,"-"),u="-"===e?Number(-0):Number((i?"-":"")+v(h(e)))/Math.pow(10,r);return{conformedValue:u,fractionDigits:u.toFixed(r).slice(-r)}}(e,0,t);var i=$(e,t),u=i.value,o=i.negative,l=function(e,t,n,r){var i=r.prefix,u=r.negativePrefix,o=r.suffix,l=r.decimalSymbol,a=r.decimalLength;if(""===e&&t&&n!==u)return""+u+o;if(a>0){if(E(e,r))return""+(t?u:i)+e+o;if(x(e,l))return(t?u:i)+"0"+l+h(e.substr(1)).substr(0,a)+o}return null}(u,o,r,t);if(null!=l)return{conformedValue:l};var a=u.split(t.decimalSymbol),c=a[0],f=a.slice(1),s=v(h(c)),m=h(f.join("")).substr(0,t.decimalLength);if(function(e,t){return e.length>0&&0===t}(f,m.length))return{conformedValue:r};var d=s;return o&&(d="-"+d),w(d)?{conformedValue:Number(d+"."+m),fractionDigits:m}:"-"===d&&r!==t.negativePrefix?{conformedValue:r}:{conformedValue:""}}return{conformedValue:r}}var _=function(e,t,n){var r="input"===e.tagName.toLowerCase()?e:e.querySelector("input");if(!r)throw new Error("No input element found");var i=Object.assign({},n,t),u=i.min,l=i.max,a=i.decimalLength,c=i.distractionFree,f=i.autoDecimalMode;if(i.hideCurrencySymbol=null==i.currency||!0===c||c.hideCurrencySymbol,i.hideNegligibleDecimalDigits=!f&&(!0===c||c.hideNegligibleDecimalDigits),i.hideGroupingSymbol=!0===c||c.hideGroupingSymbol,null!=u&&null!=l&&u>l)throw new Error("Invalid value range");if(a<0||a>20)throw new Error("Decimal length must be between 0 and 20");var s,m,d,p=(m=(s=i).locale,null==(d=s.currency)?g(new Intl.NumberFormat(m,{minimumFractionDigits:2})):"object"===o(d)?Object.assign({},g(new Intl.NumberFormat(m,{minimumFractionDigits:2})),{prefix:d.prefix||"",negativePrefix:"-"+(d.prefix||""),suffix:d.suffix||""}):g(new Intl.NumberFormat(m,{style:"currency",currency:d})));return p.decimalLength>0&&void 0!==a&&(p.decimalLength=a),r.$ci=Object.assign({},r.$ci||{},{options:i,currencyFormat:p,decimalFormat:Object.assign({},p,{prefix:"",negativePrefix:"-",suffix:""})}),r},C=function(e,t){var n=e.$ci,r=n.options,i=r.min,u=r.max,o=r.locale,l=n.currencyFormat.decimalLength;null!=t&&(null!=i&&t<i&&(t=i),null!=u&&t>u&&(t=u),t=new Intl.NumberFormat(o,{minimumFractionDigits:l,maximumFractionDigits:l}).format(t)),M(e,t)},L=function(e,t,n){if(void 0===n&&(n=!1),null!=t){var r=e.$ci,i=r.options,u=r.decimalFormat,o=r.currencyFormat,l=r.focus,a=r.previousConformedValue,c=l&&i.hideCurrencySymbol?u:o,f=N(t,c,i,a),s=f.conformedValue,m=f.fractionDigits;if("number"==typeof s){var d=new Intl.NumberFormat(i.locale,{useGrouping:!(l&&i.hideGroupingSymbol),minimumFractionDigits:n?i.hideNegligibleDecimalDigits?m.replace(/0+$/,"").length:o.decimalLength:m.length}).format(Math.abs(s)),p=0===s&&1/s<0;e.value=""+(p||s<0?c.negativePrefix:c.prefix)+d+c.suffix,e.$ci.numberValue=s}else e.value=s,e.$ci.numberValue=O(e.value,c)}else e.value=e.$ci.numberValue=null;e.$ci.previousConformedValue=e.value},M=function(e,t){L(e,t),function(e,t,n){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}(e,"format-complete",{numberValue:e.$ci.numberValue})},j=function(e){e.addEventListener("input",(function(){var t=e.value,n=e.selectionStart;M(e,t),e.$ci.focus&&D(e,F(e,t,n))}),{capture:!0}),e.addEventListener("format",(function(t){var n=t.detail;e.$ci.focus||C(e,n.value)})),e.addEventListener("focus",(function(){e.$ci.focus=!0;var t=e.$ci,n=t.currencyFormat,r=t.options,i=r.distractionFree,u=r.hideCurrencySymbol,o=r.hideGroupingSymbol,l=r.hideNegligibleDecimalDigits;(!0===i||u||o||l)&&setTimeout((function(){var t=e.value,i=e.selectionStart,u=e.selectionEnd;L(e,e.value,!0),Math.abs(i-u)>0?e.setSelectionRange(0,e.value.length):D(e,function(e,t,n,r){var i=e.prefix,u=e.groupingSymbol,o=t.hideCurrencySymbol,l=t.hideGroupingSymbol,a=r;return o&&(a-=i.length),l&&(a-=y(n.substring(0,r),u)),Math.max(0,a)}(n,r,t,i))}))})),e.addEventListener("blur",(function(){e.$ci.focus=!1,C(e,e.$ci.numberValue)}))},P={locale:void 0,decimalLength:2,autoDecimalMode:!0,min:null,max:null,defaultValue:0};var I=function(e,t,n,r,i,u,o,l,a,c){"boolean"!=typeof o&&(a=l,l=o,o=!1);var f,s="function"==typeof n?n.options:n;if(e&&e.render&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,i&&(s.functional=!0)),r&&(s._scopeId=r),u?(f=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(u)},s._ssrRegister=f):t&&(f=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),f)if(s.functional){var m=s.render;s.render=function(e,t){return f.call(t),m(e,t)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,f):[f]}return n}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",e._g(e._b({directives:[{name:"currency-directive",rawName:"v-currency-directive",value:{currency:e.currency,locale:e.locale,distractionFree:e.distractionFree,decimalLength:e.decimalLength,autoDecimalMode:e.decimalMode,min:e.min,max:e.max},expression:"{currency, locale, distractionFree, decimalLength, autoDecimalMode: decimalMode, min, max}"}],ref:"textfield",attrs:{type:"tel"},model:{value:e.formattedValue,callback:function(t){e.formattedValue=t},expression:"formattedValue"}},"v-text-field",e.attrs,!1),e.listeners()))},staticRenderFns:[]},void 0,{name:"VCurrencyField",props:{value:{type:[Number,String],default:function(){return P.defaultValue}},locale:{type:String,default:function(){return P.locale}},decimalLength:{type:Number,default:function(){return P.decimalLength}},autoDecimalMode:{type:Boolean,default:function(){return P.autoDecimalMode}},min:{type:Number,default:function(){return P.min}},max:{type:Number,default:function(){return P.max}},defaultValue:{type:Number,default:function(){return P.defaultValue}}},directives:{CurrencyDirective:{bind:function(e,t,n){var r=t.value,i=n.context,o=_(e,r,i.$CI_DEFAULT_OPTIONS||V);u.a.nextTick((function(){o.value&&C(o,O(o.value,o.$ci.currencyFormat))})),j(o)},componentUpdated:function(e,t,n){var r=t.value,i=t.oldValue,u=n.context;if(r&&Object.keys(V).some((function(e){return i[e]!==r[e]}))){var o=_(e,r,u.$CI_DEFAULT_OPTIONS||V);C(o,o.$ci.numberValue)}}}},data:function(){return{currency:null,formattedValue:this.value}},mounted:function(){this.$refs.textfield.resetValidation()},computed:{attrs:function(){var e=this.$attrs,t=(e.value,c(e,["value"]));return t},distractionFree:function(){return this.decimalLength>0&&!this.autoDecimalMode},decimalMode:function(){return this.decimalLength>0&&this.autoDecimalMode}},watch:{value:function(e){f(this.$el.querySelector("input"),"format",{value:e})}},methods:{listeners:function(){var e=this,t=this.$listeners,n=(t.input,c(t,["input"]));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{"format-complete":function(t){var n=t.detail;null===n.numberValue&&null!==e.defaultValue&&!1===e.$el.querySelector("input").$ci.focus&&(n.numberValue=e.defaultValue,f(e.$el.querySelector("input"),"format",{value:e.defaultValue})),e.$emit("input",n.numberValue),e.formattedValue=e.$el.querySelector("input").value},keyup:function(t){if("-"===t.key||"+"===t.key){var n=d(e.$el.querySelector("input").value,{prefix:"",suffix:""}),r=n.value,i=n.negative,u=r.split(e.$el.querySelector("input").$ci.currencyFormat.decimalSymbol),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=t.suffix,i=t.groupingSymbol,u=t.decimalSymbol;if("number"==typeof e)return e;if(e&&"string"==typeof e){if(p(e))return Number(e);var o=d(e,{prefix:n,suffix:r}),l=o.value,a=o.negative,c=l.split(u);if(c.length>2)return null;var f=c[0].replace(new RegExp("\\".concat(i),"g"),"");if(f.length&&!f.match(/^\d+$/g))return null;var s=f;if(2===c.length){var m=c[1];if(m.length&&!m.match(/^\d+$/g))return null;s+=".".concat(m)}if(s)return a&&(s="-".concat(s)),Number(s)}return null}(r,e.$el.querySelector("input").$ci.currencyFormat),l=null;if(2===u.length){var a=u[1];l=new Intl.NumberFormat(e.locale,{minimumFractionDigits:a.length,maximumFractionDigits:a.length}).format(o)}var c=l||o;"-"!==t.key||i||null===c||(e.$el.querySelector("input").value="-".concat(c),f(e.$el.querySelector("input"),"input")),"+"===t.key&&i&&null!==c&&(e.$el.querySelector("input").value="".concat(c),f(e.$el.querySelector("input"),"input"))}}})}}},void 0,!1,void 0,void 0,void 0);function q(e,t){t&&Object.keys(t).map((function(e){P[e]=t[e]})),e.component("v-currency-field",I)}"undefined"!=typeof window&&window.Vue&&window.Vue.use(q);var k={methods:{blur(e){this.$emit("blur",e)}},components:{VCurrencyField:I},props:{currency:{type:String,default:"USD"},hint:{type:String},placeholder:{type:String},persistentHint:{type:Boolean},errorMessages:{type:Array},label:{type:String},required:{type:Boolean},success:{type:Boolean},autofocus:{type:Boolean},outline:{type:Boolean},outline:{type:Boolean},hideSuffix:{type:Boolean},value:{type:Number,default:()=>0},min:{type:Number,default:()=>0},max:{type:Number}},computed:{prefix(){return this.$fluro.utils.currencySymbol(this.currency)},suffix(){if(!this.hideSuffix)return String(this.currency||"").toUpperCase()}},data(){return{model:this.value/100}},watch:{model(e){e=parseInt(e),e=Math.max(e,0),e*=100,console.log("Input changed",e),this.$emit("input",e)}}},R=n(0),T=Object(R.a)(k,r,[],!1,null,null,null);T.options.__file="src/components/form/FluroCurrencyInput.vue";t.default=T.exports}}]);