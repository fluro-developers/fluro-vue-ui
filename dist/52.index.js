(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1076:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flex-column",["group"==e.model.type?i("tabset",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[i("tab",{attrs:{heading:"Group Settings"}},[i("flex-column-body",[i("v-container",[i("fluro-content-form-field",{ref:"grouptitle",attrs:{field:e.fields.title},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showKey,expression:"showKey"}]},[i("fluro-content-form-field",{attrs:{field:e.fields.key},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),e.editingKey?e._e():i("div",{staticClass:"key-preview",on:{click:function(t){e.editingKey=!0}}},[i("fluro-icon",{attrs:{icon:"pencil"}}),e._v(" key: "+e._s(e.model.key)+"\n                    ")],1),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.asObject},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),e.model.asObject?e._e():[i("fluro-content-form-field",{attrs:{field:e.fields.sameLine},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],e._v(" "),e.model.asObject?i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.groupMinimum},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.groupMaximum},on:{input:function(t){return e.resetRequired(e.fields.groupMaximum)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.askCount},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1):e._e(),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.className},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],2)],1)],1),e._v(" "),i("tab",{attrs:{heading:"Expressions"}},[i("flex-column-body",[i("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[i("label",[i("strong",[e._v("Expressions and Logic")])]),e._v(" "),i("div",{staticClass:"sm muted"},[e._v("Expressions are short pieces of javascript that can be used to alter the properties of this field depending on changes made in other fields")]),e._v(" "),i("v-btn",{staticClass:"ml-0",attrs:{small:"",href:"https://support.fluro.io/kb/advanced-form-expressions-guide",target:"_blank"}},[e._v("\n                        Click here for more information\n                        "),i("fluro-icon",{attrs:{icon:"external-link",right:""}})],1)],1),e._v(" "),i("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[i("label",[i("strong",[e._v("Variables")])]),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs3:""}},[i("strong",[e._v("data")])]),e._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The root level model for the entire form, useful for absolute paths.")])],1),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs3:""}},[i("strong",[e._v("model")])]),e._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The immediate model this field is attached to. Useful for relative paths")])],1)],1),e._v(" "),i("v-container",[[i("div",{staticClass:"expression-group",class:{active:e.model.hideExpression}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Hide group if",hint:"Hide this group if this expression returns true ","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.hideExpression,callback:function(t){e.$set(e.model,"hideExpression",t)},expression:"model.hideExpression"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.hideExpression,callback:function(t){e.$set(e.popup,"hideExpression",t)},expression:"popup.hideExpression"}},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"hideExpression")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1)]],2)],1)],1)],1):i("tabset",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[i("tab",{attrs:{heading:"Field Settings"}},[i("flex-column-body",{ref:"scrollbox"},[i("v-container",[i("fluro-content-form-field",{ref:"title",attrs:{field:e.fields.title},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showKey,expression:"showKey"}]},[i("fluro-content-form-field",{attrs:{field:e.fields.key},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),e.editingKey?e._e():i("div",{staticClass:"key-preview",on:{click:function(t){e.editingKey=!0}}},[i("fluro-icon",{attrs:{icon:"pencil"}}),e._v(" key: "+e._s(e.model.key)+"\n                    ")],1),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.type},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),"reference"==e.model.type?i("fluro-content-form-field",{attrs:{field:e.fields.referenceType},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}):e._e(),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.directive},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),"currency"==e.model.directive?i("fluro-content-form-field",{attrs:{field:e.fields.currency},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}):e._e(),e._v(" "),"void"!=e.model.type?i("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.minimum},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.maximum},on:{input:function(t){return e.resetRequired(e.fields.maximum)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),"embedded"==e.model.directive?[i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.askCount},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:e._e()],2)],1):e._e(),e._v(" "),e.isNumeric?i("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.minValue},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.maxValue},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1)],1):e._e(),e._v(" "),e.isDate?i("v-container",{staticClass:"grid-list-xl",attrs:{"pa-0":"",fluid:""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.minDate},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-flex",{attrs:{xs6:""}},[i("fluro-content-form-field",{attrs:{field:e.fields.maxDate},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1)],1):e._e(),e._v(" "),e.showDescription?i("fluro-content-form-field",{attrs:{field:e.fields.description},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),e.showPlaceholder?i("fluro-content-form-field",{attrs:{field:e.fields.placeholder},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),"code"==e.model.directive?[i("fluro-content-form-field",{attrs:{field:e.fields.syntax},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]:e._e(),e._v(" "),"custom"==e.model.directive?[i("fluro-content-form-field",{attrs:{field:e.fields.template},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:[e.requiresOptions?[e.advancedOptions?[i("v-input",{staticClass:"no-flex",attrs:{label:"Selectable Options"}},[i("options-manager",{model:{value:e.model.options,callback:function(t){e.$set(e.model,"options",t)},expression:"model.options"}})],1)]:[i("fluro-content-form-field",{attrs:{field:e.fields.allowedValues},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("div",{staticClass:"sm muted",on:{click:function(t){e.showAdvancedOptions=!0}}},[e._v("Show advanced labelling options")])]]:e._e(),e._v(" "),"embedded"!=e.model.directive?["reference"==e.model.type?[i("fluro-content-form-field",{attrs:{field:e.fields.allowedReferences},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.defaultReferences},on:{input:function(t){return e.resetRequired(e.fields.defaultReferences)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:["wysiwyg"==e.model.directive?[i("fluro-content-form-field",{attrs:{field:e.fields.wysiwygDefaultValues},on:{input:function(t){return e.resetRequired(e.fields.wysiwygDefaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:"code"==e.model.directive?[i("fluro-content-form-field",{attrs:{field:e.fields.codeDefaultValues},on:{input:function(t){return e.resetRequired(e.fields.codeDefaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]:[i("fluro-content-form-field",{attrs:{field:e.fields.defaultValues},on:{input:function(t){return e.resetRequired(e.fields.defaultValues)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})]]]:e._e(),e._v(" "),"embedded"==e.model.directive&&"contact"==e.restrictType?i("fluro-panel",[i("fluro-panel-title",[i("strong",[e._v(e._s(e._f("definitionTitle")(e.restrictType))+" Options")])]),e._v(" "),i("fluro-panel-body",[i("fluro-content-form-field",{attrs:{field:e.fields.targetRealms},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("v-input",{staticClass:"no-flex"},[i("v-label",[e._v("Add fields from Detail Sheets")]),e._v(" "),i("div",{staticClass:"sm muted"},[e._v("Add other pre-defined fields to this contact")]),e._v(" "),i("v-btn",{staticClass:"ma-0",attrs:{loading:e.loadingFields},on:{click:e.selectDetailSheetFields}},[e._v("Select Fields")])],1),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetHouseholdRole},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetDefinition},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetTeams},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetProcesses},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetTags},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetCapabilities},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.targetReactions},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1)],1):e._e(),e._v(" "),"embedded"==e.model.directive&&"contact"==e.restrictType?i("fluro-panel",[i("fluro-panel-title",[i("strong",[e._v("Ticketing")])]),e._v(" "),i("fluro-panel-body",[i("fluro-content-form",{attrs:{fields:e.ticketingFields},scopedSlots:e._u([{key:"form",fn:function(t){t.formFields;var s=t.fieldHash,l=t.model;t.update,t.options;return[i("fluro-content-form-field",{attrs:{field:s.enabled},model:{value:l,callback:function(e){l=e},expression:"model"}}),e._v(" "),e.ticketingEnabled?[e.ticketingManager?i(e.ticketingManager,{ref:"ticketingManager",tag:"component",attrs:{field:e.field},model:{value:l.events,callback:function(t){e.$set(l,"events",t)},expression:"model.events"}}):e._e()]:e._e()]}}],null,!1,2834436234),model:{value:e.model.params.ticketing,callback:function(t){e.$set(e.model.params,"ticketing",t)},expression:"model.params.ticketing"}})],1)],1):e._e(),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.errorMessage},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.className},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("fluro-content-form-field",{attrs:{field:e.fields.officeUseOnly},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})]],2)],1)],1),e._v(" "),i("tab",{attrs:{heading:"Expressions"}},[i("flex-column-body",[i("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[i("label",[i("strong",[e._v("Expressions and Logic")])]),e._v(" "),i("div",{staticClass:"sm muted"},[e._v("Expressions are short pieces of javascript that can be used to alter the properties of this field depending on changes made in other fields")]),e._v(" "),i("v-btn",{staticClass:"ml-0",attrs:{small:"",href:"https://support.fluro.io/kb/advanced-form-expressions-guide",target:"_blank"}},[e._v("\n                        Click here for more information\n                        "),i("fluro-icon",{attrs:{icon:"external-link",right:""}})],1)],1),e._v(" "),i("v-container",{staticClass:"border-bottom",staticStyle:{background:"#fff"}},[i("label",[i("strong",[e._v("Variables")])]),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs3:""}},[i("strong",[e._v("data")])]),e._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The root level model for the entire form, useful for absolute paths.")])],1),e._v(" "),i("v-layout",[i("v-flex",{attrs:{xs3:""}},[i("strong",[e._v("model")])]),e._v(" "),i("v-flex",{staticClass:"sm muted",attrs:{xs9:""}},[e._v("The immediate model this field is attached to. Useful for relative paths")])],1)],1),e._v(" "),i("v-container",[i("div",{staticClass:"expression-group",class:{active:e.model.expressions.show}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Show this field if",hint:"Show this field only if this expression returns true ","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.expressions.show,callback:function(t){e.$set(e.model.expressions,"show",t)},expression:"model.expressions.show"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}])},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"show")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"expression-group",class:{active:e.model.expressions.hide}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Hide this field if",hint:"Hide this field if this expression returns true ","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.expressions.hide,callback:function(t){e.$set(e.model.expressions,"hide",t)},expression:"model.expressions.hide"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}])},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"hide")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1),e._v(" "),e.simpleExpressionEnabled?i("div",{staticClass:"expression-group",class:{active:e.model.expressions.defaultValue}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Set default value to",hint:"Set the default value, (the value before the user changes it) of this field depending on the input of another. ","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.expressions.defaultValue,callback:function(t){e.$set(e.model.expressions,"defaultValue",t)},expression:"model.expressions.defaultValue"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.defaultValue,callback:function(t){e.$set(e.popup,"defaultValue",t)},expression:"popup.defaultValue"}},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"defaultValue")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e(),e._v(" "),e.simpleExpressionEnabled?i("div",{staticClass:"expression-group",class:{active:e.model.expressions.value}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Set value to",hint:"Set the value of this field depending on the input of another","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.expressions.value,callback:function(t){e.$set(e.model.expressions,"value",t)},expression:"model.expressions.value"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.value,callback:function(t){e.$set(e.popup,"value",t)},expression:"popup.value"}},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"value")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e(),e._v(" "),e.simpleExpressionEnabled?i("div",{staticClass:"expression-group",class:{active:e.model.expressions.required}},[i("v-input",{staticClass:"no-flex",attrs:{label:"Require this field if",hint:"Require input for this field if it's visible and this expression returns true ","persistent-hint":!0}},[i("v-layout",[i("v-flex",[i("fluro-expression-editor",{model:{value:e.model.expressions.required,callback:function(t){e.$set(e.model.expressions,"required",t)},expression:"model.expressions.required"}})],1),e._v(" "),i("v-flex",{attrs:{shrink:""}},[i("v-menu",{attrs:{left:!0,top:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({staticClass:"ma-0 ml-1",attrs:{icon:"",small:""}},s),[i("fluro-icon",{attrs:{icon:"bullseye"}})],1)]}}],null,!1,2555211843),model:{value:e.popup.required,callback:function(t){e.$set(e.popup,"required",t)},expression:"popup.required"}},[e._v(" "),i("div",[i("expression-field-select",{attrs:{context:e.model},on:{click:function(t){return e.injectExpression(t,"required")}},model:{value:e.expressionFields,callback:function(t){e.expressionFields=t},expression:"expressionFields"}})],1)])],1)],1)],1)],1):e._e()])],1)],1)],1)],1)};s._withStripped=!0;i(32),i(26),i(12),i(13),i(51);var l=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("pre",[this._v(this._s(this.sheets))])])};l._withStripped=!0;var o={components:{FluroModalMixin:i(28).a},data:function(){return{loading:!0}},asyncComputed:{}},n=i(0),a=Object(n.a)(o,l,[],!1,null,null,null);a.options.__file="src/components/fields/FieldSelectModal.vue";a.exports;var r={components:{FluroContentFormField:function(){return Promise.resolve().then(i.bind(null,58))},FluroContentForm:function(){return Promise.resolve().then(i.bind(null,40))},OptionsManager:function(){return i.e(54).then(i.bind(null,1087))},ExpressionFieldSelect:function(){return i.e(51).then(i.bind(null,1088))},FluroExpressionEditor:function(){return Promise.resolve().then(i.bind(null,404))},FluroInlineEdit:function(){return Promise.resolve().then(i.bind(null,94))}},props:{value:{type:Object},expressionFields:{type:Array},item:{type:Object}},created:function(){},data:function(){var e=this.value;return this.setDefaults(e),{tabIndex:0,model:e,editingKey:!1,showAdvancedOptions:!1,loadingFields:!1,focussed:null,popup:{hide:!1,hideExpression:!1,show:!1,required:!1,value:!1,defaultValue:!1}}},methods:{recursiveGUID:function(e){var t=this;_.each(e,(function(e){e.guid||t.$set(e,"guid",t.$fluro.utils.guid()),t.recursiveGUID(e.fields)}))},setDefaults:function(e){e.params||this.$set(e,"params",{}),e.params.ticketing||this.$set(e.params,"ticketing",{events:[]}),e.params.ticketing.events||this.$set(e.params.ticketing,"events",[]),e.expressions||this.$set(e,"expressions",{})},deleteField:function(){this.$emit("deleted")},selectDetailSheetFields:function(){var e=this;return e.loadingFields=!0,e.$fluro.api.get("/defined/types/contactdetail").then((function(t){e.loadingFields=!1,e.$fluro.options(t.data,"Select detail sheet").then((function(t){t=JSON.parse(JSON.stringify(t));var i=_.find(e.model.fields,{key:"details"});i||(i={title:"Details",type:"group",key:"details",asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},e.model.fields.push(i));var s,l=_.find(i.fields,{key:t.definitionName});l||(l={title:t.title,type:"group",key:t.definitionName,asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},s={title:"Data",type:"group",key:"data",asObject:!0,minimum:1,maximum:1,askCount:1,fields:[],guid:e.$fluro.utils.guid()},l.fields.push(s),i.fields.push(l)),_.each(t.fields,(function(t){_.find(s.fields,{key:t.key})||(t.guid=e.$fluro.utils.guid(),e.recursiveGUID(t.fields),s.fields.push(t))})),e.resetRequired()})).catch(reject)})).catch((function(t){e.loadingFields=!1}))},selectTitle:function(e){var t=this.$refs.scrollbox;t&&t.$el.scrollTo(0,0);var i=this;e&&setTimeout((function(){var e="group"==i.model.type?i.$refs.grouptitle:i.$refs.title;if(e&&e.$el){var t=e.$el.querySelectorAll("input");t&&t[0]&&((t=t[0]).focus(),t.select())}}),10)},injectExpression:function(e,t){this.popup[t]=!1;var i,s=this.model.expressions[t];"hideExpression"==t&&(s=this.model.hideExpression),i=s?"".concat(s," ").concat(e.path):e.path,"hideExpression"==t?this.$set(this.model,"hideExpression",i):this.$set(this.model.expressions,t,i)},resetRequired:function(e){var t=this;t.previousField=e,setTimeout((function(){t.previousField==e&&(console.log("NEEDS RESET!"),t.previousField=!1,t.$emit("reset"))}),100)}},watch:{value:function(e){this.editingKey=!1;var t=e;this.setDefaults(t),this.model=t,this.tabIndex=0,this.selectTitle(!this.model.title)}},mounted:function(){var e=this;setTimeout((function(){e.selectTitle(!e.model.title)}),100)},asyncComputed:{referenceOptions:{default:[],get:function(){var e=this;return new Promise((function(t,i){e.$fluro.types.terms().then((function(e){var i=_.chain(e).values().map((function(e){return{name:e.title,title:e.title,value:e.definitionName}})).orderBy("title").value();t(i)})).catch(i)}))}}},computed:{fullPath:function(){return this.model.key},field:function(){return this.model},ticketingEnabled:function(){return this.model&&this.model.params&&this.model.params.ticketing&&this.model.params.ticketing.enabled},ticketingManager:function(){if("reference"==this.model.type&&"contact"==this.restrictType&&this.ticketingEnabled){return function(){return i.e(68).then(i.bind(null,1077))}}},isNumeric:function(){switch(this.model.type){case"float":case"decimal":case"integer":case"number":return!0}},isDate:function(){return"date"==this.model.type},currencyOptions:function(){var e=[];return"AU"==_.get(this.user,"countryCode")&&e.push({name:"AUD (".concat(this.$fluro.utils.currencySymbol("aud"),")"),value:"aud"}),e.push({name:"USD (".concat(this.$fluro.utils.currencySymbol("usd"),")"),value:"usd"}),"AU"!=_.get(this.user,"countryCode")&&e.push({name:"AUD (".concat(this.$fluro.utils.currencySymbol("aud"),")"),value:"aud"}),e.push({name:"GBP (".concat(this.$fluro.utils.currencySymbol("gbp"),")"),value:"gbp"}),e.push({name:"CAD (".concat(this.$fluro.utils.currencySymbol("cad"),")"),value:"cad"}),e},showDescription:function(){switch(this.model.directive){case"embedded":return;default:return!0}},showPlaceholder:function(){switch(this.model.directive){case"custom":case"embedded":return;default:return!0}},showKey:function(){return this.editingKey},advancedOptions:function(){return!(!this.model.options||!this.model.options.length)||this.showAdvancedOptions},simpleExpressionEnabled:function(){return"reference"!=this.model.type&&"group"!=this.model.type},restrictType:function(){return this.model&&this.model.params&&this.model.params.restrictType},requiresOptions:function(){switch(this.model.directive){case"select":case"button-select":case"search-select":case"order-select":return!0}},ticketingFields:function(){var e=[];return function(t,i){i.key||(i.key=t);e.push(i)}("enabled",{title:"Create tickets for this contact",description:"If selected then this contact will be considered a ticketed attendee if an event is specified during the form submission a 'Standard' ticket will be created for each contact created by this field",minimum:0,maximum:1,type:"boolean"}),e},fields:function(){var e=this,t={},i=e.$fluro.types.readable(e.restrictType||"node",!0);r("defaultReferences",{title:"Default References",description:"Select which ".concat(i," should be selected by default"),minimum:0,maximum:e.maximum,type:"reference",params:{searchInheritable:!0,allDefinitions:!0,restrictType:e.restrictType}}),r("allowedValues",{title:"Allowed Options",description:"Add each option that the user may select",minimum:0,maximum:0,type:"string"}),r("allowedReferences",{title:"Allowed References",description:"Select which ".concat(i," may be selected by the user"),minimum:0,maximum:0,type:"reference",params:{searchInheritable:!0,allDefinitions:!0,restrictType:e.restrictType}}),r("wysiwygDefaultValues",{title:1==e.model.maximum?"Default Value":"Default Values",key:"defaultValues",description:"Preselect values for this field",minimum:0,maximum:0,type:"string",directive:"wysiwyg"}),r("codeDefaultValues",{title:"Default Value(s)",key:"defaultValues",description:"add a default value for this field",minimum:0,maximum:0,type:"string",directive:"code",params:{syntax:e.model.params.syntax}}),r("defaultValues",{title:"Default Value(s)",description:"add a default value for this field",minimum:0,maximum:0,type:"string"}),r("errorMessage",{title:"Custom Error Message",description:"Customise the message to display to the user if they enter invalid answers for this field",minimum:0,maximum:1,type:"string"}),r("officeUseOnly",{key:"disableWebform",title:"Office Use Only (Hide from public web forms)",description:"Check this if you want this field to be excluded from public facing webforms",minimum:0,maximum:1,type:"boolean"}),r("syntax",{title:"Code Syntax",minimum:1,maximum:1,type:"string",directive:"select",options:[{title:"JSON",value:"json"},{title:"Javascript",value:"js"},{title:"HTML",value:"html"},{title:"CSS",value:"scss"}]}),r("title",{title:"Title",minimum:1,maximum:1,type:"string"}),r("minimum",{title:"Minimum Answers",description:"Minimum amount of answers that can be provided for this field (Setting this to a number higher than 0 will make this field required)",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),r("maximum",{title:"Max Answers",description:"Maximum amount of answers that can be provided for this field (usually 1 answer is necessary)",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),r("minValue",{title:"Minimum Amount",description:"Minimum amount that can be input",minimum:0,maximum:1,type:e.model.type,directive:e.model.directive||null,params:{currency:e.model.params.currency}}),r("maxValue",{title:"Maximum Amount",description:"Maximum amount that can be input",minimum:0,maximum:1,type:e.model.type,directive:e.model.directive||null,params:{currency:e.model.params.currency}}),r("minDate",{title:"Earliest Date",description:"Earliest date that can be input",minimum:0,maximum:1,type:"date"}),r("maxDate",{title:"Latest Date",description:"Latest date that can be input",minimum:0,maximum:1,type:"date"}),r("groupMinimum",{title:"Minimum",key:"minimum",description:"Minimum amount of entries for this group that can be created",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),r("groupMaximum",{title:"Maximum",key:"maximum",description:"Maximum amount of entries for this group that can be created",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),r("askCount",{title:"Ask Count",description:"How many input groups should be asked for by default",minimum:0,maximum:1,type:"integer",params:{minValue:0}}),r("key",{title:"Database Key",description:"A unique key used to store this field's data in the system",minimum:1,maximum:1,type:"string",expressions:{defaultValue:function(){return _.camelCase(String(e.model.title).replace(/[^a-zA-Z0-9-_]+/g,""))}}}),r("description",{title:"Help /Hint text",description:"An optional description that can add extra detail for users entering data",minimum:0,maximum:1,type:"string"}),r("placeholder",{title:"Placeholder",description:"Faded text that can be displayed inside the field to give a hint as to what the user should type",minimum:0,maximum:1,type:"string"}),r("type",{title:"Data Type",description:"The required kind of input that can be entered into this field",minimum:1,maximum:1,type:"string",directive:"select",options:[{title:"Text (String)",value:"string"},{title:"True / False (Boolean)",value:"boolean"},{title:"Date",value:"date"},{title:"Phone Number",value:"string"},{title:"Email Address",value:"email"},{title:"URL",value:"url"},{title:"Content Reference",value:"reference"},{title:"Number",value:"number"},{title:"Integer (Whole Number)",value:"integer"},{title:"Decimal (Float)",value:"float"},{title:"No value",value:"void"}]}),r("referenceType",{key:"restrictType",title:"Reference Type",description:"Restrict what kind of items can be referenced in this field",minimum:0,maximum:1,type:"string",directive:"select",options:e.referenceOptions}),r("currency",{key:"currency",title:"Currency",description:"Select what currency symbol to display",minimum:0,maximum:1,type:"string",directive:"select",options:e.currencyOptions}),r("placeholder",{title:"Placeholder",description:"Faded text that can be displayed inside the field to give a hint as to what the user should type",minimum:0,maximum:1,type:"string"});var s=[];switch(e.model.type){case"reference":s.push({title:"Reference Select",value:"reference-select"}),s.push({title:"Embedded Form",value:"embedded"}),s.push({title:"File Upload",value:"upload"});break;case"boolean":s.push({title:"Checkbox",value:"input"}),s.push({title:"Terms / Conditions Checkbox",value:"terms"});break;case"string":1!=e.model.maximum?s.push({title:"Multiple Text Field",value:"input"}):s.push({title:"Text Field",value:"input"}),s.push({title:"Text Area",value:"textarea"}),s.push({title:"Rich Text (WYSIWYG)",value:"wysiwyg"}),s.push({title:"Code Editor",value:"code"}),s.push({title:"Select Dropdown",value:"select"}),s.push({title:"Multiple Button Select",value:"button-select"}),s.push({title:"Orderable Select",value:"order-select"}),s.push({title:"Autocomplete Search",value:"search-select"}),s.push({title:"Time Picker",value:"time-select"}),s.push({title:"Color Picker",value:"color"}),s.push({title:"Signature",value:"signature"});break;case"date":s.push({title:"Date Picker",value:"date-select"}),s.push({title:"Date + Time Picker",value:"datetime-select"}),s.push({title:"Age / Birthdate Select",value:"dob-select"});break;case"number":case"integer":case"decimal":case"float":s.push({title:"Number Input",value:"input"}),s.push({title:"Currency Input",value:"currency"});break;default:s.push({title:"Text Input",value:"input"})}"component"==e.item._type&&"string"==e.model.type&&(s.push({title:"Website Builder Menu Select",value:"app-menu-select"}),s.push({title:"Website Builder Page Select",value:"app-page-select"}),s.push({title:"Website Builder Size Select",value:"app-size-select"}),s.push({title:"Website Builder Theme Select",value:"app-theme-select"})),s.push({title:"Hidden Value",value:"value"}),s.push({title:"Custom HTML",value:"custom"}),r("directive",{title:"Input Type",description:"What kind of widget should be provided to the user for input?",minimum:1,maximum:1,type:"string",directive:"select",options:s}),r("asObject",{title:"Group as Sub Object",description:"Treat this group as it's own entity. If not selected this group will be purely for visual layout.",minimum:0,maximum:1,type:"boolean"}),r("sameLine",{title:"Same Line",description:"Attempt to render fields in this group on the same line on larger screens",minimum:0,maximum:1,type:"boolean"}),r("className",{title:"CSS Classes",description:"Add CSS classes to this field",minimum:0,maximum:1,type:"string"}),r("template",{title:"Custom HTML",description:"Custom HTML to be shown for this field",minimum:0,maximum:1,type:"string",directive:"code",params:{syntax:"html"}});var l=e.model.params.restrictType,o=e.$fluro.types.readable(l),n=e.$fluro.types.readable(l,!0),a=_.chain(e.$fluro.glossary).reduce((function(e,t,i){return t.definitionName=i,t.parentType==l&&e.push(t),e}),[]).map((function(e){return{name:e.title,value:e.definitionName}})).orderBy((function(e){return e.title})).value();function r(e,i){i.key||(i.key=e),t[e]=i}return r("targetDefinition",{title:"Definition",description:"Select the definition that should be applied to ".concat(n,"."),minimum:0,maximum:1,type:"reference",expressions:{hide:function(){return!a.length}},params:{restrictType:"realm"}}),r("targetRealms",{title:"Create ".concat(o," in Realms"),description:"Select realms that these ".concat(n," should be created in. If left blank it will default to the same realm as the form submission itself"),minimum:0,maximum:0,type:"reference",directive:"realm-select",params:{restrictType:"realm"}}),r("targetHouseholdRole",{title:"Household Role",description:"Select the household role to add to these ".concat(n),minimum:0,maximum:1,type:"string",directive:"select",options:[{name:"None",value:""},{name:"Parent",value:"parent"},{name:"Child",value:"child"}],expressions:{hide:function(){return"contact"!=l}}}),r("targetCapabilities",{title:"Add Capabilities",description:"Select capabilities that will be added to these ".concat(n,". "),minimum:0,maximum:0,type:"reference",params:{restrictType:"capability"},expressions:{hide:function(){return"contact"!=l}}}),r("targetTeams",{title:"Add to Groups / Teams",description:"Select groups and teams that these ".concat(n," should be created in. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"team"},expressions:{hide:function(){return"contact"!=l}}}),r("targetTags",{title:"Add Tags",description:"Select tags to add to these ".concat(n,". "),minimum:0,maximum:0,type:"reference",params:{restrictType:"tag"}}),r("targetProcesses",{title:"Add to Processes",description:"Select processes that these ".concat(n," should be added in to. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"definition"}}),r("targetReactions",{title:"Trigger Reactions",description:"Select reaction pipelines that these ".concat(n," should be added in to. "),minimum:0,maximum:0,type:"reference",params:{restrictType:"reaction"}}),t}}},d=(i(924),Object(n.a)(r,s,[],!1,null,null,null));d.options.__file="src/components/fields/FluroFieldEdit.vue";t.default=d.exports},829:function(e,t,i){var s=i(925);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(5).default)("106f6544",s,!1,{})},924:function(e,t,i){"use strict";var s=i(829);i.n(s).a},925:function(e,t,i){(e.exports=i(4)(!1)).push([e.i,".key-name{margin-bottom:10px;display:block}.key-name.fade{opacity:0.5}.key{border-radius:3px;background:rgba(0,0,0,0.1);padding:2px;display:block}.input-block{background:#fff;display:block;border:1px solid blue;width:100%}.expression-group{padding:15px 15px;background:rgba(0,0,0,0.05);border-radius:3px;margin-top:16px;border:1px solid transparent}.expression-group.active{background:rgba(240,151,78,0.1);border:1px solid rgba(240,151,78,0.5);color:#f0974e}.key-preview{margin-top:-15px;font-size:0.8em;opacity:0.5}\n",""])}}]);